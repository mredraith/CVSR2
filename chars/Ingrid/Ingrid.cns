
;---------------------------------------------------------------------------
; Standing Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = Time = 0
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -71
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 0)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = 0.58
fall = 0
fall.recover = 1
fall.recovertime = 120
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(4)>=0
movetype = I
[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 210

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,1
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 5
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*63<7, 7, fvar(11)*63)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 98), var(36) := -74
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 1)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 210, Width]
type = Width
trigger1 = animelemtime(5) > 0 && animelemtime(7)<0
value = 15,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Forward Medium Punch
[Statedef 225]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 300+(prevstateno = [200,699])

[State 200, 1]
type = HitDef
triggerall = anim = 300
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 5
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -55
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 14 + 2*var(9)
ground.slidetime = 14 + 2*var(9)
guard.hittime = 14
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 200, 1]
type = HitDef
triggerall = anim = 301
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 5
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -55
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 14 + 2*var(9)
ground.slidetime = 14 + 2*var(9)
guard.hittime = 14
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33


[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1, 1

[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s200, 0

[State 210, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = s0, 2
channel = 0


[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 16

[State 103, Dust]
type=explod
trigger1= animelem = 4
anim=7630
id = 7630
sprpriority=3
postype=p1
bindtime = -1
scale=1,1
pos = 0,0
pausemovetime=-1
ownpal=1
ignorehitpause = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 220

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S200,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 225
ID = 225
pos = 16,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
pausemovetime=-1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, ifelse(var(20), 6, 12)
guard.pausetime = 0, ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 130), var(36) := -43
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -10
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, PosFreeze]
type = PosFreeze
trigger1 = movecontact = [1,ifelse(var(20), 6, 12)]
value = 1
[State 0, VarSet]
type = VarSet
trigger1 = 1
var(11) = movecontact = [1,ifelse(var(20), 6, 12)]
ignorehitpause = 1


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
[Statedef 221]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 221

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S200,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 226
ID = 226
pos = -16,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = -1
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1


[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, ifelse(var(20), 6, 12)
guard.pausetime = 0, ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -69
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -10
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,3
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = Time = 0
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -10
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 0)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(4)>=0
movetype = I
[State 230, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 0 ; 5
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 240

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,4
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 4
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 98), var(36) := -60
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 4)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Kick
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 0 ; 5
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 241

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,4
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -32
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 4)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(6)>=0
movetype = I
[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Forward Medium Kick
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 0 ; 4
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 310

[State 40, Snd]
type=playsnd
trigger1= animelem = 3
value=s0, 40
[State 40, Snd]
type=playsnd
trigger1= animelem = 3
value=s1, 4
[State 40, Dust]
type=helper
trigger1 = animelem = 3
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 3
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N

[State 105, 1]
type = statetypeset
trigger1 = AnimElem = 7
movetype = I


[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Back
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -50
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = High
ground.hittime = 15 + 2*var(9)
ground.slidetime = 15 + 2*var(9)
guard.hittime = 15
ground.velocity = -4, -5.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4, -5.5
air.fall = 0
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33



[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 3
y = -6

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(3) > 0
y = .65

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 256
ctrl = 0


;---------------------------------------------------------------------------
; Forward Medium Kick
[Statedef 256]
type    = S
movetype= I
physics = S
juggle  = 0 ; 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 315

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 103, Dust]
type=explod
trigger1= !time
anim=8102
sprpriority=0
postype=p1
pos = 0,0
pausemovetime=-1
supermovetime=-1
ownpal=1
scale = .5,.5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S0,52

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Standing Strong Kick
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 0 ; 5
poweradd= 18*!var(20)
ctrl = 0
velset = 0,0
anim = 250

[State 220, Position]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
x = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,5
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 5
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*63<7, 7, fvar(11)*63)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -25
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -10
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(6)>=0
movetype = I
[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 0 ; 5
poweradd = 0
ctrl = 0
anim = 400
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = Time = 0
forcenofall = !var(20)
attr = C, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -33
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 0)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(4)>=0
movetype = I

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 0 ; 6
poweradd= 18 * !var(20)
ctrl = 0
anim = 410
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,1
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 5
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -47
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 1)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(6)>=0
movetype = I

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 0 ; 6
poweradd= 18 * !var(20)
ctrl = 0
anim = 420
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S200,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 425
ID = 425
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 110), var(36) := -10
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -10
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 0 ; 5
poweradd= 0
ctrl = 0
anim = 430
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,3
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = Time = 0
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -6
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 3)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(4)>=0
movetype = I

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 0 ; 5
poweradd= 18*!var(20)
ctrl = 0
anim = 440
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,4
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 2
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := 0
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 4)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
[Statedef 445]
type    = C
movetype= A
physics = N
juggle  = 0 ; 5
poweradd= 18*!var(20)
ctrl = 0
anim = 445
velset = 0,0

[State 105, Dust]
type = helper
trigger1 = animelem = 3
helpertype = normal
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
facing = 1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 220, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 13

[State 220, Velocity]
type = VelAdd
trigger1 = AnimElemTime(3) > 0 && animelemtime(8)<0
x = -.8125

[State 810, Velocity]
type = VelSet
trigger1 = AnimElem = 8
x = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,6
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 2
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*56<7, 7, fvar(11)*56)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Medium
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := 0
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 4)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 3*var(9)
ground.slidetime = 15 + 3*var(9)
guard.hittime = 15
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
; Crouch Strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 0 ; 7
poweradd= 18*!var(20)
ctrl = 0
anim = 450
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,5
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 4
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*70<7, 7, fvar(11)*70)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -25
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Trip
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -1, -8.24
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -1.4,-3
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .677
fall = 1
fall.recover = 1
fall.recovertime = 120;33


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = N
juggle  = 0 ; 2
poweradd= 0
ctrl = 0
anim = ifelse(vel x,600,601)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 2
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := ifelse(vel x,-37,-75)
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 0)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(8)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52


;---------------------------------------------------------------------------
; Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = N
juggle  = 0 ; 4
poweradd= 18 * !var(20)
ctrl = 0
anim = ifelse(vel x,610,611)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,1
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 2
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*70<7, 7, fvar(11)*70)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := ifelse(vel x,-37,-75)
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 1)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(8)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = N
juggle  = 0 ; 4
poweradd= 18 * !var(20)
ctrl = 0
anim = 620

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S200,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 625+!vel x
ID = 625
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Hard
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -43
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -10
guard.velocity = -8.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(7)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = N
juggle  = 0 ; 3
poweradd= 0
ctrl = 0
anim = 630

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,3
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 2
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*14<7, 7, fvar(11)*14)), 0
getpower = 72 * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
sparkno = -1 + 0 * (var(33) := 8010)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := ifelse(vel x,-37,-75)
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 3)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
ground.velocity = -8
guard.velocity = -6.8
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(8)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; Jump Medium Kick
[Statedef 640]
type    = A
movetype= A
physics = N
juggle  = 0 ; 4
poweradd= 18 * !var(20)
ctrl = 0
anim = 640

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,4
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*70<7, 7, fvar(11)*70)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
guard.pausetime = ifelse(var(20), 5, 10), ifelse(var(20), 5, 10)
sparkno = -1 + 0 * (var(33) := 8011)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -39
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 4)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 15 + 2*var(9)
ground.slidetime = 15 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; Jump Strong Kick
[Statedef 650]
type    = A
movetype= A
physics = N
juggle  = 0 ; 4
poweradd= 18 * !var(20)
ctrl = 0
anim = 650

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,5
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -25
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 2*var(9)
ground.slidetime = 18 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 1200
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

[State 650, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Strong Kick
[Statedef 651]
type    = A
movetype= A
physics = N
juggle  = 0 ; 4
poweradd= 18 * !var(20)
ctrl = 0
anim = 651

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,5
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 1+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 3
forcenofall = !var(20)
attr = S, NA
damage = ceil(ifelse(fvar(11)*77<7, 7, fvar(11)*77)), 0
getpower = ifelse(!var(13), 216, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 50), var(36) := -34
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 2*var(9)
ground.slidetime = 18 + 2*var(9)
guard.hittime = 12
ground.velocity = -6
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 1200
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(5)>=0
movetype = I
[State 4030, Gravity]
type = Gravity
trigger1 = 1
[State 4030, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

[State 650, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1


;---------------------------------------------------------------------------
; Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 800

[State 800, Button]
type = varset
trigger1 = !time
var(10) = (command = "kk")

[State 800, Tech Hit]
type = varset
trigger1 = 1
var(19) = 0
[State 800, Tech Hit]
type = varset
trigger1 = numenemy
trigger1 = enemynear, statetype != A
trigger1 = (enemynear, stateno = [0, 999]) && (enemynear, stateno != [100, 119]) && (enemynear, stateno != [200, 799])
var(19) = 7

[State 800, Do not guard]
type = attackdist
trigger1 = 1
value = 0

[State 800, 1]
type = HitDef
Trigger1 = animelem = 2
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1 + 0 * (var(33) := 0)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 40), var(36) := -50
hitsound = -1 + 0 * (var(31) := 800)
guardsound = -1 + 0 * (var(32) := 0)          ;No spark
sprpriority = 1       ;Draw in front of p2
p2facing = 1          ;Force p2 to face player
p1stateno=ifelse(command="holdback",805,820)      ;On success, player changes to state 810
fall = 1
numhits = 0        ;Force p2 into falling down

[State 800, 1]
type = HitDef
trigger1= animelem=2 && var(10)
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1 + 0 * (var(33) := 0)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 40), var(36) := -50
hitsound = -1 + 0 * (var(31) := 800)
guardsound = -1 + 0 * (var(32) := 0)         ;No spark
sprpriority = 1       ;Draw in front of p2
p2facing = 1          ;Force p2 to face player
p1stateno=ifelse(command="holdback",805,810)      ;On success, player changes to state 810
fall = 1
numhits = 0      ;Force p2 into falling down

[State 800, Snd]
type = playsnd
trigger1 = animelem = 3
value = 5000, 0
channel = 0
[State 800, Snd]
type = playsnd
trigger1 = animelem = 3
value = 1, 0
channel = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---PLAYER TURNS---
[Statedef 805]
type=S
movetype=A
physics=S
anim=805
ctrl=0
sprpriority=1

[State 805, Throw]
type=targetstate
trigger1= !time && numtarget
value=806
[State 805, Throw]
type=targetfacing
trigger1= !time && numtarget
value=-1

[State 805, Width]
type=width
trigger1= 1
edge=24,24

[State 805, Turn]
type=turn
trigger1= animelem=3
[State 805, facing]
type=targetfacing
trigger1= 1
value=-1

[State 805, Escape]
type=changestate
trigger1= numtarget && var(19)
trigger1= (target,command="holdfwd" || target,command="holdback")
trigger1= (target,command="b" || target,command="c" || target,command="y" || target,command="z")
value=890
[State 805, Escape]
type=varadd
trigger1= var(19)>0
var(19)=-1

[State 805, Bind 1]
type=targetbind
trigger1= animelemtime(2)<0 || animelemtime(4)>=0
pos= ceil(34*const(size.xscale)), 0
[State 805, Bind 2]
type=targetbind
trigger1= animelemtime(2)>=0 && animelemtime(4)<0
pos= ceil(11*const(size.xscale)), 0

[State 805, End]
type=changestate
trigger1= !numtarget
value=0
ctrl=1
[State 805, End]
type=changestate
trigger1= animelemtime(4)>=0
value=ifelse(var(10),810,820)


;---TARGET---
[Statedef 806]
type=A
movetype=H
physics=N
velset=0,0
sprpriority=2

[State 806, NHB]
type=nothitby
trigger1= 1
value=SCA
time=1
[State 806, Camera]
type=screenbound
trigger1= 1
value=0
movecamera=1,1

[State 806, Anim]
type=changeanim2
trigger1= !time
value=806

[State 806, Safety]
type=selfstate
trigger1= time>=60
value= ifelse(pos y<0, 5040, 0)
ctrl=1


;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 810]
type    = S
movetype= A
physics = N
poweradd = 60
ctrl = 0

[State 810, Safety]
type=changestate
trigger1= !time && !numtarget
value=0
ctrl=0

[State 810, Escape]
type=changestate
trigger1= numtarget && var(19)
trigger1= (target,command="holdfwd" || target,command="holdback")
trigger1= (target,command="b" || target,command="c" || target,command="y" || target,command="z")
value=890
[State 810, Escape]
type=varadd
trigger1= var(19)>0
var(19)=-1

[State 810, Turn Var]
type=varset
trigger1= !time
var(0)=0
[State 810, Turn Var]
type=varset
trigger1= !time
trigger1= var(59)<=0 && command="holdback"
var(0)=1

[State 810, Turn]
type=turn
trigger1= !time && var(0)

[State 810, Throw]
type=targetstate
trigger1= !time && numtarget
value=815
[State 810, Throw]
type=targetfacing
trigger1= time<=1
value=-1

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 810
persistent = 0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 810, Throw]
type = TargetState
trigger1 = time = 0
value = 815

[State 220, Helper]
type = Helper
trigger1 = AnimElem = 2
stateno = 813

[State 820, Anim]
type = ChangeAnim
triggerall = animelemtime(3) > 2
trigger1 = animelemtime(10) < 0
trigger1 = var(41)>var(42)
trigger1 = animelemtime(4) != [0,2]
trigger1 = animelemtime(5) != [0,2]
value = 810
elem = AnimElemNo(0) + 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(44) = 0

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(6) = 1
var(44) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(41) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(42) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelemtime(3) = 0
trigger2 = animelemtime(4) = 0
trigger3 = animelemtime(5) = 0
trigger4 = animelemtime(6) = 0
var(42) = var(41)

[State 1100, VarSet]
type = VarAdd
triggerall = animelemtime(3) > 0
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = command = "up"
trigger8 = command = "down"
trigger9 = command = "fwd"
trigger10 = command = "back"
var(41) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(43) = 0

[State 1100, VarSet]
type = VarAdd
triggerall = animelemtime(3) > 0
trigger1 = Target,Command = "a"
trigger2 = Target,Command = "b"
trigger3 = Target,Command = "c"
trigger4 = Target,Command = "x"
trigger5 = Target,Command = "y"
trigger6 = Target,Command = "z"
trigger7 = Target,command = "up"
trigger8 = Target,command = "down"
trigger9 = Target,command = "fwd"
trigger10 = Target,command = "back"
var(43) = 1

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 810

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 45,0

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 1
value = 900, 0
channel = 1

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, 2
channel = 0

[State 810, Effect]
type = PlaySnd
trigger1 = animelemtime(6) = 1
value = 900, 1

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 5
Anim = 7640
ID = 7640
pos = 0,0
postype = p1
ownpal = 1
sprpriority = 5
removetime = -1
scale = .5,.5

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 40, -5
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 2
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",42,28),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-54, -64)
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",42,28),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",44,30),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 6
value = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = ceil(ifelse((-21*fvar(10))>-7,-7,(-21*fvar(10))))
kill = 0

[State 810, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 6
value = 35

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = var(41)>var(42) && animelemtime(6) > 2
value = 811
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 811]
type    = S
movetype = A
physics = N
velset = 0,0
ctrl = 0

[State 820, Anim]
type = ChangeAnim
trigger1 = animelemtime(4) < 0
trigger1 = var(41)>var(42)
trigger1 = animelemtime(1) != [0,2]
trigger1 = animelemtime(2) != [0,2]
trigger1 = animelemtime(3) != [0,2]
value = 811
elem = AnimElemNo(0) + 1

[State 1100, VarSet]
type = VarAdd
trigger1 = animelemtime(3) = 1
var(44) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(41) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(42) = 0

[State 1100, VarSet]
type = VarSet
trigger1 = animelemtime(1) = 0
trigger2 = animelemtime(2) = 0
trigger3 = animelemtime(3) = 0
trigger4 = animelemtime(4) = 0
var(42) = var(41)

[State 1100, VarSet]
type = VarAdd
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = Command = "start"
var(41) = 1

[State 1100, VarSet]
type = VarSet
trigger1 = time = 0
var(43) = 0

[State 1100, VarSet]
type = VarAdd
trigger1 = Target,Command = "a"
trigger2 = Target,Command = "b"
trigger3 = Target,Command = "c"
trigger4 = Target,Command = "x"
trigger5 = Target,Command = "y"
trigger6 = Target,Command = "z"
trigger7 = Target,Command = "start"
var(43) = 1

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 811

[State 810, Effect]
type = PlaySnd
trigger1 = animelemtime(4) = 1
value = 900, 1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",42,28),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",44,30),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 4
value = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = ceil(ifelse((-21*fvar(10))>-7,-7,(-21*fvar(10))))
kill = 0

[State 810, Power]
type = poweradd
trigger1 = numtarget && animelem = 4 && !var(20)
value = 72

[State 810, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 4
value = 35

[State 810, State End]
type = ChangeState
triggerall = AnimTime = 0 || (var(41)>var(42) && animelemtime(4) > 2)
trigger1 = var(44) < 13
trigger1 = 6+var(41)-var(43)>=(var(44)*2)
value = 811
ctrl = 0

[State 810, State End]
type = ChangeState
triggerall = AnimTime = 0 || (var(41)>var(42) && animelemtime(4) > 2)
trigger1 = var(44) = 13
trigger2 = var(41)-var(43)<(var(44)*2)
value = 812

;---------------------------------------------------------------------------
[Statedef 812]
type    = S
movetype = A
physics = N
velset = 0,0
anim = 812

[State 810, Throw]
type = TargetState
trigger1 = animelem = 5
value = 816

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2, 15

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3000, 2
channel = 0

[State 1100, Fire1]
type = RemoveExplod
trigger1 = AnimElem = 5
ID = 7640

[State 1100, Fire1]
type = Explod
trigger1 = AnimElem = 5
Anim = 7305
pos = 18,-64
postype = p1
ownpal = 1
sprpriority = 5

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",42,28),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
pos = ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",44,30),ifelse(target,name="cvsfelicia" && target,authorname="Jesuszilla",-56, -64)
time = -1

[State 810,1]
type = TargetBind
trigger1 = AnimElem = 5
pos = 40, -20
time = 1

[State 812, EnvShake]
type = EnvShake
trigger1 = AnimElem = 5
time = 15

[State 3001, Add Hits!]
type = HitAdd
trigger1 = AnimElem = 5
value = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -84

[State 810, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 5
value = 35

[State 810, Juggle]
type = varadd
trigger1 = numtarget && animelem = 5
var(15) = 1
ignorehitpause = 1
[State 810, Juggle]
type = varset
trigger1 = numtarget && animelem = 5
var(16) = 1
ignorehitpause = 1

[State 810, Hit]
type = hitadd
trigger1 = numtarget
trigger1 = animelem = 5
value = 1
[State 810, Hitcount]
type = varadd
trigger1 = numtarget
trigger1 = animelem = 5
var(13) = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 813]
type = S
movetype = I
physics = N
anim = 813
ctrl = 0
sprpriority = 3

[State 1505,0]
type = BindToRoot
trigger1 = 1
pos = 0,0
postype = p1

[State 9000, Assert]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = changeanim
trigger1 = root,stateno = 810 && root,animelemtime(2) >= 0
trigger1 = root,stateno = 810 && root,animelemtime(3) < 0
value = anim
elem = 1
persistent = 1

[State 0]
type = changeanim
trigger1 = root,stateno = 810 && root,animelemtime(3) >= 0
trigger1 = root,stateno = 810 && root,animelemtime(4) < 0
value = anim
elem = 2
persistent = 1

[State 0]
type = changeanim
trigger1 = root,stateno = 810 && root,animelemtime(4) >= 0
trigger1 = root,stateno = 810 && root,animelemtime(5) < 0
trigger2 = root,stateno = 811 && root,animelemtime(2) >= 0
trigger2 = root,stateno = 811 && root,animelemtime(3) < 0
trigger3 = root,stateno = 812 && root,animelemtime(2) >= 0
trigger3 = root,stateno = 812 && root,animelemtime(3) < 0
value = anim
elem = 3
persistent = 1

[State 0]
type = changeanim
trigger1 = root,stateno = 810 && root,animelemtime(5) >= 0
trigger1 = root,stateno = 810 && root,animelemtime(6) < 0
trigger2 = root,stateno = 811 && root,animelemtime(2) < 0
trigger3 = root,stateno = 811 && root,animelemtime(3) >= 0
trigger3 = root,stateno = 811 && root,animelemtime(4) < 0
trigger4 = root,stateno = 812 && root,animelemtime(2) < 0
trigger5 = root,stateno = 812 && root,animelemtime(3) >= 0
trigger5 = root,stateno = 812 && root,animelemtime(4) < 0
value = anim
elem = 4
persistent = 1

[State 0]
type = changeanim
trigger1 = root,stateno = 810 && root,animelemtime(6) >= 0
trigger2 = root,stateno = 811 && root,animelemtime(4) >= 0
trigger3 = root,stateno = 812 && root,animelemtime(4) >= 0
value = anim
elem = 5
persistent = 1

[State 4110, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 812 && root,animelem = 5


;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 815]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = ifelse(name = "cvsfelicia" && authorname = "Jesuszilla", 816,815)

;---------------------------------------------------------------------------
;Opponent Thrown 2
[Statedef 816]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = 2

[State 811, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 812, Vel]
type = VelSet
trigger1 = time = 0
x = -6
y = -6

[State 812, Vel]
type = VelAdd
trigger1 = 1
y = .5

[State 812, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0 && Pos Y >= 0
time = 15

[State 812, 2]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 820]
type    = S
movetype = A
physics = N
velset = 0,0

[State 810, Safety]
type=changestate
trigger1= !time && !numtarget
value=0
ctrl=1

[State 810, Escape]
type=changestate
trigger1= numtarget && var(19)
trigger1= (target,command="holdfwd" || target,command="holdback")
trigger1= (target,command="b" || target,command="c" || target,command="y" || target,command="z")
value=890
[State 810, Escape]
type=varadd
trigger1= var(19)>0
var(19)=-1

[State 810, Turn Var]
type=varset
trigger1= !time
var(0)=0
[State 810, Turn Var]
type=varset
trigger1= !time
trigger1= var(59)<=0 && command="holdback"
var(0)=1

[State 810, Turn]
type=turn
trigger1= !time && var(0)

[State 810, Throw]
type=targetstate
trigger1= !time && numtarget
value=825
[State 810, Throw]
type=targetfacing
trigger1= time<=1
value=-1

[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 820
persistent = 0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 810, Throw]
type = TargetState
trigger1 = Time = 0
value = 825

[State 810, Throw]
type = TargetState
trigger1 = AnimElem = 11
value = 826

[State 3001, Width]
type = Width
trigger1 = time = 0
edge = 45,0

[State 3001, Width]
type = Width
trigger1 = AnimElem = 11
edge = 75,0

[State 810, Effect]
type = PlaySnd
trigger1 = Time = 0
value = 900, 0
channel = 1

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 9
value = 0, 2
channel = 0

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 9
value = s1, 2
channel = 1

[State 810, Effect]
type = PlaySnd
trigger1 = AnimElem = 10
value = s2, 2

[State 0, Helper]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8012
pos = 52,-88
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove

[STate 810,1]
type = TargetBind
trigger1 = animelem = 1
pos = 52, -88
time = -1

[STate 810,1]
type = TargetBind
trigger1 = animelem = 11
pos = 60, -20
time = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = ceil(ifelse((-112*fvar(11))>-7,-7,(-112*fvar(11))))

[State 810, Juggle]
type = varadd
trigger1 = numtarget && animelem = 11
var(15) = 1
ignorehitpause = 1
[State 810, Juggle]
type = varset
trigger1 = numtarget && animelem = 11
var(16) = 1
ignorehitpause = 1

[State 810, Hit]
type = hitadd
trigger1 = numtarget
trigger1 = animelem = 11
value = 1
[State 810, Hitcount]
type = varadd
trigger1 = numtarget
trigger1 = animelem = 11
var(13) = 1

[State 810, Power]
type = poweradd
trigger1 = numtarget && animelem = 11 && !var(20)
value = 72

[State 810, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 11
value = 35

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 825]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 811, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 825

;---------------------------------------------------------------------------
[Statedef 826]
type    = A
movetype = H
physics = N
velset = 0,0

[State 902, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5160

[State 903, Vel]
type = VelSet
trigger1 = time = 0
x = -6
y = -5

[State 903, Vel]
type = VelAdd
trigger1 = 1
y = .5

[State 903, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0 && Pos Y >= 0
time = 15

[State 903, 2]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; Throw - Attempt
[Statedef 830]
type    = A
movetype= A
physics = N
juggle  = 0 ; 0
ctrl = 0
anim = 830

[State 0, Gravity]
type = Gravity
trigger1 = 1
;ignorehitpause =
;persistent =

[State 800, 1]
type = HitDef
trigger1= animelem=2
attr = A, NT          ;Attributes: Standing, Normal Throw
hitflag = A-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1 + 0 * (var(33) := 0)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 40), var(36) := -50
hitsound = -1 + 0 * (var(31) := 800)
guardsound = -1 + 0 * (var(32) := 0)         ;No spark
sprpriority = 1       ;Draw in front of p2
p2facing = 1          ;Force p2 to face player
p1stateno=835     ;On success, player changes to state 810
fall = 1
numhits = 0      ;Force p2 into falling down

[State 800, Snd]
type = playsnd
trigger1 = animelem = 3
value = 5000, 0
channel = 0
[State 800, Snd]
type = playsnd
trigger1 = animelem = 3
value = 1, 0
channel = 1

[State 903, 2]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 50

;---------------------------------------------------------------------------
; Throwing the opponent
[Statedef 835]
type    = A
movetype= A
physics = N
poweradd = 60
velset = 0,0
ctrl = 0

[State 810, Throw]
type=targetstate
trigger1= !time && numtarget
value=836
[State 810, Throw]
type=targetfacing
trigger1= time<=1
value=-1

[State 810, Throw]
type=targetstate
trigger1= animelem = 4
value=837
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = -3
y = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1,5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,5
[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8012
pos = 46,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove
pausemove

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = ceil(ifelse((-112*fvar(11))>-7,-7,(-112*fvar(11))))

[State 810, Power]
type = poweradd
trigger1 = numtarget && animelem = 4 && !var(20)
value = 72

[State 810, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 4
value = 35

[State 810, Hit]
type = hitadd
trigger1 = numtarget
trigger1 = animelem = 4
value = 1
[State 810, Hitcount]
type = varadd
trigger1 = numtarget
trigger1 = animelem = 4
var(13) = 1

[State 810, Juggle]
type = varadd
trigger1 = numtarget && animelem = 4
var(15) = 1
ignorehitpause = 1
[State 810, Juggle]
type = varset
trigger1 = numtarget && animelem = 4
var(16) = 1
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(4) >= 0
y = .5

[State 0, TargetBind]
type = TargetBind
trigger1 = !time
time = 1
id = -1
pos = 30,30



[State 820, Anim]
type = ChangeAnim
trigger1 = Time = 0
value = 650
persistent = 0

[State 1201, 2]
type = Playerpush
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 50


;---------------------------------------------------------------------------
[Statedef 836]
type    = A
movetype = H
physics = N
velset = 0,0
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 811, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 836

;---------------------------------------------------------------------------
[Statedef 837]
type    = A
movetype = H
physics = N
velset = -2,2
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1

[State 811, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 836

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = .47

[State 812, 2]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;===========< Target Escaped >==========
[Statedef 890]
type = S
physics = N
movetype = I
anim = 5945
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 890, Bind]
type = targetbind
trigger1 = !time && numtarget
pos = 0, 0
[State 890, p2state]
type = targetstate
trigger1 = !time && numtarget
value = 895
[State 890, Throw]
type = targetfacing
trigger1 = !time && numtarget
value = -1

[State 890, Pos]
type = posadd
trigger1 = !time
x = 24

[State 890, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1
[State 890, Push]
type = playerpush
trigger1 = 1
value = 0

[State 890, Pos]
type = posset
trigger1 = !time
y = 0
[State 890, Vel]
type = velset
trigger1 = 1
x = -1.425
y = 0

[State 890, Snd]
type = playsnd
trigger1 = animelem = 2
value = 5000, 2
channel = 0

[State 890, FX]
type = playsnd
trigger1 = !time
value = 0, 750

[State 890, FX]
type = helper
trigger1 = !time
helpertype = normal
stateno = 8000
ID = 8000
name = "Spark"
postype = p1
pos = 0, -64
facing = -1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 65535
supermovetime = 65535

[State 890, End]
type = changestate
trigger1 = time >= 27
value = 0
ctrl = 1


;--- TARGET ---
[Statedef 895]
type = S
physics = N
movetype = I
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 895, Anim]
type = changeanim
trigger1 = !time
value = ifelse(selfanimexist(5945), 5945, 130)
[State 895, Anim]
type = changeanim
trigger1 = !time && !selfanimexist(5945) && selfanimexist(5910)
value = 5910
[State 895, Anim]
type = changeanim
trigger1 = time >= 20 && anim = 130
value = 140

[State 895, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1
[State 895, Push]
type = playerpush
trigger1 = 1
value = 0

[State 895, Pos]
type = posset
trigger1 = !time
y = 0
[State 895, Vel]
type = velset
trigger1 = 1
x = -1.425
y = 0

[State 895, End]
type = selfstate
trigger1 = time >= 27
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Sun Shot
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1000
poweradd = 72 * !var(20)
sprpriority = 2

[State 1000, Button]
type=varset
trigger1= !time && !var(12)
var(10)= ifelse((command="z" || command="rlsz"), 2, ifelse((command="y" || command="rlsy"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000, 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7001
ID = 7001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State -3,Super]
type = Helper
trigger1 = AnimElem = 6
id = 1005
name = "Sun Shot"
pos = 36,-72
postype = P1
stateno = 1005
helpertype = normal
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 1005]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1005
poweradd = 0
sprpriority = 3

[State 1005, HitOverride]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP, AT
time = -1
stateno = 1007
ignorehitpause = 1
[State 1005, HB]
type = hitby
trigger1 = 1
value = SCA, NP, SP, HP
time = -1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(10) = root,var(10)


[State 1005, Dampener]
type = varset
trigger1 = 1
fvar(11) = (root, fvar(10)) * ifelse(var(9), 1.2, 1)

[State 1005, Counter Flag]
type = varset
trigger1 = numenemy
trigger1 = movecontact != 1
var(9) = (enemynear, movetype = A)

[State 1000, Proj]
type = Hitdef
trigger1= !root,var(16) && (root,var(15)<1 || root,var(20))
attr = S, SP
damage= ceil(ifelse(fvar(11)*49<7, 7, fvar(11)*49)), 7
getpower = ifelse(!(root, var(13)), 144, 72) * !(root, var(20)), 36 * !(root, var(20))
givepower = 36, 36
animtype = Heavy
hitflag = MAF
guardflag = M
pausetime = 0, ifelse((root, var(20)), 6, 12)
guard.pausetime = 0, ifelse((root, var(20)), 6, 12)
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = -1
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
fall = 0
fall.recover = 0
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*!(var(15)||var(16)),35*(1000+var(24))/1000*!(var(15)||var(16))
givepower = 35, 35
palfx.time = 12*((root,var(0)&2**12)/2**12)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5
accel = 0,.075
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0


[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = 2+(var(10)*.5)
y = -1-(var(10)*1.25)

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .075

[State 900, 4]
type = ChangeState
trigger1 = movecontact
value = 1006

[State 900, 4]
type = ChangeState
trigger1 = time = (19+(9*var(10)))
value = 1007

;--- Hitpause ---
[Statedef 1006]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 3
movehitpersist = 1

[State 1006, Freeze]
type = posfreeze
trigger1 = 1
value = 1

[State 1006, HitSound]
type = playsnd
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
value = ifelse(moveguarded, 3, 2), ifelse(moveguarded, 0, 6)
channel = 2
ignorehitpause = 1

[State 1006, Spark]
type = helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = ifelse(moveguarded, 8001, 8013)
ID = 8000
name = "Spark"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State 1006, Counter FX]
type = helper
trigger1 = movecontact = 1 && numtarget && var(9)
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = 8290
ID = 8290
name = "Counter FX"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
ownpal = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State 1006, HitCount]
type = parentvaradd
trigger1 = !time
trigger1 = movecontact && numtarget
var(13) = 1
[State 1006, Juggle]
type = parentvaradd
trigger1 = !time
trigger1 = movecontact && numtarget
var(15) = 1

[State 1006, ProjContact]
type = varset
trigger1 = movecontact && numtarget
var(18) = 1
[State 1006, ProjContact]
type = parentvarset
trigger1 = movecontact && numtarget
trigger1 = root, stateno = 1000
var(18) = 1

[State 1006, End]
type = changestate
trigger1 = time >= 0
value = 1007


;--- Disappear ---
[Statedef 1007]
type = A
physics = N
movetype = A
anim = 1007
ctrl = 0
velset = 0, 0
sprpriority = 3
movehitpersist = 1

[State 1007, Sound]
type = playsnd
trigger1 = prevstateno = 1006
trigger1 = !time
value = 2, 6
channel = 2
volue = -128
lowpriority = 1

[State 1007, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1007, End]
type = changestate
trigger1 = !animtime
value = 1008


;--- Wait ---
[Statedef 1008]
type = A
physics = N
movetype = I
anim = 9741
ctrl = 0
velset = 0, 0

[State 1008, End]
type = destroyself
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target, time <= 1 && !(target, hitshakeover)

;---------------------------------------------------------------------------
;Sun Shot
[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1050
sprpriority = 2
poweradd = -500
facep2 = 1

[State 1030, CC Juggle]
type = varset
trigger1 = !time && var(20)
var(15) = 0
ignorehitpause = 1
[State 1030, CC Reset]
type = palfx
trigger1 = !time
trigger1 = var(20) := -1
time = 1

[State 1030, ExFX]
type = varset
trigger1 = !time
var(25) = 30
[State 1030, ExFX]
type = playsnd
trigger1 = !time
value = 0, 1000
[State 1030, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 12, -74
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1000, 0
channel = 0

[State 1000, Effect]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000, 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7001
ID = 7051
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State -3,Super]
type = Helper
trigger1 = AnimElem = 6
id = 1055
name = "Sun Shot"
pos = 36,-72
postype = P1
stateno = 1055
helpertype = normal
keyctrl = 0
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 1055]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1005
poweradd = 0
sprpriority = 3

[State 1005, HitOverride]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP, AT
time = -1
stateno = 1007
ignorehitpause = 1
[State 1005, HB]
type = hitby
trigger1 = 1
value = SCA, NP, SP, HP
time = -1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow



[State 1005, Dampener]
type = varset
trigger1 = 1
fvar(11) = (root, fvar(10)) * ifelse(var(9), 1.2, 1)

[State 1005, Counter Flag]
type = varset
trigger1 = numenemy
trigger1 = movecontact != 1
var(9) = (enemynear, movetype = A)

[State 1000, Proj]
type = Hitdef
trigger1= !root,var(16) && (root,var(15)<1 || root,var(20))
attr = S, SP
damage= ceil(ifelse(fvar(11)*49<7, 7, fvar(11)*49)), 7
getpower = 0,0
givepower = 36, 36
animtype = Heavy
hitflag = MAF
guardflag = M
pausetime = 0, ifelse((root, var(20)), 6, 12)
guard.pausetime = 0, ifelse((root, var(20)), 6, 12)
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = -1
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -8,0
guard.velocity = -8
air.velocity = -4.5, -6
airguard.velocity = -5.33,-1
fall = 0
fall.recover = 0
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*!(var(15)||var(16)),35*(1000+var(24))/1000*!(var(15)||var(16))
givepower = 35, 35
palfx.time = 12*((root,var(0)&2**12)/2**12)
palfx.add = 255,255,255
palfx.mul = 128,128,128
forcestand = 1
yaccel = .5
accel = 0,.075
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0


[State 1100, Velocity]
type = VelSet
trigger1 = time = 0
x = 3
y = -1.5

[State 1100, Velocity]
type = VelAdd
trigger1 = 1
y = .075

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact
var(1) = 1
[State 900, 4]
type = ChangeState
trigger1 = movecontact
value = 1056

[State 900, 4]
type = ChangeState
trigger1 = time = 37
value = 1057

;--- Hitpause ---
[Statedef 1056]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 3
movehitpersist = 1

[State 1006, Freeze]
type = posfreeze
trigger1 = 1
value = 1

[State 1006, HitSound]
type = playsnd
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
value = ifelse(moveguarded, 3, 2), ifelse(moveguarded, 0, 6)
channel = 2
ignorehitpause = 1

[State 1006, Spark]
type = helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = ifelse(moveguarded, 8001, 8013)
ID = 8000
name = "Spark"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State 1006, Counter FX]
type = helper
trigger1 = movecontact = 1 && numtarget && var(9)
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = 8290
ID = 8290
name = "Counter FX"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
ownpal = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State 1006, HitCount]
type = parentvaradd
trigger1 = !time
trigger1 = movecontact && numtarget
var(13) = 1
[State 1006, Juggle]
type = parentvaradd
trigger1 = !time
trigger1 = movecontact && numtarget
var(15) = 1

[State 1006, ProjContact]
type = varset
trigger1 = movecontact && numtarget
var(18) = 1
[State 1006, ProjContact]
type = parentvarset
trigger1 = movecontact && numtarget
trigger1 = root, stateno = 1050
var(18) = 1

[State 1006, End]
type = changestate
trigger1 = time >= 0
value = ifelse(var(1)>=2,1057,1055)


;--- Disappear ---
[Statedef 1057]
type = A
physics = N
movetype = A
anim = 1007
ctrl = 0
velset = 0, 0
sprpriority = 3
movehitpersist = 1

[State 1007, Sound]
type = playsnd
trigger1 = prevstateno = 1006
trigger1 = !time
value = 2, 6
channel = 2
volue = -128
lowpriority = 1

[State 1007, Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 1007, End]
type = changestate
trigger1 = !animtime
value = 1058


;--- Wait ---
[Statedef 1058]
type = A
physics = N
movetype = I
anim = 9741
ctrl = 0
velset = 0, 0

[State 1008, End]
type = destroyself
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target, time <= 1 && !(target, hitshakeover)


;Sun Arch
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 78 * !var(20)
sprpriority = 2

[State 1000, Button]
type=varset
trigger1= !time  && !var(12)
var(10)= ifelse((command="c" || command="rlsc"), 2, ifelse((command="b" || command="rlsb"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,0
channel = 0

[State 1100, nothitby]
type=nothitby
trigger1= animelemtime(2)<0
value=SCA
time=1
ignorehitpause=1

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,1

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7100
ID = 7100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelem = 2
attr = S, NA
damage = ceil(ifelse(fvar(11)*76+(var(10)*7)<7, 7, fvar(11)*91+(var(10)*7))), 7
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 51), var(36) := -(ifelse(animelemtime(3)>0,71,35))
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6,-7
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 1.5
y = ifelse(!var(10), -3.65, ifelse(var(10) = 1, -4.258333333333333, -4.866666666666667))

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(2) > 0
y = 0.188

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 1105
ctrl = 0

[Statedef 1105]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1105
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 103, Snd]
type=playsnd
trigger1= !time
value=0,52
[State 103, Dust]
type=explod
trigger1= !time
anim=8102
sprpriority=-3
postype=p1
pos = 5,0
pausemovetime=-1
supermovetime=-1
ownpal=1
scale = .5,.5

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1200
poweradd = 72 * !var(20)
sprpriority = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
channel = 0

[State 1000, Button]
type=varset
trigger1= !time && !var(12)
var(10)= ifelse((command="c" || command="rlsc"), 2, ifelse((command="b" || command="rlsb"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
trigger1 = !var(10)
value = 1201

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
value = 1,2
channel = 2

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5
y = -4.866666666666667

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(3) > 0
y = 0.564
[State 200, 1]
type = HitDef
triggerall= !var(16) && (var(15)<(1+hitcount) || var(20))
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
attr = S, SA
damage = ceil(ifelse(fvar(11)*14*fvar(10)<7, 7, fvar(11)*14*fvar(10))), 7
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 2, 3), ifelse(var(20), 2, 3)
guard.pausetime = ifelse(var(20), 2, 3), ifelse(var(20), 2, 3)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 10), var(36) := -54
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -4
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
var(27) = 1

[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = AnimElemTime(3) > 0
value = 1201

;Sun Arch
[Statedef 1150]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -500
sprpriority = 2


[State 1030, CC Juggle]
type = varset
trigger1 = !time && var(20)
var(15) = 0
ignorehitpause = 1
[State 1030, CC Reset]
type = palfx
trigger1 = !time
trigger1 = var(20) := -1
time = 1

[State 1030, ExFX]
type = varset
trigger1 = !time
var(25) = 60
[State 1030, ExFX]
type = playsnd
trigger1 = !time
value = 0, 1000
[State 1030, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 0, -74
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,0
channel = 0

[State 1100, nothitby]
type=nothitby
trigger1= time < 10
value=SCA
time=1
ignorehitpause=1

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,1
channel = 2

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7100
ID = 7100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<(hitcount + 1) || var(20))
trigger1 = animelem = 2
attr = S, NA
damage = ceil(ifelse(fvar(11)*59+(var(10)*7)<7, 7, fvar(11)*59+(var(10)*7))), 7
getpower = 0,0
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 51), var(36) := -35
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6,-7
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120


[State 200, 1]
type = HitDef
triggerall= !var(16) && (var(15)<(hitcount + 1) || var(20))
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse(fvar(11)*59+(var(10)*7)<7, 7, fvar(11)*59+(var(10)*7))), 7
getpower = 0,0
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 51), var(36) := -71
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6,-7
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 1.5
y = -4.866666666666667

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(2) > 0
y = 0.188

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
trigger1 = AnimElemTime(2) > 0
value = 1105
ctrl = 0


[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0


[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,1
channel = 2

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7100
ID = 7100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<(1+hitcount) || var(20))
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse(fvar(11)*51<7, 7, fvar(11)*51)), 0
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 51), var(36) := -71
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6,-7
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 1.5
y = ifelse(!var(10), -3.65, ifelse(var(10) = 1, -4.258333333333333, -4.866666666666667))

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(2) > 0
y = 0.188

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 1105
ctrl = 0

[Statedef 1250]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1250
poweradd = -500
sprpriority = 2
facep2 = 1

[State 1030, CC Juggle]
type = varset
trigger1 = !time && var(20)
var(15) = 0
ignorehitpause = 1
[State 1030, CC Reset]
type = palfx
trigger1 = !time
trigger1 = var(20) := -1
time = 1

[State 1030, ExFX]
type = varset
trigger1 = !time
var(25) = 60
[State 1030, ExFX]
type = playsnd
trigger1 = !time
value = 0, 1000
[State 1030, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 0, -74
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,0
channel = 0

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
value = 1,2
channel = 2

[State 1100, StateType]
type = StateTypeSet
trigger1 = AnimElem = 3
StateType = A
physics = N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 6
y = -5.866666666666667

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(3) > 0
y = 0.564
[State 200, 1]
type = HitDef
triggerall= !var(16) && (var(15)<(1+hitcount) || var(20))
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
attr = S, SA
damage = ceil(ifelse(fvar(11)*14*fvar(10)<7, 7, fvar(11)*14*fvar(10))), 7
getpower = 0,0
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 2, 3), ifelse(var(20), 2, 3)
guard.pausetime = ifelse(var(20), 2, 3), ifelse(var(20), 2, 3)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 10), var(36) := -54
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -4
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37



[State 1100, ChangeState]
type = ChangeState
triggerall = Pos Y + Vel Y >= 0
trigger1 = AnimElemTime(3) > 0
value = 1251

[Statedef 1251]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 0
sprpriority = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,0
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1100,1
channel = 2

[State 40, Snd]
type=playsnd
trigger1= animelem = 2
value=0, 40
[State 40, Dust]
type=helper
trigger1 = animelem = 2
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7100
ID = 7100
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<(1+hitcount) || var(20))
trigger1 = animelem = 3
attr = S, NA
damage = ceil(ifelse(fvar(11)*51<7, 7, fvar(11)*51)), 0
getpower = 0, 0
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 51), var(36) := -71
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = -6,-7
guard.velocity = -8
air.velocity = -6,-7
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
fall.recover = 0
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
fall = 0
air.fall = 1
fall.recover = 1
fall.recovertime = 120;37


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 1.5
y = ifelse(!var(10), -3.65, ifelse(var(10) = 1, -4.258333333333333, -4.866666666666667))

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(2) > 0
y = 0.188

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 1105
ctrl = 0


;Sun Upper
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1300
poweradd = 0
sprpriority = 2

[State 0, TargetDrop]
type = TargetDrop
trigger1 = !time

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,1
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7200
ID = 7200
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ReversalDef]
type = ReversalDef
trigger1 = !numtarget
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(5) < 0
reversal.attr = SA, NA, SA, HA          ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,0
sparkno = -1
p1stateno = 1301
p2stateno = 1305
hitsound = s3, 0
numhits = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;Success
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1301
poweradd = 0
sprpriority = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 7200

[State 1100, Fire1]
type = Explod
trigger1 = time%5=0
Anim = 7510+(random%4)
pos = 0,-64
postype = p2
ownpal = 1
sprpriority = 3

[State 1000, Spark]
type = Explod
trigger1 = animelem = 1
Anim = 7201
id = 7201
pos = 0, 0
postype = p1
ownpal = 1
bindtime = -1
sprpriority = 3
removeongethit = 1
scale = .5,.5

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 3 && numtarget
value = 1306
[State 0, TargetState]
type = TargetState
trigger1 = animelem = 7 && numtarget
value = 1307

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = animelem = 7
value = -ceil(ifelse(fvar(11)*91<7, 7, fvar(11)*91))
[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 7
value = 35
[State 810, Hit]
type = hitadd
trigger1 = numtarget
trigger1 = animelem = 7
value = 1

[State 810, Hitcount]
type = varadd
trigger1 = numtarget
trigger1 = animelem = 7
var(13) = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;Sun Lower
[Statedef 1350]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1350
poweradd = 0
sprpriority = 2

[State 0, TargetDrop]
type = TargetDrop
trigger1 = !time

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,1
channel = 0

[State 1100, Effect]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1300,1

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 7200
ID = 7200
pos = -8, 24
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ReversalDef]
type = ReversalDef
trigger1 = !numtarget
trigger1 = AnimElemTime(3) >= 0
trigger1 = AnimElemTime(5) < 0
reversal.attr = SC, NA, SA, HA         ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,0
sparkno = -1
p1stateno = 1351
p2stateno = 1305
hitsound = s3, 0
numhits = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = ifelse(command = "holddown",11,12)
ctrl = 1

;Success
[Statedef 1351]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1351
poweradd = 0
sprpriority = 2

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 6000, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
ID = 7200

[State 1100, Fire1]
type = Explod
trigger1 = time%5=0
Anim = 7510+(random%4)
pos = 0,-64
postype = p2
ownpal = 1
sprpriority = 3

[State 1000, Spark]
type = Explod
trigger1 = animelem = 1
Anim = 7201
id = 7201
pos = -12, 36
postype = p1
ownpal = 1
bindtime = -1
sprpriority = 3
removeongethit = 1
scale = .5,.5

[State 1031, TargetState]
type = TargetState
trigger1 = AnimElem = 3
value = 1306

[State 1031, TargetState]
type = TargetState
trigger1 = AnimElem = 7
value = 1307

[State 901, Hurt]
type = TargetLifeAdd
trigger1 = animelem = 7
value = -ceil(ifelse(fvar(11)*91<7, 7, fvar(11)*91))
[State 901, Hurt]
type = TargetPowerAdd
trigger1 = AnimElem = 7
value = 35
[State 810, Hit]
type = hitadd
trigger1 = animelem = 7
value = 1
[State 810, Hitcount]
type = varadd
trigger1 = animelem = 7
var(13) = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Target Thrown
[Statedef 1305]
movetype = H
ctrl = 0
velset = 0,0

[State 650, HitPause]
type = PosFreeze
trigger1 = time >= 1
ignorehitpause = 1

[State 5000, 3]
type = ChangeAnim
trigger1 = time >= 1
value = anim
elem = animelemno(0)

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1033, End]
type = SelfState
trigger1 = time = 15
value = 5000


;---------------------------------------------------------------------------
;Opponent Thrown 4
[Statedef 1306]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,-11.82771875

[State 5000, 3]
type = ChangeAnim
trigger1 = 1
value = anim
elem = animelemno(0)

[State 903, Vel]
type = VelAdd
trigger1 = 1
y = 0.2115

;
[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1032, ScreenBound]
type = ScreenBound
trigger1 = 1
movecamera = 0,0

;---------------------------------------------------------------------------
;Opponent Thrown 3
[Statedef 1307]
type    = A
movetype = H
physics = N
sprpriority = -1

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 320,0

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5051)
value = 5051

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = Time = 0     ;If no transition anim
trigger1 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 903, Vel]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
x = -3

[State 903, Vel]
type = veladd
trigger1 = 1
y = 0.29569296875

[State 903, 2]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;Sun Upper
[Statedef 1400]
type    = A
movetype= A
physics = N
juggle  = 0 ; 0
ctrl = 0
anim = 1400
poweradd = 72 * !var(20)
sprpriority = 2

[State 3001, Width]
type = Width
trigger1 = 1
edge = 5,0

[State 1000, Button]
type=varset
trigger1= !time && !var(12)
var(10)= ifelse((command="c" || command="rlsc"), 2, ifelse((command="b" || command="rlsb"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = ifelse(var(10),1410,1400)

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = ifelse(var(10),vel y,3.65)
x = ifelse(var(10),vel x, 0)

[State 0, VelAdd]
type = VelAdd
trigger1 = !time && var(10)
trigger1 = vel y < 1
x = ifelse(vel x > 0, 1.5, ifelse(vel x < 0, -1.5, 0))

[State 0, Gravity]
type = veladd
trigger1 = var(10)
trigger1 = time > 5
y = 0.188

[State 1100, Fire1]
type = Explod
triggerall = var(10)
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
trigger8 = AnimElem = 17
trigger9 = AnimElem = 19
trigger10 = AnimElem = 21
Anim = 7510+(random%4)
pos = 0,-64
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 1100, Fire1]
type = Explod
triggerall = !var(10)
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElemTime(8) = 3
Anim = 7510+(random%4)
pos = 0,-64
postype = p1
ownpal = 1
bindtime = 1
sprpriority = 3

[State 1100, Effect]
type = PlaySnd
trigger1 = !var(10)
trigger1 = AnimElem = 3 ||  animelem = 5 || animelem = 7
value = s1,2

[State 1100, Effect]
type = PlaySnd
trigger1 = var(10)
trigger1 = AnimElem = 3 || AnimElem = 6 || AnimElem = 9 || AnimElem = 12
value = s1,2

[State 200, 1]
type = HitDef
triggerall = !var(10)
triggerall= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
attr = A, SA
damage = ceil(ifelse(fvar(11)*21<7, 7, fvar(11)*21)), 7
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 10), var(36) := -15
ground.type = High
ground.hittime = 17 + 2*var(9)
ground.slidetime = 17 + 2*var(9)
guard.hittime = 17
ground.velocity = -8*ifelse(p2dist x>=0,1,-1),0
guard.velocity = -8*ifelse(p2dist x>=0,1,-1)
air.velocity = -6*ifelse(p2dist x>=0,1,-1),-6
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 200, 1]
type = HitDef
triggerall = var(10)
triggerall= !var(16) && (var(15)<1 || var(20))
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 10
trigger4 = AnimElem = 13
attr = A, SA
damage = ceil(ifelse(fvar(11)*35<7, 7, fvar(11)*35)), 7
getpower = ifelse(!var(13), 144, 72) * !var(20), 36 * !var(20)
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 58), var(36) := -52
ground.type = High
ground.hittime = 17 + 2*var(9)
ground.slidetime = 17 + 2*var(9)
guard.hittime = 17
ground.velocity = -6*ifelse(p2dist x>=0,1,-1),-6
guard.velocity = -8*ifelse(p2dist x>=0,1,-1)
air.velocity = -6*ifelse(p2dist x>=0,1,-1),-6
airguard.velocity = -1.9,-.8
air.type = High
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
fall = 1
air.fall = 1
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > 0 && vel y > 0
value = 1405
ctrl = 0

;Sun Upper
[Statedef 1405]
type    = S
movetype= I
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 1405
poweradd = 0
sprpriority = 2

[State 103, Snd]
type=playsnd
trigger1= !time
value=0,52
[State 103, Dust]
type=explod
trigger1= !time
anim=8102
sprpriority=-3
postype=p1
pos = 5,0
pausemovetime=-1
supermovetime=-1
ownpal=1
scale = .5,.5

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 3000
poweradd = -1000
sprpriority = 2

[State 1000, Button]
type=varset
trigger1= !time && !var(12)
var(10)= ifelse((command="z" || command="rlsz"), 2, ifelse((command="y" || command="rlsy"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0

[State 3000, Super Cancel Flag]
type = varset
trigger1 = !time
var(21) = ((prevstateno = [1000, 2999]) && var(7)) || var(20)
[State 3000, Hyper Cancel Flag]
type = varset
trigger1 = !time
var(22) = (prevstateno = [3000, 4999]) && var(8)
[State 3000, CC Reset]
type = palfx
trigger1 = !time
trigger1 = !(var(20) := 0)
time = 1

[State 3000, Corner Push]
type = varset
trigger1 = time = 3
fvar(5) = 0
[State 3000, Unguardable]
type = varset
trigger1 = time = 3 && numenemy
trigger1 = (enemynear, stateno != [120, 155])
var(17) = 43

[State 3000, Super Cancel Flash]
type = palfx
trigger1 = var(21) || var(22)
trigger1 = !(time % 2) && time <= 12
time = 1
add = 255, 255, 255
ignorehitpause = 1
[State 3000, Super Cancel Juggle]
type = varset
trigger1 = !time
trigger1 = var(21) || var(22)
var(15) = 0
ignorehitpause = 1

[State 3000, NHB]
type = nothitby
trigger1 = time < 43
time = 1
value = SCA

[State 3000, Snd]
type = playsnd
trigger1 = !time
value = 3000, 0
channel = 0

[State 3000, Superpause FX]
type = helper
trigger1 = time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 15, -82
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1
[State 3000, Superpause]
type = superpause
trigger1 = time = 3
time = 43
movetime = 43
p2defmul = 1
unhittable = 1
anim = -1
sound = s0, 8500
darken = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "Sun Burst"
ID = 3005
stateno = 3005
pos = 8,-74
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
[State 3000, Snd]
type = playsnd
trigger1 = animelem = 7
value = 3000, 1

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =

[Statedef 3005]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 7300
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 1005, HitOverride]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP, AT
time = -1
stateno = 1007
ignorehitpause = 1
[State 1005, HB]
type = hitby
trigger1 = 1
value = SCA, NP, SP, HP
time = -1
ignorehitpause = 1

[State 1005, Dampener]
type = varset
trigger1 = 1
fvar(11) = (root, fvar(10)) * ifelse(var(9), 1.2, 1)

[State 1005, Counter Flag]
type = varset
trigger1 = numenemy
trigger1 = movecontact != 1
var(9) = (enemynear, movetype = A)

[State 0, VarSet]
type = VarSet
trigger1 = !time
var(10) = root,var(10)
;persistent =


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2


[State 0, HitDef]
type = HitDef
trigger1= !root,var(16) && (root,var(15)<1 || root,var(20))
trigger1 = time = 0
attr = S,HP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M
numhits = 0
[State 3005, Miss]
type = hitdef
trigger1 = (root, var(16)) || (root, var(15) >= 1)
attr = S, HP
hitflag =
sparkxy = -10, 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = ifelse((!var(10)),44,ifelse((var(10))=1,61,77))
trigger2 = movecontact
value = 3006
ctrl = 0
;anim =
;ignorehitpause =
;persistent =


[Statedef 3006]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 7305
poweradd = 0
sprpriority = 3

[State 0, PlaySnd]
type = PlaySND
trigger1 = !time
value = S3000,2

[State 1005, Dampener]
type = varset
trigger1 = 1
fvar(11) = (root, fvar(10)) * ifelse(var(9), 1.2, 1)

[State 1005, Counter Flag]
type = varset
trigger1 = numenemy
trigger1 = movecontact != 1
var(9) = (enemynear, movetype = A)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 10,0
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 7.5,7.5
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,10
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -7.5,7.5
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -10,0
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -7.5,-7.5
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-10
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Explod]
type = Explod
trigger1 = !time
anim = 7300
ID = 7300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 7.5,-7.5
accel = 0,0
random = 0,0
removetime = 10
pausemovetime = 0
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1000, Proj]
type = Hitdef
trigger1= !root,var(16) && root,var(15)<1
trigger1 = hitcount < 1
attr = S, HP
damage= ceil(ifelse(fvar(11)*167<7, 7, fvar(11)*167)), 7
getpower = 0,0
givepower = 36, 36
animtype = Heavy
hitflag = MAFP
guardflag = M
pausetime = 0, 12
guard.pausetime = 0, 12
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = -1
guardsound = S1,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
air.hittime = 18
guard.ctrltime = 18
ground.velocity = -5,-5.37109375
guard.velocity = -5
air.velocity = -5,-5.37109375
airguard.velocity = -5.33,-1
fall = 1
fall.recover = 0
air.fall = 1
envshake.time = 18
envshake.ampl = 6
envshake.freq = 120
getpower = ifelse(var(17),70,143)*(1000+var(24))/1000*!(var(15)||var(16)),35*(1000+var(24))/1000*!(var(15)||var(16))
givepower = 35, 35
palfx.time = 32
palfx.mul = 128, 128, 128
palfx.sinadd = 96, 96, 96, 4
forcestand = 1
yaccel = .5
accel = 0,.075
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
[State 3005, Miss]
type = hitdef
trigger1 = (root, var(16)) || (root, var(15) >= 1)
attr = S, HP
hitflag =
sparkxy = -10, 0

[State 1006, HitCount]
type = parentvaradd
trigger1 = !time && numtarget
var(13) = 2
[State 1006, Juggle]
type = parentvaradd
trigger1 = !time && numtarget
var(15) = 1

[State 1006, ProjContact]
type = varset
trigger1 = movecontact && numtarget
var(18) = 1
[State 1006, ProjContact]
type = parentvarset
trigger1 = movecontact && numtarget
trigger1 = root, stateno = 3000
var(18) = 1

[State 1006, HitSound]
type = playsnd
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
value = ifelse(moveguarded, 3, 2), ifelse(moveguarded, 0, 6)
channel = 2
ignorehitpause = 1

[State 1006, Spark]
type = helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = ifelse(moveguarded, 8001, 8014)
ID = 8000
name = "Spark"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1
persistent = 0

[State 1006, Counter FX]
type = helper
trigger1 = movecontact = 1 && numtarget && var(9)
trigger1 = !(target, hitshakeover)
helpertype = normal
stateno = 8290
ID = 8290
name = "Counter FX"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
ownpal = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1
persistent = 0

[State 1140, Flame Particles]
type = helper
trigger1 = !numhelper(8150)
trigger1 = movehit = 1 && numtarget
trigger1 = !(target, hitshakeover)
trigger1 = var(40) := (target, ID)
helpertype = normal
stateno = 8150
ID = 8150
name = "Flame Particles"
postype = p2
ownpal = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
;ignorehitpause =
;persistent =

[Statedef 3100]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 3100
sprpriority = 2
poweradd = -2000
facep2 = 1

[State 3250, Super Cancel Flag]
type = varset
trigger1 = !time
var(21) = ((prevstateno = [1000, 2999]) && var(7)) || var(20)
[State 3250, Hyper Cancel Flag]
type = varset
trigger1 = !time
var(22) = (prevstateno = [3000, 4999]) && var(8)
[State 3250, CC Reset]
type = palfx
trigger1 = !time
trigger1 = !(var(20) := 0)
time = 1

[State 3250, Corner Push]
type = varset
trigger1 = time = 3
fvar(5) = 0

[State 3250, Super Cancel Flash]
type = palfx
trigger1 = var(21) || var(22)
trigger1 = !(time % 2) && time <= 12
time = 1
add = 255, 255, 255
ignorehitpause = 1
[State 3250, Super Cancel Juggle]
type = varset
trigger1 = !time
trigger1 = var(21) || var(22)
var(15) = 0
ignorehitpause = 1

[State 3250, NHB]
type = nothitby
trigger1 = animelemtime(3) < 1
time = 1
value = SCA

[State 3250, Superpause FX]
type = helper
trigger1 = time = 3
helpertype = normal
stateno = 8510
ID = 8500
name = "Superpause FX"
postype = p1
pos = 2, -36
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1
[State 3250, Superpause]
type = superpause
trigger1 = time = 3
time = 45
movetime = 45
p2defmul = 1
unhittable = 1
anim = -1
sound = s0, 8500
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3100,0

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 4

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 28
x = 0

[State 40, Snd]
type=playsnd
trigger1= animelem = 28
value=0, ifelse((var(3)=[2,3]), 41, 40)
[State 40, Dust]
type=helper
trigger1 = animelem = 28
helpertype=normal
stateno=8100
ID=8100
name="Jump Dust"
postype=p1
ownpal=1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 28
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N

[State 1100, Velocity]
type = VelSet
trigger1 = AnimElem = 28
x = 3
y = -6

[State 1100, Gravity]
type = Veladd
trigger1 = AnimElemTime(28) > 0
y = .65

[State 200, 1]
type = HitDef
triggerall= !var(16) && (var(15)<(hitcount + 1) || var(20))
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 16
trigger4 = animelem = 22
trigger5 = animelem = 7
trigger6 = animelem = 13
trigger7 = animelem = 19
attr = S, HA
damage = ceil(ifelse(fvar(11)*35<7, 7, fvar(11)*35)), 7
getpower = 0,0
givepower = 36, 36
animtype = Hard
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8014)
sparkxy = -10 + 0 * (var(35) := 59), var(36) := -52
guard.sparkno = -1 + 0 * (var(34) := 8001)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = Low
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
ground.velocity = -4
guard.velocity = -4
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4.32, -7.36
yaccel = .58
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
fall.recover = 1
fall.recovertime = 120;33
envshake.time = 18
envshake.ampl = 6
envshake.freq = 120

[State 200, 1]
type = HitDef
trigger1= !var(16) && (var(15)<(hitcount+1) || var(20))
trigger1 = animelem = 28
attr = S, NA
damage = ceil(ifelse(fvar(11)*138<7, 7, fvar(11)*138)), 7
getpower = 0,0
givepower = 36, 36
animtype = Light
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
sparkno = -1 + 0 * (var(33) := 8012)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -50
guard.sparkno = -1 + 0 * (var(34) := 8000)
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
ground.type = High
ground.hittime = 15 + 2*var(9)
ground.slidetime = 15 + 2*var(9)
guard.hittime = 15
ground.velocity = -4, -5.5
airguard.velocity = -1.9,-.8
air.type = High
air.velocity = -4, -5.5
fall = 1
air.fall = 1
yaccel = .5
air.hittime = 120
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 1
fall.recovertime = 120;33
envshake.time = 18
envshake.ampl = 6
envshake.freq = 120



[State 0, ChangeState]
type = ChangeState
trigger1 = animelemtime(28) > 0
trigger1 = pos y > 0 && vel y > 0
value = 256
ctrl = 0

[Statedef 3200]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 3200
sprpriority = 2
poweradd = -3000
facep2 = 1

[State 1000, Button]
type=varset
trigger1= !time && !var(12)
var(10)= ifelse((command="z" || command="rlsz"), 2, ifelse((command="y" || command="rlsy"), 1, 0))
[State 0, VarSet]
type = VarSet
trigger1 = !time
var(12) = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 3200 + var(10)

[State 3400, Super Cancel Flag]
type = varset
trigger1 = !time
var(21) = ((prevstateno = [1000, 2999]) && var(7)) || var(20)
[State 3400, Hyper Cancel Flag]
type = varset
trigger1 = !time
var(22) = (prevstateno = [3000, 4999]) && var(8)
[State 3400, CC Reset]
type = palfx
trigger1 = !time
trigger1 = !(var(20) := 0)
time = 1

[State 3400, Corner Push]
type = varset
trigger1 = time
fvar(5) = 0

[State 3400, Super Cancel Flash]
type = palfx
trigger1 = var(21) || var(22)
trigger1 = !(time % 2) && time <= 12
time = 1
add = 255, 255, 255
ignorehitpause = 1
[State 3400, Super Cancel Juggle]
type = varset
trigger1 = !time
trigger1 = var(21) || var(22)
var(15) = 0
ignorehitpause = 1

[State 3400, NHB]
type = nothitby
trigger1 = animelemtime(3) < 2
time = 1
value = SCA

[State 3400, Snd]
type = playsnd
trigger1 = time = 3
value = 3200, 0

[State 3400, Superpause FX]
type = helper
trigger1 = time = 3
helpertype = normal
stateno = 8520
ID = 8500
name = "Superpause FX"
postype = p1
pos = 13, -83
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1
[State 3400, Superpause]
type = superpause
trigger1 = time = 3
time = 47
movetime = 47
p2defmul = 1
unhittable = 1
anim = -1
sound = s0, 8500
darken = 0


[State 3400, Snd]
type = playsnd
trigger1 = animelem = 3
value = 1300, 1
[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7500
ID = 7500
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 800, 1]
type = HitDef
trigger1= !var(16) && (var(15)<1 || var(20))
trigger1 = animelemtime(4) >= 14
trigger1 = animelemtime(4) <= 28
attr = S, HP          ;Attributes: Standing, Normal Throw
hitflag = MAF          ;Affect only ground people who are not being hit
getpower = 0,0
guardflag = M
priority = 3, Hit   ;Throw has low priority, must be miss or dodge type.
damage = ceil(ifelse(fvar(11)*104<7, 7, fvar(11)*104)), 7
sparkno = -1 + 0 * (var(33) := 8014)
sparkxy = -10 + 0 * (var(35) := 80+(80*var(10))), var(36) := -68
guard.sparkno = -1 + 0 * (var(34) := 8001)
hitsound = -1 + 0 * (var(31) := 6)
guardsound = -1 + 0 * (var(32) := 0)         ;No spark
sprpriority = 1       ;Draw in front of p2
p2facing = 1          ;Force p2 to face player      ;On success, player changes to state 810
fall = 1
numhits = 1        ;Force p2 into falling down
ground.type = High
ground.hittime = 12 + 2*var(9)
ground.slidetime = 12 + 2*var(9)
guard.hittime = 12
ground.velocity = 0
guard.velocity = -6
ground.cornerpush.veloff = 0
airguard.velocity = -1.9,-.8
kill = 0
persistent = 0

[State 3001, Super]
type = Helper
trigger1 = AnimElem = 3
pos = 80+(80*var(10)),-68
stateno = 3205
id = 3205
name = "Thingie"
ownpal = 1
supermovetime = 8
size.xscale = .5
size.yscale = .5

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && numtarget
value = 3201
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =



[Statedef 3201]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 3203
sprpriority = 2
facep2 = 1

[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(10) < 0
fvar(12) = target,pos x
[State 3001, VarSet]
type = VarSet
trigger1 = animelemtime(10) < 0
fvar(13) = target,pos y

[State 0, TargetState]
type = TargetState
trigger1 = !time
value = 3210

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 64
trigger6 = time = 74
trigger7 = time = 84
trigger8 = time = 94
value = 1

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 64
trigger6 = time = 74
trigger7 = time = 84
trigger8 = time = 94
value = floor(ifelse(7 * fvar(11) < 7, -7, -7 * fvar(11)))
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 64
trigger6 = time = 74
trigger7 = time = 84
trigger8 = time = 94
value = S2,6

[State 1006, Spark]
type = helper
trigger1 = time = 59
trigger2 = time = 69
trigger3 = time = 79
trigger4 = time = 89
trigger5 = time = 64
trigger6 = time = 74
trigger7 = time = 84
trigger8 = time = 94
helpertype = normal
stateno = 8014
ID = 8014
name = "Spark"
postype = p2
pos = 10,-54
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State 901, Throw]
type = TargetState
trigger1 = AnimElem = 10
value = 3211

[State 0, PlaySnd]
type = PlaySnd
triggerall = numtarget
triggerall = target,stateno = 3211
trigger1 = target,Vel Y > 0
trigger1 = target,Pos Y >= 0
value = s0,5100
[State 1210, Dust]
type = helper
triggerall = numtarget
triggerall = target,stateno = 3211
trigger1 = target,Vel Y > 0
trigger1 = target,Pos Y >= 0
helpertype = normal
stateno = 8110
ID = 8100
name = "Impact Dust"
postype = p2
pos = 0, 0
ownpal = 1
[State 810, Hurt]
type = TargetLifeAdd
triggerall = numtarget
triggerall = target,stateno = 3211
trigger1 = target,pos y > 0
trigger1 = target,vel y > 0
value = floor(ifelse(222 * fvar(11) < 7, -7, -222 * fvar(11)))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S3200,1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S3200,2

[State 0, ChangeState]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =

[Statedef 3205]
type    = S
movetype= A
physics = N
juggle  = 0 ; 0
velset = 0,0
ctrl = 0
anim = 3205
poweradd = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1005, Dampener]
type = varset
trigger1 = 1
fvar(11) = (root, fvar(10)) * ifelse(var(9), 1.2, 1)

[State 1005, Counter Flag]
type = varset
trigger1 = numenemy
trigger1 = movecontact != 1
var(9) = (enemynear, movetype = A)

[State 1006, HitSound]
type = playsnd
trigger1 = root,movecontact = 1; && numtarget
value = ifelse(root,moveguarded, 3, 2), ifelse(root,moveguarded, 0, 6)
channel = 2
ignorehitpause = 1
persistent = 0

[State 1006, Spark]
type = helper
trigger1 = root,movecontact = 1; && numtarget
helpertype = normal
stateno = ifelse(root,moveguarded, 8001, 8013)
ID = 8000
name = "Spark"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1
persistent = 0

[State 1006, Counter FX]
type = helper
trigger1 = root,movecontact = 1; && numtarget && var(9)
helpertype = normal
stateno = 8290
ID = 8290
name = "Counter FX"
postype = p1
pos = ifelse(p2dist x < 0, 0, ifelse(p2dist x < 20, ceil(p2dist x), 20)), 0
ownpal = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = root,stateno = 3201
value = 3206
;ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
trigger2 = root,stateno != 3200
;ignorehitpause =
;persistent =

;--- Hitpause ---
[Statedef 3206]
type = A
physics = N
movetype = A
ctrl = 0
sprpriority = 3
movehitpersist = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 220, Velocity]
type = VelSet
trigger1 = Time = 0
x = (root,fvar(12)-pos x+(10*facing))*.0625*facing
y = (root,fvar(13)-pos y-48)*.0625

[State 220, Velocity]
type = VelSet
trigger1 = Time = 16
x = 0
y = 0

[State 220, Position]
type = PosSet
trigger1 = anim = 3205 && Time >= 16
x = root,fvar(12)+(10*facing)
y = root,fvar(13)-48

[State 7000, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3205 && animelem = 21
value = 3205
elem = 9

[State 7000, ChangeAnim]
type = ChangeAnim
trigger1 = root,stateno = 3201 && root,animelem = 10
value = 7502

[State 4110, DestroySelf]
type = ChangeState
trigger1 = anim = 7502 && animtime = 0
trigger2 = root,stateno != 3201
value = 3207

;--- Wait ---
[Statedef 3207]
type = A
physics = N
movetype = I
anim = 9741
ctrl = 0
velset = 0, 0

[State 1008, End]
type = destroyself
trigger1 = !numtarget
trigger2 = root,stateno != 3201

;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3210]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !time
value = 3210
;elem = 1
;ignorehitpause =
;persistent =

[State 220, Velocity]
type = VelSet
trigger1 = animelem = 2
y = -6

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 220, Velocity]
type = VelSet
trigger1 = animelemtime(2) = 48
y = 0
;---------------------------------------------------------------------------
; Opponent Thrown
[Statedef 3211]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 902, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 3206

[State 220, Velocity]
type = VelSet
trigger1 = time = 0
y = -Pos Y*.05

[State 220, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3212

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 3212]
type    = L
movetype= H
physics = N

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
x = -4

[State 903, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 18
ampl = 9
freq = 120

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5101, 1]
type = ChangeAnim
trigger1 = Lose
trigger1 = time < 20
value = anim
elem = animelemno(0)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 7]
type = SelfState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, (sysvar(1) > Const720p(20)) + (sysvar(1) > Const720p(56))

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 3213

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 3213]
type    = L
movetype= H
physics = N

[State 1201, screenbound]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0,0

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = SelfState
value = 5100

;========================< PUNCH ZERO COUNTER >=============================
[Statedef 2900]
type = S
physics = N
movetype = A
anim = 2900
ctrl = 0
velset = 0, 0
sprpriority = 1
poweradd = 0

[State 2900, NHB]
type = nothitby
trigger1 = animelemtime(3) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S200,0
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 2
channel = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 226
ID = 226
pos = -16,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 2900, Hit]
type = hitdef
trigger1 = !var(16) && var(15) < 1
trigger1 = animelemtime(4) >= 0
attr = S, SA
hitflag = MAF
guardflag = M
priority = 4, Hit
damage = ceil(ifelse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 7
getpower = 0, 0
givepower = 36, 36
pausetime = 12, 12
guard.pausetime = 12, 12
animtype = Diagup
air.animtype = Diagup
fall.animtype = Diagup
ground.type = Low
air.type = Low
ground.hittime = 18
ground.slidetime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.54, -5.25
ground.cornerpush.veloff = 0
guard.velocity = -10.52
guard.cornerpush.veloff = 0
air.velocity = -5.54, -5.25
air.cornerpush.veloff = 0
yaccel = 0.58
fall = 1
fall.recover = 1
fall.recovertime = 120;24
forcestand = 1
hitsound = -1 + 0 * (var(31) := 2)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -69
palfx.time = 12 * var(9)
palfx.add = 255, 255, 255
palfx.sinadd = -255, -255, -255, 48
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
kill = 0

[State 2900, Type]
type = statetypeset
trigger1 = animelemtime(5) >= 0
movetype = I
[State 2900, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;========================< KICK ZERO COUNTER >=============================
[Statedef 2910]
type = S
physics = N
movetype = A
anim = 2910
ctrl = 0
velset = 0, 0
sprpriority = 1
poweradd = 0

[State 2910, NHB]
type = nothitby
trigger1 = animelemtime(3) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S1,1
[State 200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1 && Random <= 500
value = 0, 2
channel = 0

[State 2910, Hit]
type = hitdef
trigger1 = !var(16) && var(15) < 1
trigger1 = animelem = 3
attr = C, SA
hitflag = MAF
guardflag = M
priority = 4, Hit
damage = ceil(ifelse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 7
getpower = 0, 0
givepower = 36, 36
pausetime = 12, 12
guard.pausetime = 12, 12
animtype = Diagup
air.animtype = Diagup
fall.animtype = Diagup
ground.type = Low
air.type = Low
ground.hittime = 18
ground.slidetime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -5.54, -5.25
ground.cornerpush.veloff = 0
guard.velocity = -10.52
guard.cornerpush.veloff = 0
air.velocity = -5.54, -5.25
air.cornerpush.veloff = 0
yaccel = 0.58
fall = 1
fall.recover = 1
fall.recovertime = 120;24
forcestand = 1
hitsound = -1 + 0 * (var(31) := 5)
guardsound = -1 + 0 * (var(32) := 0)
sparkno = -1 + 0 * (var(33) := 8013)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -32
palfx.time = 12 * var(9)
palfx.add = 255, 255, 255
palfx.sinadd = -255, -255, -255, 48
envshake.time = 14
envshake.ampl = 4
envshake.freq = 120
kill = 0

[State 2910, Type]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I
[State 2910, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1
