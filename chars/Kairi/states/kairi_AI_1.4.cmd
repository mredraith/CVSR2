
;KAIRI FROM STREET FIGHTER EX + EDITS BY Mr.KARATE AND GUSTAVO C. MORAES
;SPRITES - GUSTAVO C. MORAES
;CODES - Mr.KARATE

;---------------------------------------------------------------------------
;[statedef -1]
;---------------------------------------------------------------------------

;-| Super Motions |--------------------------------------------------------
;-1 nivel
[Command]
name = "Shinki Hatsudou Kai"
command = ~D, DF, F, D, DF, x
time = 32

[Command]
name = "Shinki Hatsudou Kai"
command = ~D, DF, F, D, DF, y
time = 32

[Command]
name = "Shinki Hatsudou Kai"
command = ~D, DF, F, D, DF, z
time = 32

[Command]
name = "Gairyu Messhuu"
command = ~D, DF, F, D, DF, a
time = 32

[Command]
name = "Gairyu Messhuu"
command = ~D, DF, F, D, DF, b
time = 32

[Command]
name = "Gairyu Messhuu"
command = ~D, DF, F, D, DF, c
time = 32

[Command]
name = "Sairou Kyushuu"
command = ~D, DB, B, D, DB, x
time = 32

[Command]
name = "Sairou Kyushuu"
command = ~D, DB, B, D, DB, y
time = 32

[Command]
name = "Sairou Kyushuu"
command = ~D, DB, B, D, DB, z
time = 32

;Level 2
[Command]
name = "Maki Shinki Hatsudou"
command = ~D, DF, F, D, DF, x
time = 32

[Command]
name = "Maki Shinki Hatsudou"
command = ~D, DF, F, D, DF, y
time = 32

[Command]
name = "Maki Shinki Hatsudou"
command = ~D, DF, F, D, DF, z
time = 32

[Command]
name = "Kyouja Renbu"
command = ~D, DF, F, D, DB, B, x
time = 32

[Command]
name = "Kyouja Renbu"
command = ~D, DF, F, D, DB, B, y
time = 32

[Command]
name = "Kyouja Renbu"
command = ~D, DF, F, D, DB, B, z
time = 32

;Level 3
[Command]
name="Shouky Hatsudou"
command= ~D, DF, F, D, DF, x+y+z
time= 32

[Command]
name="Kyouja Renbu SGS"
command= ~x, x, F, a
time= 32

;-| EX moves |-----------------------------------------------------------
[Command]
name = "EX Hatsudou weak"
command = ~D, DF, F, x+y
time = 32

[Command]
name = "EX Hatsudou weak"
command = ~D, DF, F, y+z
time = 32

[Command]
name = "EX Hatsudou weak"
command = ~D, DF, F, x+z
time = 32

[Command]
name = "EX Ryujin Kyaku"
command = ~D, DF, F, a+b
time = 32

[Command]
name = "EX Ryujin Kyaku"
command = ~D, DF, F, b+c
time = 32

[Command]
name = "EX Ryujin Kyaku"
command = ~D, DF, F, c+a
time = 32

[Command]
name = "EX Mouryou Kasen"
command = ~D, DB, B, a+b
time = 32

[Command]
name = "EX Mouryou Kasen"
command = ~D, DB, B, b+c
time = 32

[Command]
name = "EX Mouryou Kasen"
command = ~D, DB, B, c+a
time = 32

[Command]
name = "EX Maryu Rekouu"
command =  ~F, D, DF, x+y
time = 32

[Command]
name = "EX Maryu Rekouu"
command = ~F, D, DF, y+z
time = 32

[Command]
name = "EX Maryu Rekouu"
command = ~F, D, DF, x+z
time = 32

[Command]
name = "EX Mekuu Zangeki"
command = ~D, DF, F, a+b
time = 32

[Command]
name = "EX Mekuu Zangeki"
command = ~D, DF, F, b+c
time = 32

[Command]
name = "EX Mekuu Zangeki"
command = ~D, DF, F, c+a
time = 32


;-| Special Motions |------------------------------------------------------
[Command]
name = "Ryujin Kyaku weak"
command = ~D, DF, F, a
time = 25

[Command]
name = "Ryujin Kyaku medium"
command = ~D, DF, F, b
time = 25

[Command]
name = "Ryujin Kyaku strong"
command = ~D, DF, F, c
time = 25

[Command]
name = "Ryujin Kyaku 2.5"
command = ~D, DB, B, b
time = 32

[Command]
name = "Mouryou Kasen weak"
command = ~D, DB, B, a
time = 32

[Command]
name = "Mouryou Kasen medium"
command = ~D, DB, B, b
time = 32

[Command]
name = "Mouryou Kasen strong"
command = ~D, DB, B, c
time = 32

[Command]
name = "Mekuu Zangeki weak"
command = ~D, DF, F, a
time = 25

[Command]
name = "Mekuu Zangeki medium"
command = ~D, DF, F, b
time = 25

[Command]
name = "Mekuu Zangeki strong"
command = ~D, DF, F, c
time = 25

[Command]
name="df2p"
command=~F,D,DF,x+y+z
time= 32

[Command]
name="db2p"
command=~B,D,DB,x+y+z
time = 32

[Command]
name="df2k"
command=~F,D,DF,a+b+c
time = 32

[Command]
name="db2k"
command=~B,D,DB,a+b+c
time = 32

[Command]
name = "Maryu Rekouu weak"
command = ~F, D, DF, x
time = 32

[Command]
name = "Maryu Rekouu medium"
command = ~F, D, DF, y
time = 32

[Command]
name = "Maryu Rekouu strong"
command = ~F, D, DF, z
time = 32

[Command]
name = "Shinki Hatsudou weak"
command = ~D, DF, F, x
time = 32

[Command]
name = "Shinki Hatsudou medium"
command = ~D, DF, F, y
time = 32

[Command]
name = "Shinki Hatsudou strong"
command = ~D, DF, F, z
time = 32

;-| Double Tap |-----------------------------------------------------------
[Command]
name = "FF"
command = F, F
time = 10

[Command]
name = "BB"
command = B, B
time = 10

;-| 2/3 Button Combination |-----------------------------------------------
[Command]
name="recovery"
command=x+y
time=1

[Command]
name="recovery"
command=x+z
time=1

[Command]
name="recovery"
command=y+z
time=1

[Command]
name="recovery"
command=a+x
time=1

;Recovery roll
[Command]
name="2k"
command=a+b
time=1

[Command]
name="2k"
command=a+c
time=1

[Command]
name="2k"
command=b+c
time=1

;Zero counter
[Command]
name="bdx"
command= z+c
time=20

[Command]
name="bdy"
command= z+c
time=20

[Command]
name="bdz"
command= z+c
time=20

[Command]
name="bda"
command= y+b
time=20

[Command]
name="bdb"
command= y+b
time=20

[Command]
name="bdc"
command= y+b
time=20

[Command]
name="BDA"
command= F, x+a
time=20

[Command]
name="BDB"
command= F, x+a
time=20

[Command]
name="BDC"
command= B, x+a
time=20

;-| Dir + Button |---------------------------------------------------------
[Command]
name = "down_a"
command = /$D,a
time = 1

[Command]
name = "down_b"
command = /$D,b
time = 1

[Command]
name = "slide"
command = /$DF,b
time = 1

;-| Single Button |---------------------------------------------------------
[Command]
name = "a"
command = a
time = 1

[Command]
name = "b"
command = b
time = 1

[Command]
name = "c"
command = c
time = 1

[Command]
name = "x"
command = x
time = 1

[Command]
name = "y"
command = y
time = 1

[Command]
name = "z"
command = z
time = 1

[Command]
name = "start"
command = s
time = 1

;-| Hold Dir |--------------------------------------------------------------
[Command]
name = "holdfwd"
command = /$F
time = 1

[Command]
name = "holdback"
command = /$B
time = 1

[Command]
name = "holdup"
command = /$U
time = 1

[Command]
name = "holddown"
command = /$D
time = 1

;---------------------------------------------------------------------------
;Release Direction
[Command]
name = "rlsfwd"
command = ~$F
time = 1

[Command]
name = "rlsback"
command = ~$B
time = 1

[Command]
name = "rlsup"
command = ~$U
time = 1

[Command]
name = "rlsdown"
command = ~$D
time = 1

;---------------------------------------------------------------------------
;Single direction
[Command]
name = "Up"
command = U
time = 5

[Command]
name = "Forward"
command = F
time = 5

[Command]
name = "Down"
command = D
time = 5

[Command]
name = "Back"
command = B
time = 1

[Command]
name="fwd"
command=F
time=1

[Command]
name="back"
command=B
time=1

[Command]
name="up"
command=U
time=1

[Command]
name="down"
command=D
time=1

[command]
name = "fwd"
command = F
time = 1

; Hold Button
[Command]
name = "holda"
command = /a
time = 1

[Command]
name = "holdb"
command = /b
time = 1

[Command]
name = "holdc"
command = /c
time = 1

[Command]
name = "holdx"
command = /x
time = 1

[Command]
name = "holdy"
command = /y
time = 1

[Command]
name = "holdz"
command = /z
time = 1

[Command]
name = "holdstart"
command = /s
time = 1

[Command]
name="highjump"
command=$D,$U
time=15

[Command]
name = "fwd_b"
command = /$F,b
time = 1

;===========================================================================

[Statedef -1]

;---------------------------------------------------------------------------
[State -1, AI ON]		;;
Type = VarSet
TriggerAll = Var(59) < 1
TriggerAll = RoundState=2
Trigger1 = AILevel>0
v = 59
value= 1
Ignorehitpause=1

[State -1, AI OFF]		;;
Type=VarSet
Trigger1=var(59)>0
Trigger1=RoundState!=2
Trigger2=!IsHelper
Trigger2=AILevel=0
v=59
value=0
Ignorehitpause=1

;---------------------------------------------------------------------------
;Damage dampener
[state -1, Damage Dampener]
type = attackmulset
trigger1 = numtarget >= 1
value = 0.9 ** target, gethitvar(hitcount)

;-------------------------------------------------------------------------------
;Super moves

;Level 3
;Shouky Hatsudou
[State -1, Shouky Hatsudou]
type = changestate
value = 4500
triggerall= var(59)=0
triggerall= var(20)<=0
triggerall= command="Shouky Hatsudou"
triggerall= power>=3000 && var(20)<=60
trigger1 = ctrl
trigger1 = statetype != A
trigger2 = numhelper(2244)
trigger2 = helper, movecontact
trigger3 = stateno= [200,226]
trigger3 = movecontact
trigger4 = stateno=[100,102]

;Kyouja Renbu Shun Goku satsu
[State -1, Kyouja Renbu Shun Goku satsu]
type=changestate
value=7200
triggerall = Var(59) = 0
triggerall = var(20)<=0
triggerall = command="Kyouja Renbu SGS"
triggerall = roundstate=2 && statetype!=A && power>=3000 && !var(20)
trigger1 = ctrl
trigger2 = stateno= [200,226]
trigger3 = stateno=[100,102]

;-------------------------------------------------------------------------------
;Level 2
;Maki Shinki Hatsudou
[State -1, Maki Shinki Hatsudou]
type = ChangeState
value = 3000
triggerall= var(59)<=0
triggerall= var(20)<=0
triggerall = command = "Maki Shinki Hatsudou"
triggerall = power >= 2000
triggerall = NumHelper(6150) = 0
trigger1 = statetype != A
trigger1 = ctrl
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 240 && movecontact || stateno = 210 && movecontact
trigger3 = stateno = 1201 && movecontact
trigger4 = stateno = 1206 && AnimElem = 1, = 15 && movecontact
trigger5 = stateno = 1211 && movecontact
trigger6 = stateno = 1213 && movecontact
trigger7 = stateno= [200,226]
trigger7 = movecontact

;Kyouja Renbu
[State -1, Kyouja Renbu]
type = ChangeState
value = 3500
triggerall = Var(59) = 0
triggerall= var(20)<=0
triggerall = command = "Kyouja Renbu"
triggerall = power >= 2000
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = stateno = [200,226]
trigger2 = movecontact
trigger3 = stateno = 1201 && movecontact
trigger4 = stateno = 1206 && AnimElem = 1, = 15 && movecontact
trigger5 = stateno = 1211 && movecontact
trigger6 = stateno = 1213 && movecontact
trigger7 = stateno=[100,102]

;-------------------------------------------------------------------------------
;Level 1
;Shinki Hatsudou Kai
[State -1, Air Shinki Hatsudou Kai]
type = ChangeState
value = 3200
triggerall = Var(59) = 0
triggerall= var(20)<=0
triggerall = command = "Shinki Hatsudou Kai"
triggerall = power >= 1000
triggerall = NumProjID(1000) = 0
trigger1 = statetype = A
trigger1 = ctrl
trigger2 = stateno = 4200 && anim = 4202
trigger2 = movecontact
trigger3 = stateno = 3401  && movecontact
trigger4 = stateno = 3403  && movecontact
trigger5 = stateno = [1400,1421]
trigger5 = movecontact
trigger6 = stateno = [1600,1611]
trigger6 = movecontact
trigger7 = stateno= [600,625]
trigger7 = movecontact
trigger8 = stateno = [1050,1071]
trigger8 = movecontact
trigger9 = stateno = 231  && movecontact

;Garyuu Messhuu
[State -1, Air Garyuu Messhuu]
type = ChangeState
value = 3400
triggerall = Var(59) = 0
triggerall= var(20)<=0
triggerall = command = "Gairyu Messhuu"
triggerall = power >= 1000
trigger1= ctrl
trigger1 = statetype = A
trigger2 = stateno = [1400,1421]
trigger2 = movecontact
trigger3 = stateno = [1050,1071]
trigger3 = movecontact
trigger4 = stateno = 4200 && anim = 4202
trigger4 = movecontact
trigger5 = stateno = [1600,1611]
trigger5 = movecontact
trigger6 = stateno= [600,625]
trigger6 = movecontact

;Sairou Kyushuu
[State -1, Sairou Kyushuu]
type = changestate
value = 4200
triggerall = Var(59) = 0
triggerall= var(20)<=0
triggerall = command = "Sairou Kyushuu"
triggerall = power >= 1000 && !var(20)
trigger1= ctrl
trigger1 = statetype != A
trigger2 = stateno = 1201 && movecontact
trigger3 = stateno = 1206 && AnimElem = 1, = 15 && movecontact
trigger4 = stateno = 1211 && movecontact
trigger5 = stateno = 1213 && movecontact
trigger6 = stateno= [200,226]
trigger6 = movecontact
trigger7 = (stateno = [1600,1611]) && animelemtime(4) < 0
trigger7 = movecontact
trigger8 = stateno=[100,102]

;--------------------------------------------------------------------------
;Makuu Shihai (Ashura Senkuu)
[State -1, Makuu Shihai]
type=changestate
value=1500
triggerall = var(59) = 0
triggerall = var(7) != 1
triggerall= command="df2p" || command="db2p" || command="df2k" || command="db2k"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;Makuu Shihai (teleport)
[State -1, Makuu Shihai teleport 1]
type=changestate
value=1510
triggerall = Var(59) = 0
triggerall= command="df2p"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Makuu Shihai teleport 2]
type=changestate
value=1511
triggerall = Var(59) = 0
triggerall= command="db2p"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Makuu Shihai air teleport 1(air)]
type=changestate
value=1512
triggerall = Var(59) = 0
triggerall= command="df2k"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Makuu Shihai air teleport 2 (air)]
type=changestate
value=1513
triggerall = Var(59) = 0
triggerall= command="db2k"
triggerall= roundstate=2 && statetype!=A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;===========================================================================
;EX moves
[State -1, EX Maryu Rekouu]
type = ChangeState
value =1611
triggerall = Var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Maryu Rekouu"
triggerall = Statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = ctrl || (stateno=[100,102])

[State -1, EX Shinki Hatsudou]
type = ChangeState
value = 1004
triggerall = Var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Hatsudou weak"
triggerall = NumProjID(1000) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = ctrl || (stateno=[100,102])

[State -1, EX Ryujin Kyaku]
type = ChangeState
value = 1071
triggerall = Var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Ryujin Kyaku"
triggerall = NumProjID(1000) = 0
triggerall = statetype = A
trigger1 = ctrl
trigger2 = (stateno=[600,625]) && movecontact
trigger3 = (stateno=[1400,1414]) && movecontact
trigger4 = stateno = 231  && movecontact

[State -1, EX Mekuu Zangeki]
type = ChangeState
value = 1212
triggerall = Var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Mekuu Zangeki"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = ctrl || (stateno=[100,102])

[State -1, EX Mouryou Kasen]
type = ChangeState
value = 1416
triggerall = var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Mouryou Kasen"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = ctrl || (stateno=[100,102])

[State -1, EX Tatsumaki Mouryou Kasen]
type = ChangeState
value = 1421
triggerall = Var(59) = 0
triggerall = power >= 500
triggerall = var(20) = 0
triggerall = command = "EX Mouryou Kasen"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = ctrl || (stateno=[100,102])

;===========================================================================
;Special Moves

;Maryu Rekouu
[State -1, Maryu Rekouu weak]
type = ChangeState
value =1600
triggerall = Var(59) = 0
triggerall = command = "Maryu Rekouu weak"
triggerall = Statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Maryu Rekouu medium]
type = ChangeState
value =1605
triggerall = Var(59) = 0
triggerall = command = "Maryu Rekouu medium"
triggerall = Statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Maryu Rekouu strong]
type = ChangeState
value =1610
triggerall = Var(59) = 0
triggerall = command = "Maryu Rekouu strong"
triggerall = Statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;---------------------------------------------------------------------------
;Shinki Hatsudou
[State -1, Shinki Hatsudou weak]
type = ChangeState
value = 1000
triggerall = Var(59) = 0
triggerall = command = "Shinki Hatsudou weak"
triggerall = NumProjID(1000) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Shinki Hatsudou medium]
type = ChangeState
value = 1002
triggerall = Var(59) = 0
triggerall = command = "Shinki Hatsudou medium"
triggerall = NumProjID(1000) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Shinki Hatsudou strong]
type = ChangeState
value = 1003
triggerall = Var(59) = 0
triggerall = command = "Shinki Hatsudou strong"
triggerall = NumProjID(1000) = 0
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;---------------------------------------------------------------------------
;Ryujin Kyaku
[State -1, Ryujin Kyaku weak]
type = ChangeState
value = 1050
triggerall = Var(59) = 0
triggerall = command = "Ryujin Kyaku weak"
triggerall = NumProjID(1000) = 0
triggerall = statetype = A
trigger1 = ctrl
trigger2 = (stateno=[600,625]) && movecontact
trigger3 = stateno = [1400,1416] ;&& movecontact
trigger3 = movecontact
trigger4 = var(21)
trigger5 = stateno = 231  && movecontact

[State -1, Ryujin Kyaku medium]
type = ChangeState
value = 1060
triggerall = Var(59) = 0
triggerall = command = "Ryujin Kyaku medium"
triggerall = NumProjID(1000) = 0
triggerall = statetype = A
trigger1 = ctrl
trigger2 = (stateno=[600,625]) && movecontact
trigger3 = stateno = [1400,1416] ;&& movecontact
trigger3 = movecontact
trigger4 = var(21)
trigger5 = stateno = 231  && movecontact

[State -1, Ryujin Kyaku strong]
type = ChangeState
value = 1070
triggerall = Var(59) = 0
triggerall = command = "Ryujin Kyaku strong"
triggerall = NumProjID(1000) = 0
triggerall = statetype = A
trigger1 = ctrl
trigger2 = (stateno=[600,625]) && movecontact
trigger3 = stateno = [1400,1416] ;&& movecontact
trigger3 = movecontact
trigger4 = var(21)
trigger5 = stateno = 231  && movecontact

;---------------------------------------------------------------------------
;Mouryou Kasen
[State -1, Mouryou Kasen weak ]
type = ChangeState
value = 1400
triggerall = Var(59) = 0
triggerall = command = "Mouryou Kasen weak"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Mouryou Kasen medium ]
type = ChangeState
value = 1405
triggerall = Var(59) = 0
triggerall = command = "Mouryou Kasen medium"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Mouryou Kasen strong ]
type = ChangeState
value = 1410
triggerall = Var(59) = 0
triggerall = command = "Mouryou Kasen strong"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;---------------------------------------------------------------------------
;Mekuu Zangeki
[State -1, Mekuu Zangeki weak]
type = ChangeState
value = 1200
triggerall = Var(59) = 0
triggerall = command = "Mekuu Zangeki weak"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Mekuu Zangeki medium]
type = ChangeState
value = 1205
triggerall = Var(59) = 0
triggerall = command = "Mekuu Zangeki medium"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

[State -1, Mekuu Zangeki strong]
type = ChangeState
value = 1210
triggerall = command = "Mekuu Zangeki strong"
triggerall = statetype != A
trigger1 = ctrl
trigger2 = (stateno=[200,430]) && movecontact
trigger3 = var(21)
trigger4 = ctrl || (stateno=[100,102])

;===========================================================================
;System moves
;taunt
[State -1, taunt]
type = ChangeState
value = 195
triggerall = Var(59) = 0
triggerall = command = "start"
trigger1 = statetype != A
trigger1 = ctrl
trigger2 = ctrl || (stateno=[100,102])

;---------------------------------------------------------------------------
;Dash/run
[State -1, run]
type = ChangeState
value = 100
triggerall = Var(59) = 0
trigger1 = command = "FF"
trigger1 = statetype = S
trigger1 = ctrl

;Back Dash
[State -1, Back dash]
type = ChangeState
value = 105
triggerall = Var(59) = 0
trigger1 = command = "BB"
trigger1 = statetype = S
trigger1 = ctrl

;---------------------------------------------------------------------------
;Dodge
[State -1, roll forward]
type = ChangeState
value = 300
triggerall = Var(59) = 0
triggerall = command = "x" && command = "a" && command = "holdfwd"
triggerall = statetype = S
trigger1 = ctrl || (stateno=[100,102])

[State -1, roll back]
type = ChangeState
value = 301
triggerall = Var(59) = 0
triggerall = command = "x" && command = "a" && command = "holdback"
triggerall = statetype = S
trigger1 = ctrl || (stateno=[100,102])

[State -1, Dodge]
type = ChangeState
value = 302
triggerall = Var(59) = 0
triggerall = command = "x" && command = "a"
triggerall = statetype = S
trigger1 = ctrl || (stateno=[100,102])

;---------------------------------------------------------------------------
;Recovery
[State -1, airrecover]
type=changestate
value= ifelse((pos y>=-20), 5200, 5210)
trigger1= var(59)>=1 && numenemy
trigger1= roundstate=2 && alive
trigger1= stateno=5050 && canrecover
trigger1= vel y>=-1 && random<30;50

[State -1, recoveryroll]
type=changestate
trigger1= var(59)<=0
trigger1= command="2k"
trigger1= stateno=5050 && vel y>-1 && alive
value=5220

;---------------------------------------------------------------------------
;Powercharge
[State -1, powercharge]
type=changestate
value=340
triggerall = ctrl || (stateno=[100,102])
trigger1= var(59)<=0
trigger1= command="holdb" && command="holdy"
trigger1= roundstate=2 && statetype!=A && ctrl
trigger1= power<const(data.power) && power<powermax && !var(20)

;---------------------------------------------------------------------------
;Zerocounter
[State -1, zerocounter]
type=changestate
value=350
triggerall = Var(59) = 0
trigger1= var(56)<=0
trigger1= stateno=150 || stateno=152
trigger1= command="bdx" || command="bdy" || command="bdz" || command="bda" || command="bdb" || command="bdc"
trigger1= roundstate=2 && !var(20) && power>=1000 && statetype!=A

[State -1, zerocounter - kof style scape - roll foward]
type=changestate
value=351
triggerall = Var(59) = 0
trigger1= var(56)<=0
trigger1= stateno=150 || stateno=152
trigger1= command = "x" && command = "a" && command = "holdfwd"
trigger1= roundstate=2 && !var(20) && power>=1000 && statetype!=A

[State -1, zerocounter - kof style scape - roll back]
type=changestate
value=352
triggerall = Var(59) = 0
trigger1= var(56)<=0
trigger1= stateno=150 || stateno=152
trigger1=  command = "x" && command = "a" && command = "holdback"
trigger1= roundstate=2 && !var(20) && power>=1000 && statetype!=A

;---------------------------------------------------------------------------
;Excel - Original combo
[State -1, Original Combo]
type=changestate
value=360
triggerall = Var(59) = 0
triggerall=var(20)<=0
trigger1=  command = "c" && command = "z"
trigger1= roundstate=2 && power>=1000 && !var(20)
trigger1= ctrl || (stateno=[100,102])
trigger1= ctrl

[state -1, Original Combo Checker]
type = varset
trigger1 = var(20)>0
trigger1 = stateno=[200,1999]
trigger1 = movecontact
trigger2 = var(21):= 0
var(21) = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
;Trhows
[State -1, Trhow1 - Kutei Kaku]
type = ChangeState
value = 800
triggerall = Var(59) = 0
triggerall = command = "z"
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100
trigger1 = command = "holdfwd"
trigger1 = p2bodydist X < 3
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H
trigger2 = command = "holdback"
trigger2 = p2bodydist X < 5
trigger2 = (p2statetype = S) || (p2statetype = C)
trigger2 = p2movetype != H

[State -1, Trhow2 - Ura Jigoku Guruma]
type = ChangeState
value = 810
triggerall = Var(59) = 0
triggerall = command = "c"
triggerall = statetype = S
triggerall = ctrl
triggerall = stateno != 100
trigger1 = command = "holdfwd"
trigger1 = p2bodydist X < 3
trigger1 = (p2statetype = S) || (p2statetype = C)
trigger1 = p2movetype != H
trigger2 = command = "holdback"
trigger2 = p2bodydist X < 5
trigger2 = (p2statetype = S) || (p2statetype = C)
trigger2 = p2movetype != H

;===========================================================================
;Basic atacks

;Command moves
[State -1, Ryuubu]
type = ChangeState
value = 230
triggerall = Var(59) = 0
triggerall = command != "holddown"
triggerall = command = "fwd_b"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = (stateno=[200,226]) && movecontact
trigger3 = ctrl || (stateno=[100,102])
trigger4 = var(21)

;---------------------------------------------------------------------------
;low punch
[State -1, low punch]
type = ChangeState
value = 200
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = ctrl || (stateno=[100,102])
trigger3 = var(21)

;Medium punch
[State -1, Medium punch]
type = ChangeState
value = 205
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200 && movecontact
trigger3 = stateno = 215 && movecontact
trigger4 = stateno = 216 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;Strong punch
[State -1, Strong punch]
type = ChangeState
value = 210
triggerall = Var(59) = 0
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = P2bodydist X >= 10
trigger1 = ctrl
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 220 && movecontact
trigger4 = stateno = 221 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;Strong punch (close)
[State -1, Strong punch (close)]
type = ChangeState
value = 211
triggerall = Var(59) = 0
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = statetype = S
triggerall = P2bodydist X < 10
trigger1 = ctrl
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 220 && movecontact
trigger4 = stateno = 221 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;Low kick
[State -1, Low kick]
type = ChangeState
value = 215
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 10
triggerall = statetype = S
trigger1 = ctrl
trigger2 = ctrl || (stateno=[100,102])
trigger3 = var(21)

;Low kick (close)
[State -1, Low kick]
type = ChangeState
value = 216
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = P2bodydist X <= 14
triggerall = statetype = S
trigger1 = ctrl
trigger2 = ctrl || (stateno=[100,102])
trigger3 = var(21)

;Medium kick
[State -1, Medium kick]
type = ChangeState
value = 220
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 35
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 215 && movecontact
trigger4 = stateno = 216 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;Medium kick (close)
[State -1, Medium kick (close)]
type = ChangeState
value = 221
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = P2bodydist X <= 36
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 200
trigger3 = stateno = 215 && movecontact
trigger4 = stateno = 216 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;strong kick
[State -1, strong kick]
type = ChangeState
value = 225
triggerall = Var(59) = 0
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = P2bodydist X >= 34
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 220 && movecontact
trigger4 = stateno = 221 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;Strong kick (close)
[State -1, Strong kick (close)]
type = ChangeState
value = 226
triggerall = Var(59) = 0
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = P2bodydist X <= 35
triggerall = statetype = S
trigger1 = ctrl
trigger2 = stateno = 205 && movecontact
trigger3 = stateno = 220 && movecontact
trigger4 = stateno = 221 && movecontact
trigger5 = ctrl || (stateno=[100,102])
trigger6 = var(21)

;------------------------------------------------------------------------------
;Crouch low punch
[State -1, Crouch low punch]
type = ChangeState
value = 400
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = var(21)

;Crouch medium punch
[State -1, Crouch medium punch]
type = ChangeState
value = 410
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 400 && movecontact
trigger3 = stateno = 420 && movecontact
trigger4 = var(21)

;Crouch strong punch
[State -1, Crouch strong punch]
type = ChangeState
value = 415
triggerall = Var(59) = 0
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 410 && movecontact
trigger3 = stateno = 425 && movecontact
trigger4 = var(21)

;Crouch low kick
[State -1, Crouch low kick]
type = ChangeState
value = 420
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 430
trigger3 = var(21)

;Crouch medium kick
[State -1, Crouch medium kick]
type = ChangeState
value = 425
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 400 && movecontact
trigger3 = stateno = 420 && movecontact
trigger4 = var(21)

;Crouch strong kick
[State -1, Crouch strong kick]
type = ChangeState
value = 430
triggerall = Var(59) = 0
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = statetype != A
trigger1 = ctrl || (stateno=[100,102])
trigger2 = stateno = 410 && movecontact
trigger3 = stateno = 425 && movecontact
trigger4 = var(21)

;---------------------------------------------------------------------------
;Air low punch
[State -1, Air low punch]
type = ChangeState
value = 600
triggerall = Var(59) = 0
triggerall = command = "x"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(21)

;Air medium punch
[State -1, Air medium punch]
type = ChangeState
value = 605
triggerall = Var(59) = 0
triggerall = command = "y"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 615 && movecontact
trigger4 = var(21)

;Air strong punch
[State -1, Air strong punch]
type = ChangeState
value = 610
triggerall = Var(59) = 0
triggerall = command = "z"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605 && movecontact
trigger3 = stateno = 620 && movecontact
trigger4 = var(21)

;Air low kick
[State -1, Air low kick]
type = ChangeState
value = 615
triggerall = Var(59) = 0
triggerall = command = "a"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = var(21)

;Air medium kick
[State -1, Air medium kick]
type = ChangeState
value = 620
triggerall = Var(59) = 0
triggerall = command = "b"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 600 && movecontact
trigger3 = stateno = 615 && movecontact
trigger4 = var(21)

;Air strong kick
[State -1, Air stong kick]
type = ChangeState
value = 625
triggerall = Var(59) = 0
triggerall = command = "c"
triggerall = statetype = A
trigger1 = ctrl
trigger2 = stateno = 605 && movecontact
trigger3 = stateno = 620 && movecontact
trigger4 = var(21)


;== [ A.I ] ==================================================
;------------------------------------------------------------
[State -1, run]
type = ChangeState
value = 100
triggerall = var(59) = 1
trigger1 = statetype != A && roundstate = 2 && ctrl && random < 100
trigger1 = (stateno != [100, 105]) && enemynear, movetype != A && p2dist x >= 150

[State -1, Back dash]
type = ChangeState
value = 105
triggerall = var(59) = 1
triggerall = roundstate = 2 && statetype != A
triggerall = stateno = 100 && p2dist x <= 150
trigger1 = anim = 100 && time >= 1

[State -1]
Type = Changestate
triggerall = var(59) = 1
triggerall = roundstate = 2
triggerall = Inguarddist
triggerall = ctrl
trigger1 = random < 500
value = 120

[State -1, Dodge]
type = ChangeState
value = 302
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 200 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2movetype = A
triggerall = p2bodydist X = [-5,70]
triggerall = enemynear,HitDefAttr = SCA, NA,SA,HA
triggerall = stateno != 100
trigger1 = ctrl

[State -1, Dodge counter atack]
type = ChangeState
value = 304
triggerall = var(59) = 1
triggerall = roundstate = 2 && statetype != A
triggerall = p2statetype != A && p2statetype != L
triggerall = stateno = 302
trigger1 = anim = 1300 && time >= 15

[State -1, powercharge]
type = changestate
value = 340
triggerall = var(59) = 1
trigger1 = roundstate = 2 && statetype != A && ctrl
trigger1 = power < const(data.power) && power < powermax
trigger1 = random < 100 && !inguarddist && p2movetype != A && p2dist x >= 160
trigger1 = !var(20)

[State -1, Trhow1 - Kutei Kaku]
type = ChangeState
value = 800
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 100 && statetype != A && backedgedist >= 120
triggerall = p2statetype != A && p2bodydist X < 3 && p2movetype != H
triggerall = stateno != 100
trigger1 = ctrl

[State -1, Trhow2 - Ura Jigoku Guruma]
type = ChangeState
value = 810
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 100 && statetype != A && backedgedist <= 100
triggerall = p2statetype != A && p2bodydist X < 3 && p2movetype != H
triggerall = stateno != 100
trigger1 = ctrl

;------------------------------------------------------------
[State -1, Kyouja Renbu Shun Goku satsu]
type = changestate
value = 7200
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 400 && statetype != A && power >= 3000 && !var(20)
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 120
trigger1 = ctrl
trigger2 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact

[State -1, Maki Shinki Hatsudou]
type = ChangeState
value = 3000
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 200 && statetype != A && power >= 2000
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 140
triggerall = NumHelper(6150) = 0
trigger1 = ctrl
trigger2 = numhelper(2244)
trigger2 = helper,movecontact

[State -1, Maki Shinki Hatsudou]
type = ChangeState
value = 3000
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 300 && statetype != A && power >= 2000
triggerall = numpartner >= 1 && (partner, alive)
triggerall = p2statetype != A && p2statetype != L
triggerall = NumHelper(6150) = 0
trigger1 = ctrl
trigger2 = numhelper(2244)
trigger2 = helper,movecontact

[State -1, Air Shinki Hatsudou Kai]
type = ChangeState
value = 3200
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = statetype = A && power >= 1000
triggerall = NumProjID(1000) = 0
triggerall = p2stateno = [5020, 5050]
triggerall = p2statetype = A && p2dist x <= 90 && p2dist y >= -70 && p2dist y <= 30
trigger1 = ctrl
trigger2 = stateno = 1600 && movecontact

[State -1, Air Garyuu Messhuu]
type = ChangeState
value = 3400
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 400 && statetype = A && power >= 1000
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 120 && p2dist y <= 100 && p2dist y >=20 && movehit
trigger1 = ctrl
trigger2 = (stateno = 625 || stateno = 1070) && movecontact && movehit

[State -1, Kyouja Renbu]
type = ChangeState
value = 3500
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 400 && statetype != A && power >= 2000
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 120 && movehit
trigger1 = ctrl
trigger2 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact && movehit
trigger3 = numhelper(2244)
trigger3 = helper,movecontact

[State -1, Sairou Kyushuu]
type = changestate
value = 4200
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 400 && statetype != A && power >= 1000 && !var(20) && (enemynear, backedgedist <= 80)
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 110 && movehit
trigger1 = ctrl
trigger2 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact && movehit

[State -1, Shouky Hatsudou]
type = changestate
value = 4500
triggerall = var(59) = 1
triggerall = var(20) <= 0
triggerall = roundstate = 2 && random < 400 && statetype != A && power >= 3000 && var(20) <= 60
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 120 && movehit
trigger1 = ctrl
trigger2 = numhelper(2244)
trigger2 = helper, movecontact

;------------------------------------------------------------
[State -1, Shinki Hatsudou weak]
type = ChangeState
value = 1000
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A && movehit && !inguarddist
triggerall = p2statetype != A && p2statetype != L && p2statetype = C && p2dist x <= 120 && p2dist x >= 60
triggerall = NumProjID(1000) = 0
trigger1 = ctrl
trigger2 = var(21)
trigger3 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact && movehit

[State -1, Shinki Hatsudou medium]
type = ChangeState
value = 1002
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A && !inguarddist
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 160 && p2dist x >= 150
triggerall = NumProjID(1000) = 0
trigger1 = ctrl
trigger2 = var(21)

[State -1, Shinki Hatsudou strong]
type = ChangeState
value = 1003
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A && !inguarddist
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 210 && p2dist x >= 190
triggerall = NumProjID(1000) = 0
trigger1 = ctrl
trigger2 = var(21)

[State -1, Ryujin Kyaku strong]
type = ChangeState
value = 1070
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype = A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 140 && p2dist y <= 100 && p2dist y >= 30
triggerall = NumProjID(1000) = 0
trigger1 = ctrl
trigger2 = var(21)

[State -1, Mekuu Zangeki strong]
type = ChangeState
value = 1210
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A && movehit
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 130
trigger1 = ctrl
trigger2 = var(21)
trigger3 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact && movehit

[State -1, Mekuu Zangeki strong]
type = ChangeState
value = 1210
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 130 && p2dist x >= 80
trigger1 = ctrl
trigger2 = var(21)

[State -1, Mouryou Kasen strong ]
type = ChangeState
value = 1410
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 110 && p2dist x >= 80
trigger1 = ctrl
trigger2 = var(21)
trigger3 = (stateno = 205 || stateno = 211 || stateno = 221 || stateno = 304 || stateno = 425) && movecontact

[State -1, Mouryou Kasen strong 2 ]
type = ChangeState
type = ChangeState
value = 1412
triggerall = var(59) = 1
triggerall = statetype = A
trigger1 = stateno = 1411 && (movehit || moveguarded) && AnimElem = 4

[State -1, Mouryou Kasen strong 3 ]
type = ChangeState
type = ChangeState
value = 1413
triggerall = var(59) = 1
triggerall = statetype = A
trigger1 = stateno = 1412 && (movehit || moveguarded) && AnimElem = 5

[State -1, Mouryou Kasen strong 4 ]
type = ChangeState
type = ChangeState
value = 1414
triggerall = var(59) = 1
triggerall = statetype = A
trigger1 = stateno = 1413 && (movehit || moveguarded) && AnimElem = 5

[State -1, Makuu Shihai]
type = changestate
value = 1500
triggerall = var(59) = 1
triggerall = var(7) != 1
triggerall = roundstate = 2 && random < 200 && statetype != A
triggerall = p2statetype != A && p2dist x <= 160 && p2dist x >= 80
triggerall = var(41) := 2
trigger1= ctrl
trigger2 = var(21)

[State -1, Makuu Shihai]
type = changestate
value =1500
triggerall = var(59) = 1
triggerall = var(7) != 1
triggerall = roundstate = 2 && random < 200 && statetype != A
triggerall = p2statetype != A && p2dist x >= 170
triggerall = var(41) := 3
trigger1= ctrl
trigger2 = var(21)

[State -1, Makuu Shihai]
type = changestate
value =1500
triggerall = var(59) = 1
triggerall = var(7) != 1
triggerall = roundstate = 2 && random < 200 && statetype != A && backedgedist <= 100
triggerall = p2statetype != A && p2dist x <= 100
triggerall = var(41) := 2
trigger1= ctrl
trigger2 = var(21)

[State -1, Makuu Shihai teleport 1]
type = changestate
value =1510
triggerall = var(59) = 1
triggerall = var(7) = 1
triggerall = roundstate = 2 && random < 200 && statetype != A
triggerall = p2statetype != A && p2dist x >= 160
trigger1= ctrl
trigger2 = var(21)

[State -1, Makuu Shihai teleport 1]
type = changestate
value = 1510
triggerall = var(59) = 1
triggerall = var(7) = 1
triggerall = roundstate = 2 && random < 200 && statetype != A && backedgedist <= 100
triggerall = p2statetype != A && p2dist x <= 100
trigger1= ctrl
trigger2 = var(21)

[State -1, Maryu Rekouu weak]
type = ChangeState
value = 1600
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A && p2movetype != H
triggerall = p2statetype = A && p2statetype != L && p2dist x <= 80 && p2dist y >= -100
trigger1 = ctrl
trigger2 = var(21)

[State -1, EX Maryu Rekouu]
type = ChangeState
value = 1611
triggerall = var(59) = 1
triggerall = var(20) = 0
triggerall = roundstate = 2 && random < 400 && statetype != A && power >= 500 && p2movetype != H
triggerall = p2statetype = A && p2statetype != L && p2dist x <= 100 && p2dist y >= -90
trigger1 = ctrl

;------------------------------------------------------------
[State -1, Crouch low kick]
type = ChangeState
value = 420
triggerall = var(59) = 1
triggerall = roundstate = 2 && statetype != A
triggerall = random = [800,1000]
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 100
trigger1 = ctrl
trigger2 = var(21)

[State -1, Crouch medium kick]
type = ChangeState
value = 425
triggerall = var(59) = 1
triggerall = roundstate = 2 && statetype != A
triggerall = random = [800,1000]
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 110
trigger1 = ctrl
trigger2 = var(21)
trigger3 = stateno = 420 && movecontact

[State -1, low punch]
type = ChangeState
value = 200
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 80
trigger1 = ctrl
trigger2 = var(21)

[State -1, Medium punch]
type = ChangeState
value = 205
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 100
trigger1 = ctrl
trigger2 = var(21)
trigger3 = stateno = 200 && movecontact

[State -1, Strong punch]
type = ChangeState
value = 210
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x > 80 && p2dist x <= 110
trigger1 = ctrl
trigger2 = var(21)

;Strong punch (close)
[State -1, Strong punch]
type = ChangeState
value = 211
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 80
trigger1 = ctrl
trigger2 = var(21)

[State -1, Low kick]
type = ChangeState
value = 215
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 110 && p2dist x > 80
trigger1 = ctrl
trigger2 = var(21)

[State -1, Low kick]
type = ChangeState
value = 216
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 80
trigger1 = ctrl
trigger2 = var(21)

[State -1, Medium kick]
type = ChangeState
value = 220
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 500 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 130 && p2dist x > 100
trigger1 = ctrl
trigger2 = var(21)
trigger3 = stateno = 215 && movecontact

[State -1, Medium kick (close)]
type = ChangeState
value = 221
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 100
trigger1 = ctrl
trigger2 = var(21)
trigger3 = stateno = 216 && movecontact

[State -1, strong kick]
type = ChangeState
value = 225
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2statetype != C && p2dist x <= 130 && p2dist x > 100
trigger1 = ctrl
trigger2 = var(21)
trigger3 = stateno = 220 && movecontact

[State -1, Ryuubu]
type = ChangeState
value = 230
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 200 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 140 && p2dist x > 100
trigger1 = ctrl
trigger2 = var(21)

[State -1, Crouch strong punch]
type = ChangeState
value = 415
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 600 && statetype != A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 90 && p2dist y >= -100
trigger1 = ctrl
trigger2 = var(21)

[State -1, Crouch strong kick]
type = ChangeState
value = 430
triggerall = var(59) = 1
triggerall = roundstate = 2 && statetype != A
triggerall = random = [800,1000]
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 130 && p2dist x >= 70
trigger1 = ctrl
trigger2 = var(21)

[State -1, Air strong punch]
type = ChangeState
value = 610
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype = A
triggerall = p2statetype = A && p2statetype != L && p2dist x <= 100 && p2dist y >= -60 && p2dist y <= 0
trigger1 = ctrl
trigger2 = var(21)

[State -1, Air stong kick]
type = ChangeState
value = 625
triggerall = var(59) = 1
triggerall = roundstate = 2 && random < 400 && statetype = A
triggerall = p2statetype != A && p2statetype != L && p2dist x <= 100 && p2dist y <= 100 && p2dist y >= 40
trigger1 = ctrl
trigger2 = var(21)