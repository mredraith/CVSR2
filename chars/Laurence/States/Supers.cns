;------------------------------------------------------------------
;Bloody Flash
[Statedef 3000]
type=S
movetype=A
physics=N
anim=3000
poweradd=-1000
ctrl=0
velset=0,0
sprpriority=2


[State 3000, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3000, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3000, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3000, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3000, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos=0,-80
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3000,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 0
channel = 8

[State 3000, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(6) < 0
time=1
value=SCA

[State 3000, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 128,128,128
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3000, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3000, Grab Sword]
type = PlaySnd
trigger1 = animelem = 2
value = s810,1

[State 3000, Width]
type = Width
trigger1 =animelemtime(3)>=0&&animelemtime(7)<0
edge = 40,0
player = 90,0

[State 3000, Width]
type = Width
trigger1 =animelemtime(7)>=0&&animelemtime(35)<0
edge = 40,0
player = 130,0

[State 3000,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3000,1]
type = PlaySnd
trigger1 = Animelem = 6
trigger2 = AnimElem = 19
trigger3 = AnimElem = 32
value = s1,7

[State 3000,1]
type = PlaySnd
trigger1 = Animelem = 11
trigger2 = AnimElem = 24
value = s1,6

[State 3000, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
trigger2 = Animelem = 6
trigger3 = AnimElem = 11
trigger4 = AnimElem = 19
trigger5 = AnimElem = 24
trigger6 = AnimElem = 32
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3000,1]
type = PlaySnd
trigger1 = Animelem = 6
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 24
trigger5 = AnimElem = 32
value = s180,3
volumescale = 255
channel = 0

[State 3000, Explod]
type = Explod
trigger1 = Animelem = 5
trigger2 = AnimElem = 18
trigger3 = AnimElem = 31
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3000, Explod]
type = Explod
trigger1 = Animelem = 5
trigger2 = AnimElem = 18
trigger3 = AnimElem = 31
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 23
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999



[State 3000, Explod]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 23
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3000, velset]
type = velset
trigger1 = AnimElem = 3
x = 14

[State 3000, velset]
type = velset
trigger1 = AnimElem = 6
x = 3

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 3,2
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -6
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
p2stateno = 3306
kill = 0

[State 3000, 5]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 19
trigger3 = AnimElem = 24
trigger4 = AnimElem = 32
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 3,3
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -3
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
p2stateno = 3306
kill = 0

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 1

;---------------------------------------------------------------------------
;Bloody Flash Slicing
[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = 0
anim = 3001
ctrl = 0
sprpriority = 2

[State 3001, velset]
type = velset
trigger1 = AnimElem = 1
x = 3

[State 3001,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s0,7
volumescale = 255

[State 3001,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,6

[State 3001, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(6)<0
edge = 40,0
player = 70,0

[State 3001, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3001, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3001, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3001, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 3,3
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,12
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -3
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3001, 7]
type = ChangeState
trigger1 = Movecontact = 1
trigger1 = AnimElem =2
trigger2 = animTime = 0
value = 3002
ctrl = 0

[State 3001, 7]
type = ChangeState
trigger1 = Movecontact = 0
trigger1 = AnimElem =6
trigger2 = animTime = 0
value = 3020
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Flash Slicing 2
[Statedef 3002]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 12.0,0
poweradd = 0
anim = 3002
ctrl = 0
sprpriority = 2

[State 3002,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s0,8
volumescale = 255
channel = 0

[State 3002,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s0,9
volumescale = 255
channel = 0

[State 3002,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,7

[State 3002,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s1,6

[State 3002, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(3)<0
edge = 40,0
player = 70,0

[State 3002, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
trigger2 = Animelem = 6
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3006
ID = 3005
pos = 60,-90
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3006
ID = 3005
pos = 60,-90
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3002, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3002, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,15
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -7,-5
air.velocity = -7,-3
airguard.velocity = -1.9,-.8
fall = 1
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 20
fall.envshake.ampl = 5
kill = 1

[State 3002, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3030
ctrl = 0
;---------------------------------------------------------------------------
;Bloody Flash Ending
[Statedef 3020]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 3020
ctrl = 0
sprpriority = 2

[State 3020, Grab Sword]
type = PlaySnd
trigger1 = animelem = 2
value = s810,1

[State 3020, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Bloody Flash Ending 2
[Statedef 3030]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 3030
ctrl = 0
sprpriority = 2

[State 3030, Grab Sword]
type = PlaySnd
trigger1 = animelem = 2
value = s810,1

[State 3030, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
;Max Bloody Flash
[Statedef 3050]
type=S
movetype=A
physics=N
anim=3050
poweradd=-2000
ctrl=0
velset=0,0
sprpriority=2


[State 3050, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3050, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3050, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3050, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3050,4999]) && var(7)
[State 3050, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3050, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3050, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8510
ID=8510
name="Superpause FX"
posType=P1
pos=0,-80
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3050, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3050,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 1
channel = 8

[State 3050, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(6) < 0
time=1
value=SCA

[State 3050, Level 2 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
framegap = 10
length = 21
palBright = 0,0,0
palContrast = 32,32,160
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3050, Grab Sword]
type = PlaySnd
trigger1 = animelem = 2
value = s810,1

[State 3050, Width]
type = Width
trigger1 =animelemtime(3)>=0&&animelemtime(7)<0
edge = 0,0
player = 90,0

[State 3050, Width]
type = Width
trigger1 =animelemtime(7)>=0&&animelemtime(61)<0
edge = 0,0
player = 120,0

[State 3050,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3050,1]
type = PlaySnd
trigger1 = Animelem = 6
trigger2 = AnimElem = 19
trigger3 = AnimElem = 32
trigger4 = AnimElem = 45
trigger5 = AnimElem = 58
value = s1,7

[State 3050,1]
type = PlaySnd
trigger1 = Animelem = 11
trigger2 = AnimElem = 24
trigger3 = AnimElem = 37
trigger4 = AnimElem = 50
value = s1,6

[State 3050, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 19
trigger4 = AnimElem = 24
trigger5 = AnimElem = 32
trigger6 = AnimElem = 37
trigger7 = AnimElem = 45
trigger8 = AnimElem = 50
trigger9 = AnimElem = 58
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3050, Explod]
type = Explod
trigger1 = Animelem = 5
trigger2 = AnimElem = 18
trigger3 = AnimElem = 31
trigger4 = AnimElem = 44
trigger5 = AnimElem = 57
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3050, Explod]
type = Explod
trigger1 = Animelem = 5
trigger2 = AnimElem = 18
trigger3 = AnimElem = 31
trigger4 = AnimElem = 44
trigger5 = AnimElem = 57
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999



[State 3050, Explod]
type = Explod
trigger1 = Animelem = 10
trigger2 = AnimElem = 23
trigger3 = AnimElem = 36
trigger4 = AnimElem = 49
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3050, Explod]
type = Explod
trigger1 = Animelem = 10
trigger2 = AnimElem = 23
trigger3 = AnimElem = 36
trigger4 = AnimElem = 49
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3050,1]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 19
trigger3 = AnimElem = 24
trigger4 = AnimElem = 32
trigger5 = AnimElem = 37
trigger6 = AnimElem = 45
trigger7 = AnimElem = 50
trigger8 = AnimElem = 58
value = s180,3
volumescale = 255
channel = 0

[State 3050, velset]
type = velset
trigger1 = AnimElem = 3
x = 14

[State 3050, velset]
type = velset
trigger1 = AnimElem = 6
x = 3

[State 3050, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3050, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 4,3
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -6
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
p2stateno = 3306
kill = 0

[State 3050, 5]
type = HitDef
trigger1 = AnimElem = 11
trigger2 = AnimElem = 19
trigger3 = AnimElem = 24
trigger4 = AnimElem = 32
trigger5 = AnimElem = 37
trigger6 = AnimElem = 45
trigger7 = AnimElem = 50
trigger8 = AnimElem = 58
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -3
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
p2stateno = 3306
kill = 0

[State 3050, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3051
ctrl = 1

;---------------------------------------------------------------------------
;Max Bloody Flash Slicing
[Statedef 3051]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = 0
anim = 3001
ctrl = 0
sprpriority = 2

[State 3051, velset]
type = velset
trigger1 = AnimElem = 1
x = 3

[State 3051,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s0,7
volumescale = 255

[State 3051,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,6

[State 3051, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(6)<0
edge = 40,0
player = 70,0

[State 3051, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3051, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,12
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -3
air.velocity = -2,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3051, 7]
type = ChangeState
trigger1 = Movecontact = 1
trigger1 = AnimElem =2
trigger2 = animTime = 0
value = 3052
ctrl = 0

[State 3051, 7]
type = ChangeState
trigger1 = Movecontact = 0
trigger1 = AnimElem =6
trigger2 = animTime = 0
value = 3020
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Flash Slicing 2
[Statedef 3052]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 14,0
poweradd = 0
anim = 3002
ctrl = 0
sprpriority = 2

[State 3052,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s0,8
volumescale = 255
channel = 0

[State 3052,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s0,9
volumescale = 255
channel = 0

[State 3052,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,7

[State 3052,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s1,6

[State 3052, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(3)<0
edge = 40,0
player = 70,0

[State 3052, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
trigger2 = Animelem = 6
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3052, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3052, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3052, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3006
ID = 3005
pos = 60,-80
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3052, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 3006
ID = 3005
pos = 60,-80
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3052, 5]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 3,3
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3052, 5]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype  = Hard
damage    = 25,8
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 180), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,15
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -7,-5
air.velocity = -7,-3
airguard.velocity = -1.9,-.8
fall = 1
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 20
fall.envshake.ampl = 5
kill = 1

[State 3052, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3030
ctrl = 0
;----------------------------------------------------------------------------------------------
;Final Death Bloody
[Statedef 3100]
type = S
movetype= I
physics = S
ctrl = 0
anim = 3100
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = -3000


[State 3100, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3100, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3100, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3100, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3100, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3100, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3100, SuperPause FX]
type=Helper
trigger1 = AnimElem = 4
helperType=Normal
stateNo=8520
ID=8520
name="Superpause FX"
posType=P1
pos=-15,-130
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1


[State 3100, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=48
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3100, NotHitBy]
type = NotHitBy
trigger1 = animelem = 7,< 0
value = SCA

[State 3100, Level 3 Super AfterImage]
type = AfterImage
trigger1 = animelem = 5
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 160,32,32
palPostBright = 0,0,0
palAdd = 0,0,0
palMul= 0.75,0.75,0.75
trans = Add1

[State 3100,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 8500, 2
channel = 8

[State 3100, Grab Sword]
type = PlaySnd
trigger1 = animelem = 6
value = s810,1

[State 3100,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 190, 1
volumescale = 255
channel = 0

[State 3100, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3100,1]
type = PlaySnd
trigger1 = Animelem = 2
trigger2 = Animelem = 4
value = s195,0
volumescale = 255

[State 3100, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110
ctrl = 0

;---------------------------------------------------------------------------
;Final Death Bloody
[Statedef 3110]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3110


[State 3110, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s1,8

[State 3110, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s1100,0
persistent = 0

[State 3110, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s0,9
volumescale = 255


[State 3110, 2]
type = velset
trigger1 = time >=0
x = 20

[State 3110, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1


[State 3110, Hit]
type = hitdef
trigger1 = time = 0
forcenofall = !var(20)
attr = S, HA
hitflag = MAF
guardflag = M
priority = 4, Hit
damage= 5,3
getpower = 0, 0
givepower = 36, 36
pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.hittime = 24 + 2 * var(9)
ground.slidetime = 24 + 2 * var(9)
guard.hittime = 24
air.hittime = 120
ground.velocity = ifelse(var(20), -2.41, -4.49), 0
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -2.41, -4.49)
guard.cornerpush.veloff = 0
air.velocity = -5.40, -5.65
air.cornerpush.veloff = 0
yaccel = 0.58
fall = 0
fall.recover = 1
fall.recovertime = 120
hitsound=S2+10*var(44), 2
guardsound = S130,0
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 70), var(36) := -80
palfx.time = 12 * var(9)
palfx.add = 255, 255, 255
palfx.sinadd = -255, -255, -255, 48
envshake.time = 12
envshake.ampl = 6
kill = 0

[State 3110, Throw]
type = TargetState
trigger1 = time > 1 && movehit && numtarget
value = 3306
ignorehitpause = 1
persistent = 0

[State 3110, 5]
type = ChangeState
trigger1 = MoveHit = 1
value = 3120
ctrl = 0

[State 3110, 6]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 3130
ctrl = 0

[State 3110, 7]
type = ChangeState
trigger1 = Movecontact = 0
trigger1 = time = 25
value = 3130
ctrl = 0

;---------------------------------------------------------------------------
;Final Death Bloody
[Statedef 3120]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = 0
anim = 3120
ctrl = 0
sprpriority = -1

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3120,1]
type = sprpriority
trigger1 = Animelem >= 4
value = 2

[State 3120, EnvShake]
type = EnvShake
trigger1 = Animelem = 4
time = 10
ampl = 5

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = s800,0

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,10


[State 3120, Width]
type = Width
trigger1 = anim = 3120
value = 60,0
edge = 150,0

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = s3000,1
channel = 0
volumescale = 255

[State 3120, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = s3000,1
channel = 2
volumescale = 255

[State 3110, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 78
value = s0,10
volumescale = 255


[State 3110, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 92
value = s3000,2
volumescale = 255
channel = 0

[State 3110, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 92
value = s3000,2
volumescale = 5
channel = 1

[State 3120, 6]
type = Helper
trigger1 = animelem = 5 && NumTarget
ID = 3125
pos = ceil(40 * const(size.xScale)), ceil(0 * const(size.yScale))
postype = p1
stateno = 3125
helpertype = normal
name = "Mant"
keyctrl = 0
ownpal = 1


[State 3120, 0]
type = TargetBind
trigger1 = time = 0
time = 15
id = -1
pos = 110,-10

[State 3120, Bind 1]
type = TargetBind
trigger1= animelemtime(5)>=0 && animelemtime(100)<0
pos = 140,-10

[State 3120, 2]
type = veladd
trigger1 = Animelem = 92
trigger2 = Animelem = 93
trigger3 = Animelem = 94
trigger4 = Animelem = 95
trigger5 = Animelem = 96
trigger6 = Animelem = 97
trigger7 = Animelem = 98
trigger8 = Animelem = 99
x = 2

[State 3120, 2]
type = veladd
trigger1 = Animelem >= 101
x = 0

[State 3120, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3120,1]
type = PlaySnd
trigger1 = Animelem = 9
trigger2 = AnimElem = 21
trigger3 = AnimElem = 33
trigger4 = AnimElem = 45
trigger5 = AnimElem = 57
trigger6 = AnimElem = 69
trigger7 = AnimElem = 79
value = s1,7


[State 3120,1]
type = PlaySnd
trigger1 = Animelem = 13
trigger2 = AnimElem = 25
trigger3 = AnimElem = 37
trigger4 = AnimElem = 49
trigger5 = AnimElem = 61
trigger6 = AnimElem = 73
trigger7 = AnimElem = 83
value = s1,6

[State 3120,1]
type = PlaySnd
trigger1 = Animelem = 93
value = s1,6

[State 3120,1]
type = PlaySnd
trigger1 = Animelem = 93
value = s1,11
volumescale = 255


[State 3120, Dust Helper]
type = Helper
trigger1 = AnimElem = 9
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 25
trigger5 = AnimElem = 33
trigger6 = AnimElem = 37
trigger7 = AnimElem = 45
trigger8 = AnimElem = 49
trigger9 = AnimElem = 57
trigger10 = AnimElem = 61
trigger11 = AnimElem = 69
trigger12 = AnimElem = 73
trigger13 = AnimElem = 79
trigger14 = AnimElem = 83
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3120, Dust Helper]
type = Helper
trigger1 = Animelem = 93
trigger2 = Animelem = 94
trigger3 = Animelem = 95
trigger4 = Animelem = 96
trigger5 = Animelem = 97
trigger6 = Animelem = 98
trigger7 = Animelem = 99
trigger8 = Animelem = 100
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3120, Explod]
type = Explod
trigger1 = Animelem = 8
trigger2 = AnimElem = 20
trigger3 = AnimElem = 32
trigger4 = AnimElem = 44
trigger5 = AnimElem = 56
trigger6 = AnimElem = 68
trigger7 = AnimElem = 78
anim = 6028
sprpriority = 3
scale = .2,.2
pos = -10,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1


[State 3120, Explod]
type = Explod
trigger1 = Animelem = 12
trigger2 = AnimElem = 24
trigger3 = AnimElem = 36
trigger4 = AnimElem = 48
trigger5 = AnimElem = 60
trigger6 = AnimElem = 72
trigger7 = AnimElem = 82
anim = 6028
sprpriority = 3
scale = .2,.2
pos = -10,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1

[State 3120, Explod]
type = Explod
trigger1 = time = 126
trigger2 = time = 130
trigger3 = time = 134
anim = 6028
sprpriority = 3
scale = .2,.2
pos = -10,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1


[State 3120, Explod]
type = Explod
trigger1 = Animelem = 8
trigger2 = AnimElem = 20
trigger3 = AnimElem = 32
trigger4 = AnimElem = 44
trigger5 = AnimElem = 56
trigger6 = AnimElem = 68
trigger7 = AnimElem = 78
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3120, Explod]
type = Explod
trigger1 = Animelem = 8
trigger2 = AnimElem = 20
trigger3 = AnimElem = 32
trigger4 = AnimElem = 44
trigger5 = AnimElem = 56
trigger6 = AnimElem = 68
trigger7 = AnimElem = 78
anim = 3005
ID = 3005
pos = 95,-48
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999



[State 3120, Explod]
type = Explod
trigger1 = Animelem = 12
trigger2 = AnimElem = 24
trigger3 = AnimElem = 36
trigger4 = AnimElem = 48
trigger5 = AnimElem = 60
trigger6 = AnimElem = 72
trigger7 = AnimElem = 82
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3120, Explod]
type = Explod
trigger1 = Animelem = 12
trigger2 = AnimElem = 24
trigger3 = AnimElem = 36
trigger4 = AnimElem = 48
trigger5 = AnimElem = 60
trigger6 = AnimElem = 72
trigger7 = AnimElem = 82
anim = 3006
ID = 3005
pos = 75,-88
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.6
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 79
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 79
anim = 3007
ID = 3005
pos = 40,-70
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.6,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 83
anim = 3006
ID = 3005
pos = 60,-80
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999

[State 3120, Explod]
type = Explod
trigger1 = AnimElem = 83
anim = 3006
ID = 3005
pos = 60,-80
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3120, 5]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 13
trigger3 = AnimElem = 21
trigger4 = AnimElem = 25
trigger5 = AnimElem = 33
trigger6 = AnimElem = 37
trigger7 = AnimElem = 45
trigger8 = AnimElem = 49
trigger9 = AnimElem = 57
trigger10 = AnimElem = 61
trigger11 = AnimElem = 69
trigger12 = AnimElem = 73
attr = S, HA
animtype  = Hard
damage    = 19,4
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 2,2
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1 
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3120, 5]
type = HitDef
trigger1 = AnimElem = 79
attr = S, HA
animtype  = Hard
damage    = 19,4
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 3,3
sparkNo = -1
sparkXY = -1,-1
guard.sparkNo = -1 
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3120, 5]
type = HitDef
trigger1 = AnimElem = 83
attr = S, HA
animtype  = Hard
damage    = 19,4
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1 
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3120, Explod]
type = Explod
trigger1 = Animelem = 93
anim = 3125
ID = 3125
sprpriority = 3
postype = p1
facing=1
pos =65,-52
bindtime = -1
removetime=-1
ignorehitpause = 0
removeongethit = 1
under = 0
scale = 0.32,0.32
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1

[State 3120, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 101
id = 3125

[State 3120, 5]
type = HitDef
trigger1 = Animelem = 93
trigger2 = Animelem = 94
trigger3 = Animelem = 95
trigger4 = Animelem = 96
trigger5 = Animelem = 97
trigger6 = Animelem = 98
trigger7 = Animelem = 99
attr = S, HA
animtype  = Hard
damage    = 19,4
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 2,2
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = 0
air.velocity = 0,0
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0


[State 3120, 5]
type = HitDef
trigger1 = AnimElem = 100
attr = S, HA
animtype  = Hard
damage    = 19,4
getpower=0,0
givepower = 36, 36
priority=4, hit
guardflag = MA
pausetime = 2,2
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2,15
guardsound = s130, 0
ground.type = High
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -7,-5
air.velocity = -7,-3
airguard.velocity = -1.9,-.8
fall = 1
air.fall = 1
fall.animtype = Hard
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 20
fall.envshake.ampl = 5
kill = 1

[State 3120, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
pos= 150,ceil(p2dist y-60)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3120, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= 150,ceil(p2dist y-60)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1


[State 3120, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Final Death Bloody
[Statedef 3130]
type = S
ctrl = 0
anim = 3130
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 3130, Grab Sword]
type = PlaySnd
trigger1 = animelem = 3
value = s810,1

[State 3130, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bloody Shadow
[Statedef 3200]
type = S
movetype= A
physics = S
ctrl = 0
anim = 3200
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = -3000


[State 3200, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3200, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3200, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3200, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3200, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3200, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3200, SuperPause FX]
type=Helper
trigger1 = AnimElem = 3
helperType=Normal
stateNo=8520
ID=8520
name="Superpause FX"
posType=P1
pos=-25,-70
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1


[State 3200, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=48
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3200, NotHitBy]
type = NotHitBy
trigger1 = animelem = 6,< 0
value = SCA

[State 3200, Level 3 Super AfterImage]
type = AfterImage
trigger1 = animelem = 4
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 160,32,32
palPostBright = 0,0,0
palAdd = 0,0,0
palMul= 0.75,0.75,0.75
trans = Add1

[State 3200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8500, 2
channel = 8

[State 3200, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3200, Grab Sword]
type = PlaySnd
trigger1 = animelem = 4
value = s810,1

[State 3200,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3000,2
volumescale = 255
channel = 0

[State 3200,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s0,8
volumescale = 255
channel = 0

[State 3201, Width]
type = Width
trigger1 =animelemtime(4)>=0&&animelemtime(6)<0
player = 30,0
edge = 60,0

[State 3201, 2]
type = velset
trigger1 = Animelem = 5
x = 20


[State 3200, 1]
type = HitDef
trigger1 = Animelem = 6
ID = 3200
attr = S, HA
animtype  = Hard
damage    = 7,2
getpower = 0, 0
givepower = 36, 36
priority  = 6
guardflag = MA
pausetime = 4,4
hitsound=S2+10*var(44), 2
guardsound = S130,0
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 70), var(36) := -80
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
airguard.velocity = -1.9,-.8
air.type = High
air.hittime = 8
fall = 1
air.fall = 1
fall.recover = 0
palfx.time = 73
palfx.add = 34440,864,1056
palfx.mul =  1,1,1
envshake.time = 12
envshake.ampl = 6
kill = 0


[State 3200, bgpal]
type = bgpalfx
trigger1 =movehit
mul = 512, 0, 0
time = 100
mul = 512, 0, 0
add = -70, -70, -70
color = 0
ignorehitpause = 1

[State 3200, 0]
type = TargetBind
trigger1 =movehit
time = 26
id = -1
pos = 120,-30

[State 3200, 2]
type = ChangeState
trigger1 = MoveHit = 1
value = 3201
ctrl = 0

[State 3200, 3]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 3202
ctrl = 0

[State 3200, 4]
type = ChangeState
trigger1 = Movecontact = 0
trigger1 = Animelem =6,>= 3
value = 3202
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Shadow
[Statedef 3201]
type    = S
movetype= A
physics = N
anim = 3201
velset = 0,0
poweradd = 0
sprpriority = 2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1


[State 3201, Width]
type = Width
trigger1 = time=0
edge = 150,0

[State 3201, Width]
type = Width
trigger1 =animelemtime(3)>=0&&animelemtime(5)<0
edge = 60,0

[State 3201, 2]
type = playerpush
trigger1 = 1
value=0
ignorehitpause=1

[State 3201, Grab Sword]
type = PlaySnd
trigger1 = animelem = 26
value = s810,1

[State 3201, 0]
type = TargetBind
trigger1 =animelem = 1
time = 16
id = -1
pos = 120,-30

[State 3201, Helper 1]
type = Helper
trigger1 = animelem = 3
ID = 3205
pos = -20,0
postype = p1
stateno = 3205
helpertype = normal
name = "Bloody Shadow Robe FX 1"
keyctrl = 0
ownpal = 1

;[State 190, 6]
;type = Helper
;trigger1 = animelem = 3
;ID = 1500
;pos = -10,0
;postype = p1
;stateno = 8410
;helpertype = normal
;name = "Mant-3"
;keyctrl = 0
;ownpal = 1

[State 3205, Helper 2]
type = Helper
trigger1 = Animelem = 4
trigger2 = Animelem = 12
trigger3 = Animelem = 16
ID = 3206
pos = -10,-60
postype = p2
stateno = 3206
helpertype = normal
name = "Bloody Shadow Robe FX 2"
size.xscale = .3
size.yscale = .3
keyctrl = 0
ownpal = 1


[State 3205, Helper 2]
type = Helper
trigger1 = Animelem = 4
trigger2 = Animelem = 12
trigger3 = Animelem = 16
ID = 3207
pos = -10,-30
postype = p2
stateno = 3207
helpertype = normal
name = "Bloody Shadow Robe FX 2"
size.xscale = .3
size.yscale = .3
keyctrl = 0
ownpal = 1


[State 3205, Helper 2]
type = Helper
trigger1 = Animelem = 4
trigger2 = Animelem = 12
trigger3 = Animelem = 16
ID = 3208
pos = -10,-60
postype = p2
stateno = 3208
helpertype = normal
name = "Bloody Shadow Robe FX 2"
size.xscale = .3
size.yscale = .3
keyctrl = 0
ownpal = 1


[State 3205, bgpal]
type = bgpalfx
trigger1 = time = 0
mul = 512, 0, 0
time = 100
mul = 512, 0, 0
add = -70, -70, -70
color = 0
ignorehitpause = 1


[State 3205,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = time = 24
name = "helper1"
id = 6001
pos = 0,0
postype = p2
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1


[State 3205, Hit]
type = hitdef
trigger1 = time = 0
attr = S, HA
hitflag = MAF
guardflag = M
priority  = 6
damage= 50,10
getpower = 0, 0
givepower = 36, 36
pausetime = 0,45
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = high
air.type = High
ground.hittime = 24 + 2 * var(9)
ground.slidetime = 24 + 2 * var(9)
guard.hittime = 24
air.hittime = 120
ground.velocity = 80,-10
air.velocity = 1,-1.5
airguard.velocity = -1.9,-.8
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -2.41, -4.49)
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.3
fall = 1
fall.recover = 0
air.fall = 1
fall.recovertime = 120
hitsound=S2,13
guardsound = S130,0
sparkno = -1 
guard.sparkno = -1 
sparkxy = -1,-1
envshake.time = 12
envshake.ampl = 6
palfx.time = 33
palfx.add = 34440,864,1056
palfx.mul =  1,1,1
kill = 0
p2stateno = 1125

[State 3200, Hit]
type = hitdef
trigger1 = Animelem = 4
trigger2 = Animelem = 5
trigger3 = Animelem = 6
trigger4 = Animelem = 7
trigger5 = Animelem = 8
trigger6 = Animelem = 9
trigger7 = Animelem = 10
trigger8 = Animelem = 11
trigger9 = Animelem = 12
trigger10 = Animelem = 13
trigger11 = Animelem = 14
trigger12 = Animelem = 15
trigger13 = Animelem = 16
trigger14 = Animelem = 17
trigger15 = Animelem = 18
trigger16 = Animelem = 19
trigger17 = Animelem = 20
attr = S, HA
hitflag = MAF
guardflag = M
priority  = 6
damage= 30,10
getpower = 0, 0
givepower = 36, 36
pausetime = 1,20
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = high
air.type = High
ground.hittime = 24 + 2 * var(9)
ground.slidetime = 24 + 2 * var(9)
guard.hittime = 24
air.hittime = 120
ground.velocity = 80,-10
air.velocity = 1,-1.5
airguard.velocity = -1.9,-.8
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -2.41, -4.49)
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.4
fall = 1
fall.recover = 0
air.fall = 1
fall.recovertime = 120
hitsound=S2,13
guardsound = S130,0
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-1
palfx.time = 6
palfx.add = 34440,864,1056
palfx.mul =  1,1,1
envshake.time = 12
envshake.ampl = 6
kill = 0
p2stateno = 1125


[State 3200, Hit]
type = hitdef
trigger1 = Animelem = 21
attr = S, HA
hitflag = MAF
guardflag = M
priority  = 6
damage= 30,10
getpower = 0, 0
givepower = 36, 36
pausetime = 1,20
guard.pausetime = ifelse(var(20), 4, 8), ifelse(var(20), 4, 8)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = high
air.type = High
ground.hittime = 24 + 2 * var(9)
ground.slidetime = 24 + 2 * var(9)
guard.hittime = 24
air.hittime = 120
ground.velocity = 80,-10
air.velocity = 1,-1.5
airguard.velocity = -1.9,-.8
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -2.41, -4.49)
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = 0.4
fall = 1
fall.recover = 0
air.fall = 1
fall.recovertime = 120
hitsound=S2,13
guardsound = S130,0
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-1
palfx.time = 6
palfx.add = 34440,864,1056
palfx.mul =  1,1,1
envshake.time = 12
envshake.ampl = 6
kill = 1
p2stateno = 1125



[State 3202, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-60)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3202, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-60)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3205, 2]
type = velset
trigger1 = time = 0
x = 1.8

[State 3205, 2]
type = velset
trigger1 = time = 31
x = 12

[State 3205, 2]
type = velset
trigger1 = Animelem = 4
x = 0

[State 3206, PlaySND]
type = PlaySnd
trigger1 = Animelem = 4
value = s1,12
volumescale = 255

[State 3206, PlaySND]
type = PlaySnd
trigger1 = Animelem = 4
value = s1,12

[State 3206, PlaySND]
type = PlaySnd
trigger1 = Animelem = 6
value = s2,14


[State 3206, PlaySND]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,13
volumescale = 255

[State 3206, PlaySND]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,13



[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 3006
ID = 3005
pos = 60,-90
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3002, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 3006
ID = 3005
pos = 60,-90
postype = p1
bindtime = -1
removetime = -2
vel=0,0
sprpriority = 5
scale=.8,.3
ownpal = 1
removeongethit = 1
pausemovetime = 0
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999


[State 3205, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bloody Shadow Not Hit By
[Statedef 3202]
type = S
ctrl = 0
anim = 3202
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 3202, Grab Sword]
type = PlaySnd
trigger1 = animelem = 7
value = s810,1

[State 3202, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = Animelem = 5
value = s1,9

[State 3202, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = Animelem = 5
value = s1,2

[State 3202, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Bloody Rampage
[Statedef 3300]
type = S
movetype= I
physics = S
ctrl = 0
anim = 3300
sprpriority = 2
ctrl = 0
velset = 0,0
poweradd = -3000


[State 3300, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3300, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3300, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3300, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3300, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3300, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3300, SuperPause FX]
type=Helper
trigger1 = AnimElem = 6
helperType=Normal
stateNo=8520
ID=8520
name="Superpause FX"
posType=P1
pos=-15,-130
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1


[State 3300, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=33
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3300, NotHitBy]
type = NotHitBy
trigger1 = animelem = 8,< 0
value = SCA

[State 3300, Level 3 Super AfterImage]
type = AfterImage
trigger1 = animelem = 7
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 160,32,32
palPostBright = 0,0,0
palAdd = 0,0,0
palMul= 0.75,0.75,0.75
trans = Add1

[State 3300,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 8500, 2
channel = 8

[State 3300, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = s190,0
volumescale = 255
channel = 0

[State 3300, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
trigger2 = Animelem = 4
trigger3 = Animelem = 6
value = s195,0

[State 3300, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 12
value = s190,2

[State 3300, Throw 11]
type = EnvShake
trigger1 = AnimElem = 7
freq = 60
ampl = -6
phase = 70
time = 140


[State 3300, 1]
type = Helper
trigger1 = animelem = 7
trigger2 = animelem = 13
trigger3 = animelem = 18
trigger4 = animelem = 9
trigger5 = animelem = 15
trigger6 = animelem = 20
helpertype = normal
name = "Bull"
id = 3305
postype = Back
pos = -70, 0
stateno = 3305
keyctrl = 0
ownpal = 1

[State 3300, 2]
type = Helper
trigger1 = animelem = 9
trigger2 = animelem = 15
trigger3 = animelem = 20
trigger4 = animelem = 7
trigger5 = animelem = 13
trigger6 = animelem = 18
helpertype = normal
name = "Bull"
id = 3304
postype = Back
pos = -170, 0
stateno = 3304
keyctrl = 0
ownpal = 1

[State 3300, 3]
type = Helper
trigger1 = animelem = 11
trigger2 = animelem = 16
trigger3 = animelem = 22
trigger4 = animelem = 7
trigger5 = animelem = 13
trigger6 = animelem = 18
trigger7 = animelem = 9
trigger8 = animelem = 15
trigger9 = animelem = 20
helpertype = normal
name = "Bull"
id = 3303
postype = Back
pos = -270, 0
stateno = 3303
keyctrl = 0
ownpal = 1


[State 3300, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------------------
;Bloody Sabre Combination
[Statedef 3400]
type=S
movetype=A
physics=N
anim=3400
poweradd=-1000
ctrl=0
velset=0,0
sprpriority=2


[State 3400, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3400, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3400, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3400, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3400, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3400, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3400, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos=0,-60
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3400, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3400,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 0
channel = 8

[State 3400, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(3) < 0
time=1
value=SCA

[State 3400, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3400, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 128,128,128
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3400, velset]
type = velset
trigger1 = animelem = 2
x = 12

[State 3400, velset]
type = velset
trigger1 = Animelem = 4
x = 0

[State 3400, Dust Helper]
type = Helper
trigger1 = animelem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3400, Width]
type = Width
trigger1 =animelemtime(2)>=0&&animelemtime(6)<0
value = 40,0

[State 3400,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,8
volumescale = 255
channel = 0

[State 3400,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,5
volumescale = 255
channel = 0

[State 3400,2]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,2

[State 3400,3]
type = PlaySnd
trigger1 = Animelem = 2
value = s1300,0


[State 3400, 4]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3400, Throw]
type = TargetState
trigger1 = time > 1 && movehit && numtarget
value = 3306
ignorehitpause = 1
persistent = 0

[State 3400, 5]
type = ChangeState
trigger1 = MoveHit = 1
value = 3401
ctrl = 0

[State 3400, 6]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 3410
ctrl = 0

[State 3400, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Bloody Sabre Combination
[Statedef 3401]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 1351
ctrl = 0
sprpriority = 2

[State 3401, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3401, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3401, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3401]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,6
volumescale = 255

[State 3401,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,2

[State 3401,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3401, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 2
animtype = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 90), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3401, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3402
ctrl = 0
;-------------------------------------------------------------------------------------------
;Bloody Sabre Combination
[Statedef 3402]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 1350
poweradd = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3402, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3402, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3402, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3402,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1000,5
volumescale = 255
channel = 0

[State 3402,1]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,2

[State 3402,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0


[State 3402, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3402, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3403
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Sabre Combination
[Statedef 3403]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 1351
ctrl = 0
sprpriority = 2

[State 3403, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3403, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3403, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3403]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,6
volumescale = 255

[State 3403,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,2

[State 3403,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3403, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 2
animtype = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 90), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0
[State 3403, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3404
ctrl = 0

;-------------------------------------------------------------------------------------------------------
;Bloody Sabre Combination
[Statedef 3404]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 3404
poweradd = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3404, velset]
type = velset
trigger1 = Animelem = 2
x = 9

[State 3404, Dust Helper]
type = Helper
trigger1 = Animelem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3404, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3404,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s0,9
volumescale = 255
channel = 0

[State 3404,1]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,5

[State 3404,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1300,0


[State 3404, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 8,8
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),5
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3404, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3405
ctrl = 0
;-------------------------------------------------------------------------------------------
;Bloody Saber Slashes
[Statedef 3405]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0 
velset = 0,0
anim = 3405
ctrl = 0
sprpriority = 2

[State 3405, velset]
type = velset
trigger1 = time = 0
x = 23

[State 3405, Grab Sword]
type = PlaySnd
trigger1 = animelem = 1
value = s810,1

[State 3405,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3405, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3405,1]
type = PlaySnd
trigger1 = time = 0
value = s1000,1
volumescale = 255

[State 3405,1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
value = s1,6

[State 3405,1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
trigger4 = AnimElem = 26
value = s1,2
channel = 3


[State 3405, Width]
type = Width
trigger1 = 1
edge = 125,0

[State 3405, Width]
type = Width
trigger1 = 1
value = 70,0

[State 3405, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 4
trigger2 = AnimElem = 11
trigger3 = AnimElem = 18
animtype  = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 190), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,11
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-5)
guard.velocity=Ifelse(var(20),-2.5,-5)
air.velocity = Ifelse(var(20),-5,-5),Ifelse(var(20),-2.5,-3.5)
ground.cornerpush.veloff = -6
down.cornerpush.veloff = -6
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -6
airguard.cornerpush.veloff = -6
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 1

[State 3405, 7]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 26
trigger2 = AnimElem = 31
trigger3 = AnimElem = 32
animtype  = Hard
damage = 18, 8
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 190), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,15
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-5)
guard.velocity=Ifelse(var(20),-2.5,-5)
air.velocity = Ifelse(var(20),-5,-5),Ifelse(var(20),-2.5,-3.5)
ground.cornerpush.veloff = -6
down.cornerpush.veloff = -6
air.cornerpush.veloff = -6
guard.cornerpush.veloff = -6
airguard.cornerpush.veloff = -6
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 1


[State 3405, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1345
ctrl = 0

;-------------------------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3450]
type=S
movetype=A
physics=N
anim=3400
poweradd=-2000
ctrl=0
velset=0,0
sprpriority=2


[State 3450, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3450, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3450, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3450, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3450, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3450, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3450, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8510
ID=8510
name="Superpause FX"
posType=P1
pos=0,-60
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3450, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3450,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 1
channel = 8

[State 3450, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(3) < 0
time=1
value=SCA

[State 3450, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3450, Level 2 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
framegap = 10
length = 21
palBright = 0,0,0
palContrast = 32,32,160
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3450, velset]
type = velset
trigger1 = animelem = 2
x = 12

[State 3450, velset]
type = velset
trigger1 = Animelem = 4
x = 0

[State 3450, Dust Helper]
type = Helper
trigger1 = animelem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3450, Width]
type = Width
trigger1 =animelemtime(2)>=0&&animelemtime(6)<0
value = 40,0

[State 3450,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,8
volumescale = 255
channel = 0

[State 3450,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,5
volumescale = 255
channel = 0

[State 3450,2]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,2

[State 3450,3]
type = PlaySnd
trigger1 = Animelem = 2
value = s1300,0


[State 3450, 4]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 0

[State 3450, Throw]
type = TargetState
trigger1 = time > 1 && movehit && numtarget
value = 3306
ignorehitpause = 1
persistent = 0

[State 3450, 5]
type = ChangeState
trigger1 = MoveHit = 1
value = 3451
ctrl = 0

[State 3450, 6]
type = ChangeState
trigger1 = MoveGuarded = 1
value = 3410
ctrl = 0

[State 3450, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3451]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 1351
ctrl = 0
sprpriority = 2

[State 3451, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3451, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3451, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3451]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,6
volumescale = 255

[State 3451,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,2

[State 3451,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3451, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 2
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 90), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3451, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3452
ctrl = 0
;-------------------------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3452]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 1350
poweradd = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3452, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3452, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3452, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3452,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1000,5
volumescale = 255
channel = 0

[State 3452,1]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,2

[State 3452,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0


[State 3452, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3452, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3453
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3453]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 1351
ctrl = 0
sprpriority = 2

[State 3453, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3453, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3453, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3453]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,6
volumescale = 255

[State 3453,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,2

[State 3453,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3453, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 2
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 90), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3453, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3454
ctrl = 0
;-------------------------------------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3454]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 1350
poweradd = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3454, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3454, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3454, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3454,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1000,5
volumescale = 255
channel = 0

[State 3454,1]
type = PlaySnd
trigger1 = Animelem = 3
value = s1,2

[State 3454,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0


[State 3454, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 3
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3454, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3455
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3455]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0
velset = 0,0
anim = 1351
ctrl = 0
sprpriority = 2

[State 3455, velset]
type = velset
trigger1 = time = 0
x = 8

[State 3455, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3455, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3455]
type = PlaySnd
trigger1 = Animelem = 2
value = s1000,6
volumescale = 255

[State 3455,1]
type = PlaySnd
trigger1 = Animelem = 2
value = s1,2

[State 3455,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3455, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 2
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 90), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3455, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3456
ctrl = 0

;-------------------------------------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3456]
type    = S
movetype= A
physics = S
juggle  = 4
anim = 3456
poweradd = 0
velset = 0,0
ctrl = 0
sprpriority = 2

[State 3456, velset]
type = velset
trigger1 = Animelem = 5
x = 12

[State 3456, velset]
type = velset
trigger1 = Animelem = 7
x = 0

[State 3456, velset]
type = velset
trigger1 = Animelem = 11
x = 12

[State 3456, velset]
type = velset
trigger1 = Animelem = 16
x = 0

[State 3456, velset]
type = velset
trigger1 = Animelem = 22
x = 18

[State 3456, velset]
type = velset
trigger1 = Animelem = 25
x = 0



[State 3456, Dust Helper]
type = Helper
trigger1 = Animelem = 5
trigger2 = Animelem = 11
trigger3 = Animelem = 22
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3456, Width]
type = Width
trigger1 = 1
value = 40,0

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 5
value = s0,7
volumescale = 255
channel = 0

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 12
value = s0,2
volumescale = 255
channel = 0

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 18
value = s0,8
volumescale = 255
channel = 0

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 24
value = s0,9
volumescale = 255
channel = 0

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 12
trigger2 = Animelem = 18
value = s1,2

[State 3456, Swing Snd]
type=PlaySnd
trigger1=animelem = 12
value=1,9

[State 3456, Swing Snd]
type=PlaySnd
trigger1=animelem = 18
value=1,8

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 5
trigger2 = Animelem = 24
value = s1,5

[State 3456,1]
type = PlaySnd
trigger1 = Animelem = 5
trigger2 = Animelem = 11
trigger3 = Animelem = 22
value = s1300,0

[State 3456, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 5
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 130), var(36) := -65
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),5
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3456, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 12
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3456, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 18
trigger2 = AnimElem = 19
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 120), var(36) := -78
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3456, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 24
animtype = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8014)
sparkXY = -10 + 0 * (var(35) := 100), var(36) := -75
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2+10*var(44),5
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
kill = 0

[State 3456, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3457
ctrl = 0
;-------------------------------------------------------------------------------------------
;Max Bloody Sabre Combination
[Statedef 3457]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd = 0 
velset = 0,0
anim = 3457
ctrl = 0
sprpriority = 2

[State 3457, velset]
type = velset
trigger1 = time = 0
x = 23

[State 3457, Grab Sword]
type = PlaySnd
trigger1 = animelem = 1
value = s810,1

[State 3457,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1300,0

[State 3457, Dust Helper]
type = Helper
trigger1 = time = 0
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3457,1]
type = PlaySnd
trigger1 = time = 0
value = s1000,1
volumescale = 255

[State 3457,1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
trigger8 = AnimElem = 18
trigger9 = AnimElem = 20
trigger10 = AnimElem = 22
trigger11 = AnimElem = 24
trigger12 = AnimElem = 26
trigger13 = AnimElem = 28
trigger14 = AnimElem = 30
trigger15 = AnimElem = 32
value = s1,6

[State 3457,1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
trigger8 = AnimElem = 18
trigger9 = AnimElem = 20
trigger10 = AnimElem = 22
trigger11 = AnimElem = 24
trigger12 = AnimElem = 26
trigger13 = AnimElem = 28
trigger14 = AnimElem = 30
trigger15 = AnimElem = 32
value = s1,2
channel = 3


[State 3457, Width]
type = Width
trigger1 = 1
edge = 125,0

[State 3457, Width]
type = Width
trigger1 = 1
value = 70,0

[State 3457, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 10
trigger5 = AnimElem = 12
trigger6 = AnimElem = 14
trigger7 = AnimElem = 16
trigger8 = AnimElem = 18
trigger9 = AnimElem = 20
trigger10 = AnimElem = 22
trigger11 = AnimElem = 24
trigger12 = AnimElem = 26
animtype  = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 190), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,11
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-5)
guard.velocity=Ifelse(var(20),-2.5,-5)
air.velocity = Ifelse(var(20),-5,-5),Ifelse(var(20),-2.5,-2)
ground.cornerpush.veloff = -3.1
down.cornerpush.veloff = -3.1
air.cornerpush.veloff = -3.1
guard.cornerpush.veloff = -3.1
airguard.cornerpush.veloff = -3.1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 1

[State 3457, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 28
trigger2 = AnimElem = 30
trigger3 = AnimElem = 32
animtype  = Hard
damage = 14, 5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 4,4
sparkNo = -1 + 0 * (var(33) := 8024)
sparkXY = -10 + 0 * (var(35) := 190), var(36) := -80
guard.sparkNo = -1 + 0 * (var(34) := 8001)
hitsound=S2,15
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-5)
guard.velocity=Ifelse(var(20),-2.5,-5)
air.velocity = Ifelse(var(20),-5,-5),Ifelse(var(20),-2.5,-2)
ground.cornerpush.veloff = -3.1
down.cornerpush.veloff = -3.1
air.cornerpush.veloff = -3.1
guard.cornerpush.veloff = -3.1
airguard.cornerpush.veloff = -3.1
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall = 1
fall.recover = 0
kill = 1

[State 3457, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 1345
ctrl = 0
;-------------------------------------------------------------------------------------------
;Bloody Sabre Combination Ends
[Statedef 3410]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 3410
ctrl = 0
sprpriority = 2

[State 3410, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Bloody Wild Spin Start Up
[Statedef 3500]
type=S
movetype=A
physics=N
anim=3500
poweradd=-1000
ctrl=0
velset=0,0
sprpriority=2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3500, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3500, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3500, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3500, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3500, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3500, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3500, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos=0,-70
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3500, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3500,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 0
channel = 8

[State 3500, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(4) < 0
time=1
value=SCA

[State 3500, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3500, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 128,128,128
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3500,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3500,1]
type = PlaySnd
trigger1 = Animelem = 4
value = s1000,0
volumescale = 255
channel = 0

[State 3500,1]
type = PlaySnd
trigger1 = Animelem = 4
value = s41,0

[State 3500, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 6028
vel = -1,0
random = 50,0
sprpriority = 3
scale = .2,.2
pos = -60,0
ID = 6028
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
persistent = 0

[State 3500, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3500, velset]
type = velset
trigger1 = AnimElem = 3
x = 26

[State 3500, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 4
animtype  = Hard
damage=5,2
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7

[State 3500, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-70)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3500, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-70)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1


[State 3500, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3501
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Wild Spin Lunging
[Statedef 3501]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd = 0
velset = 0,0
anim = 3501
ctrl = 0
sprpriority = 2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3501, Varset]
type=Varset
trigger1 =!time
var(2)=0
[State 3501, Varadd]
type=Varadd
trigger1 =movecontact
var(2)=1

[State 3501, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 1098
ID = 7997
bindTime = -1
sprpriority = 4
postype = p1
pos = 0,15
scale = 0.25,0.3
removetime = -1
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1


[State 3501, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 3505
ID = 7997
bindTime = -1
sprpriority = 3
postype = p1
pos = -15,-18
scale = 0.4,0.4
removetime = -1
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1
trans = sub

[State 3501, Flames]
type = explod
trigger1 = 1
anim = 3506
ID = 7997
sprpriority = 4
postype = p1
pos = -70, -75
random = 0, 20
vel = -(random / 200.0), 2 -(random / 250.0)
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.5, 0.5
ownpal = 1

[State 3501, Flames]
type = explod
trigger1 = 1
anim = 3506
ID = 7997
sprpriority = 4
postype = p1
pos = -70, -70
random = 0, 20
vel = -(random / 200.0), 2 -(random / 250.0)
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.5, 0.6
ownpal = 1


[State 3501, Explod]
type = Explod
trigger1 = (gametime%7)
anim = 3506
ID = 7997
pos = 60,-70
postype = p1  ;p2,front,back,left,right
bindtime = 1
vel = -3,0
random = 0,20
removetime = 15
supermove = 99999
pausemovetime = 99999
scale = .2,.2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1


[State 3501, Flames]
type=explod
trigger1= 1
anim = 3506
ID = 7997
sprpriority=4
postype=p1
pos=-60,-70
random=64,32
vel= -(random/250.0), 2-(random/250.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.2,.2
ownpal=1

[State 3501, Flames]
type=explod
trigger1= 1
anim = 3506
ID = 7997
sprpriority=4
postype=p1
pos=-50,-70
random=64,32
vel= -(random/250.0), 2-(random/250.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.18,.18
ownpal=1


[State 3501, velset]
type = velset
trigger1 = 1
x = 12

[State 3501,1]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = AnimElem = 7
value = s1000,10


[State 3501, Explod]
type = Explod
trigger1 = Animelem = 1
trigger2 = AnimElem = 7
anim = 6028
vel = -1,0
random = 50,0
sprpriority = 3
scale = .2,.2
pos = -60,0
ID = 6028
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
persistent = 1


[State 3501,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1,14
persistent = 0

[State 3501]
type = width
trigger1 = 1
player = 20,0
edge=10,0

[State 1500, TargetBind]
type = TargetBind
triggerall = movehit
triggerall = (p2stateno = [5000,5999])&&p2statetype!=L
trigger1= animelem=1
time = 2
pos = 90,-10


[State 3501, 6]
type = HitDef
attr = S, HA
trigger1= var(2)<=10
animtype  = Hard
damage=18,5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime=4*(var(2)<10),4
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1 
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity= ifelse(var(2)<10, -4, -4.5), ifelse(var(2)<10, -2, -2)
guard.velocity=Ifelse(var(20),-2.5,-3)
air.velocity=ifelse(var(2)<10, -4, -12.5),-1
fall=var(2)=10
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7

[State 3501, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p1
pos= ceil(p2dist x),-70
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3501, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),-70
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1


[State 3501, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3502
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Wild Spin Landing
[Statedef 3502]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1052
ctrl = 0
sprpriority = 2

[State 3502, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7997
;ignorehitpause = 
;persistent = 

[State 3500, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = 40,0

[State 3500, PosSet]
type = PosSet
trigger1 = Animelem = 3
y = 0

[State 3500, Landing Dust Explod]
type = Explod
trigger1 = Animelem = 3
anim = 8106
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1


[State 3502, velset]
type = velset
trigger1 = AnimElem = 1
x = 8

[State 3502, 2]
type = VelMul
trigger1 = AnimElemTime(3) < 0
x = .94


[State 3502 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Max Bloody Wild Spin Start Up
[Statedef 3550]
type=S
movetype=A
physics=N
anim=3500
poweradd=-2000
ctrl=0
velset=0,0
sprpriority=2


[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3550, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3550, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3550, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3550, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3550, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3550, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3550, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8510
ID=8510
name="Superpause FX"
posType=P1
pos=0,-70
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3550, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3550,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 1
channel = 8

[State 3550, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(4) < 0
time=1
value=SCA

[State 3550, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3550, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
framegap = 10
length = 21
palBright = 0,0,0
palContrast = 32,32,160
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3550,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3550,1]
type = PlaySnd
trigger1 = Animelem = 4
value = s1000,0
volumescale = 255
channel = 0

[State 3550,1]
type = PlaySnd
trigger1 = Animelem = 4
value = s41,0

[State 3550, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 6028
vel = -1,0
random = 50,0
sprpriority = 3
scale = .2,.2
pos = -60,0
ID = 6028
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
persistent = 0

[State 3550, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3550, velset]
type = velset
trigger1 = AnimElem = 3
x = 26

[State 3550, 6]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 4
animtype  = Hard
damage=5,2
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 5,5
sparkNo = -1
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity=Ifelse(var(20),-2.5,-7)
guard.velocity=Ifelse(var(20),-2.5,-7)
air.velocity = Ifelse(var(20),-2,-4),Ifelse(var(20),-2.5,-2.5)
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7

[State 3550, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-70)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3550, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-70)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1


[State 3550, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3551
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Wild Spin Lunging
[Statedef 3551]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd = 0
velset = 0,0
anim = 3501
ctrl = 0
sprpriority = 2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3551, Varset]
type=Varset
trigger1 =!time
var(2)=0
[State 3551, Varadd]
type=Varadd
trigger1 =movecontact
var(2)=1

[State 3551, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 1098
ID = 7997
bindTime = -1
sprpriority = 3
postype = p1
pos = 0,15
scale = 0.25,0.3
removetime = -1
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1


[State 3551, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 3505
ID = 7997
bindTime = -1
sprpriority = 3
postype = p1
pos = -15,-18
scale = 0.4,0.4
removetime = -1
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1
trans = sub

[State 3551, Flames]
type = explod
trigger1 = 1
anim = 3506
ID = 7997
sprpriority = 4
postype = p1
pos = -70, -75
random = 0, 20
vel = -(random / 200.0), 2 -(random / 250.0)
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.5, 0.5
ownpal = 1

[State 3551, Flames]
type = explod
trigger1 = 1
anim = 3506
ID = 7997
sprpriority = 4
postype = p1
pos = -70, -70
random = 0, 20
vel = -(random / 200.0), 2 -(random / 250.0)
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
scale = 0.5, 0.6
ownpal = 1


[State 3551, Explod]
type = Explod
trigger1 = (gametime%7)
anim = 3506
ID = 7997
pos = 60,-70
postype = p1  ;p2,front,back,left,right
bindtime = 1
vel = -3,0
random = 0,20
removetime = 15
supermove = 99999
pausemovetime = 99999
scale = .2,.2
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 1


[State 3551, Flames]
type=explod
trigger1= 1
anim = 3506
ID = 7997
sprpriority=4
postype=p1
pos=-60,-70
random=64,32
vel= -(random/250.0), 2-(random/250.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.2,.2
ownpal=1

[State 3551, Flames]
type=explod
trigger1= 1
anim = 3506
ID = 7997
sprpriority=4
postype=p1
pos=-50,-70
random=64,32
vel= -(random/250.0), 2-(random/250.0)
facing= ifelse(random<500, -1, 1)
vfacing= ifelse(random<500, -1, 1)
scale=.18,.18
ownpal=1


[State 3551, velset]
type = velset
trigger1 = 1
x = 12

[State 3551,1]
type = PlaySnd
trigger1 = Animelem = 1
trigger2 = AnimElem = 7
value = s1000,10


[State 3551, Explod]
type = Explod
trigger1 = Animelem = 1
trigger2 = AnimElem = 7
anim = 6028
vel = -1,0
random = 50,0
sprpriority = 3
scale = .2,.2
pos = -60,0
ID = 6028
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
persistent = 1


[State 3551,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s1,14
persistent = 0

[State 3551]
type = width
trigger1 = 1
player = 20,0
edge=10,0

[State 3551, TargetBind]
type = TargetBind
triggerall = movehit
triggerall = (p2stateno = [5000,5999])&&p2statetype!=L
trigger1= animelem=1
time = 2
pos = 90,-10


[State 3551, 6]
type = HitDef
attr = S, HA
trigger1= var(2)<=16
animtype  = Hard
damage=18,5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime=4*(var(2)<16),4
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1 
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity= ifelse(var(2)<16, -4, -4.5), ifelse(var(2)<16, -2, -2)
guard.velocity=Ifelse(var(20),-2.5,-3)
air.velocity=ifelse(var(2)<16, -4, -12.5),-1
fall=var(2)=16
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7

[State 3551, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p1
pos= ceil(p2dist x),-70
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3551, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),-70
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1


[State 3551, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3552
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Wild Spin Landing
[Statedef 3552]
type    = S
movetype= I
physics = S
juggle  = 4
poweradd= 0
velset = 0,0
anim = 1052
ctrl = 0
sprpriority = 2

[State 3552, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7997
;ignorehitpause = 
;persistent = 

[State 3550, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 3
value = 40,0

[State 3550, PosSet]
type = PosSet
trigger1 = Animelem = 3
y = 0

[State 3550, Landing Dust Explod]
type = Explod
trigger1 = Animelem = 3
anim = 8106
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1


[State 3552, velset]
type = velset
trigger1 = AnimElem = 1
x = 8

[State 3552, 2]
type = VelMul
trigger1 = AnimElemTime(3) < 0
x = .94


[State 3552 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------------
;Bloody Hail Shooter
[Statedef 3600]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 3600
poweradd = -1000

[State 3600, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3600, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3600, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3600, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3600, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3600, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3600, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos=0,-108
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3600, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3600,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 0
channel = 8

[State 3600, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(2) < 0
time=1
value=SCA

[State 3600, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7996

[State 3600, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 128,128,128
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1


[State 3600,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3600, Grab Sword]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = s810,1


[State 3600,1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = s0,9
volumescale = 255
channel = 0

[State 3600,1]
type = PlaySnd
trigger1 = animelem = 2
value = s1,7


[State 3600, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 13
physics = A


[State 3600, VelSet]
type = VelSet
trigger1 = animelem=2
x = Ifelse(frontedgedist<50,-2.0,Ifelse(p2bodydist x<30,-1.5,-0.75))
y = -0.25
[State 3600, VelMul]
type = VelMul
trigger1 = (animelemtime(2)>0&&animelemtime(12)<0)&&(p2bodydist x>=80)
trigger1 = Numhelper(3605)
trigger1 = Helper(3605),movecontact
trigger1 = Numhelper(3606)
trigger1 = Helper(3606),movecontact
x = .25
y = .25
ignorehitpause=1
persistent=0


[State 3600, FX]
type=helper
trigger1= animelem=2 
trigger2= animelem=4
trigger3= animelem=6  
trigger4= animelem=8  
trigger5= animelem=10  
trigger6= animelem=12 
helpertype=normal
stateno=3605
ID=3605
name="Bloody Shooter Sword"
postype = p1
pos = 45,-62
size.xscale= 1 * const(size.xscale)
size.yscale= 1 * const(size.yscale)
ignorehitpause = 1
pauseMoveTime = 999
superMoveTime = 999
ownpal=1

[State 3600, FX]
type=helper
trigger1= animelem=2 
trigger2= animelem=4
trigger3= animelem=6  
trigger4= animelem=8  
trigger5= animelem=10  
trigger6= animelem=12 
helpertype=normal
stateno=3606
ID=3606
name="Bloody Shooter Sword"
postype = p1
pos = 45,-62
size.xscale= 1 * const(size.xscale)
size.yscale= 1 * const(size.yscale)
ignorehitpause = 1
pauseMoveTime = 999
superMoveTime = 999
ownpal=1

[State 3600, CtrlSet]
type = CtrlSet
trigger1 = animelem = 13
value = 1
;-------------------------------------------------------------------------------------
;Max Bloody Hail Shooter
[Statedef 3650]
type    = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2
anim = 3600
poweradd = -2000

[State 3650, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3650, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3650, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3650, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3650, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3650, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3650, SuperPause FX]
type=Helper
trigger1=!time
helperType=Normal
stateNo=8510
ID=8510
name="Superpause FX"
posType=P1
pos=0,-108
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3650, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3650,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 8500, 1
channel = 8

[State 3650, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(2) < 0
time=1
value=SCA

[State 3650, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7996

[State 3650, Level 2 Super AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 999
timeGap = 1
framegap = 10
length = 21
palBright = 0,0,0
palContrast = 32,32,160
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1


[State 3650,1]
type = PlaySnd
trigger1 = Animelem = 1
value = s0,9
volumescale = 255
channel = 0

[State 3650, Grab Sword]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
trigger5 = animelem = 9
trigger6 = animelem = 11
value = s810,1

[State 3650,1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
trigger5 = animelem = 10
trigger6 = animelem = 12
value = s0,9
volumescale = 255
channel = 0

[State 3650,1]
type = PlaySnd
trigger1 = animelem = 2
value = s1,7


[State 3650, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 13
physics = A


[State 3650, VelSet]
type = VelSet
trigger1 = animelem=2
x = Ifelse(frontedgedist<50,-2.0,Ifelse(p2bodydist x<30,-1.5,-0.75))
y = -0.25
[State 3650, VelMul]
type = VelMul
trigger1 = (animelemtime(2)>0&&animelemtime(12)<0)&&(p2bodydist x>=80)
trigger1 = Numhelper(3605)
trigger1 = Helper(3605),movecontact
trigger1 = Numhelper(3606)
trigger1 = Helper(3606),movecontact
trigger1 = Numhelper(3608)
trigger1 = Helper(3608),movecontact
x = .25
y = .25
ignorehitpause=1
persistent=0


[State 3650, FX]
type=helper
trigger1= animelem=2 
trigger2= animelem=4
trigger3= animelem=6  
trigger4= animelem=8  
trigger5= animelem=10  
trigger6= animelem=12 
helpertype=normal
stateno=3605
ID=3605
name="Bloody Shooter Sword"
postype = p1
pos = 45,-62
size.xscale= 1 * const(size.xscale)
size.yscale= 1 * const(size.yscale)
ignorehitpause = 1
pauseMoveTime = 999
superMoveTime = 999
ownpal=1

[State 3650, FX]
type=helper
trigger1= animelem=2 
trigger2= animelem=4
trigger3= animelem=6  
trigger4= animelem=8  
trigger5= animelem=10  
trigger6= animelem=12 
helpertype=normal
stateno=3606
ID=3606
name="Bloody Shooter Sword"
postype = p1
pos = 45,-62
size.xscale= 1 * const(size.xscale)
size.yscale= 1 * const(size.yscale)
ignorehitpause = 1
pauseMoveTime = 999
superMoveTime = 999
ownpal=1

[State 3650, FX]
type=helper
trigger1= animelem=2 
trigger2= animelem=4
trigger3= animelem=6  
trigger4= animelem=8  
trigger5= animelem=10  
trigger6= animelem=12 
helpertype=normal
stateno=3608
ID=3608
name="Bloody Shooter Sword"
postype = p1
pos = 45,-62
size.xscale= 1 * const(size.xscale)
size.yscale= 1 * const(size.yscale)
ignorehitpause = 1
pauseMoveTime = 999
superMoveTime = 999
ownpal=1


[State 3650, CtrlSet]
type = CtrlSet
trigger1 = animelem = 13
value = 1
;---------------------------------------------------------------------------------------
;Bloody Blender
[Statedef 3700]
type    = S
movetype= A
physics = S
anim = 3700
poweradd = -1000
velset = 0,0
ctrl = 0
sprpriority = 2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3700, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3700, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3700, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3700, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3700, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3700, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3700, SuperPause FX]
type=Helper
trigger1 = AnimElem = 6
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos=60,-72
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3700, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3700,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 8500, 0
channel = 8

[State 3700, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(9) < 0
time=1
value=SCA

[State 3700, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3700, Level 1 Super AfterImage]
type = AfterImage
trigger1 = animelem = 7
time = 999
timeGap = 1
frameGap = 10
length = 21
palBright = 0,0,0
palContrast = 128,128,128
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3700,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s730,1
volumescale = 255



[State 3700,1]
type = PlaySnd
trigger1 = Animelem = 7
value = s1000,2
channel = 0
volumescale = 255


[State 3700]
type = helper
trigger1 = AnimElem = 9
name="Bloody Mixer Projectile Stopper"
id=1205
pos = 0,0
stateno = 1205
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
sprpriority = -3

[State 3700, pullhelper]
type = helper
trigger1 = AnimElem = 9 && !numhelper(3705)
helpertype = normal
stateno = 3705
ID = 3705
name = "Bloody Mixer Vaccum"
postype = p2
pos = enemynear, const(size.ground.back) -25, -ceil(enemy, pos y)
persistent = 0
size.ground.back = 5
size.ground.front = 5
size.height = 240

[State 3700,2]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17
trigger5 = AnimElem = 20
trigger6 = AnimElem = 23
trigger7 = AnimElem = 26
trigger8 = AnimElem = 29
trigger9 = AnimElem = 32
trigger10 = AnimElem = 35
value = s1200,0



[State 3700, Explod]
type = Explod
trigger1 = AnimElem = 8
trigger2 = AnimElem = 16
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 32
anim = 6028
sprpriority = 3
scale = .2,.2
pos = -10,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1

[State 3700, Explod]
type = Explod
trigger1 = AnimElem = 8
trigger2 = AnimElem = 16
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 32
anim = 6028
sprpriority = 3
scale = .2,.2
pos = 40,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
facing = -1


[State 3700, 3]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 18
trigger5 = AnimElem = 21
trigger6 = AnimElem = 24
trigger7 = AnimElem = 27
trigger8 = AnimElem = 30
trigger9 = AnimElem = 32
trigger10 = AnimElem = 35
animtype  = Hard
damage=8,5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 1,1
sparkNo=-1
sparkXY=-1,-1
guard.sparkNo = -1
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = 3
guard.velocity = 3
air.velocity = 3,-2
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
fall=0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7
p2stateno = 3306

[State 3700, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-80)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3700, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-80)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1



[State 3700, 4]
type = ChangeState
trigger1 =  Animelem = 33
value = 3701
ctrl = 0
;----------------------------------------------------------------------------------------------
;Bloody Blender
[Statedef 3701]
type=S
physics=S
movetype=A
ctrl=0
velset=0,0
sprpriority=2
anim = 3701
poweradd = 0
juggle = 0


[State 3701, Vel]
type = velset
trigger1 = animelem = 4
x = 14
y = 0

[State 3701,1]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,7
channel = 0
volumescale = 255

[State 3701,1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1100,0
channel = 1


[State 3701,1]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1,9


[State 3701, Dust Helper]
type = Helper
trigger1 = AnimElem = 5
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3701, Width]
type = Width
trigger1 =animelemtime(3)>=0&&animelemtime(5)<0
edge = 30,0
player = 30,0


[State 3701, Hit]
type=hitdef
trigger1= animelem=5
attr = S, HA
hitflag = MAF
guardflag = M
priority = 4, Hit
damage = 25,5
getpower=0,0
givepower=35, 35
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 5)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = high
air.type = high
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -2,-6
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -6.83, -12.64)
guard.cornerpush.veloff = 0
air.velocity = -1.32, -6.36
air.cornerpush.veloff = 0
yaccel = .58
fall = 1
fall.recover = 0
fall.recovertime = 120
hitsound=S2+10*var(44), 2
guardsound = S130,0
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0*(var(34):=8001)
sparkXY=-10 + 0 * (var(35) := 90), var(36):=-78
palfx.time = 12*var(9)
palfx.add = 255,255,255
palfx.sinadd= -255,-255,-255,48
air.juggle = 0
envshake.time = 10
envshake.ampl = 5


[State 3701, State End]
type = ChangeState
trigger1 = animtime = 0
value = 3702
ctrl = 0

;---------------------------------------------------------------------------
;Bloody Blender
[Statedef 3702]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1610
sprpriority = 2

[State 3702, Varset]
type=Varset
trigger1 =!time
var(2)=0
[State 3701, Varadd]
type=Varadd
trigger1 =movecontact
var(2)=1

[State 3702,1]
type = PlaySnd
trigger1 = time = 0
value = s1000,3
volumescale = 255


[State 3702,1]
type = PlaySnd
trigger1= animelem=1
value = s41,0

[State 3702, Dust]
type = helper
trigger1 = animelem = 1
helpertype = normal
stateno = 8100
ID = 8100
name = "Jump Dust"
postype = p1
ownpal = 1

[State 3702, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(4)<0
edge = 30,0
player = 30,0

[State 3702, Vel]
type = velset
trigger1 = animelem = 1
x = 4
y = -14.2

[State 3702, 1] ;Gravity
type = VelAdd
trigger1 = (AnimElemTime (1) >= 0)
y = .8

[State 3702,1]
type = PlaySnd
trigger1= animelem=1
value = s1600,0
volumescale = 255
channel = 1

[State 3702,1]
type = PlaySnd
trigger1= animelem=1
value = s1600,0
volumescale = 1

[State 3702, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 3703
ID = 7996
bindTime = -1
sprpriority = 4
postype = p1
pos = 30,-48
scale = 0.5,0.5
removetime = -2
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1


[State 3702, HitDef]
type = HitDef
trigger1=var(2)<=4
attr = A, HA
priority = 4,Hit
animtype  = Heavy
damage=21, 10
getpower=0,0
givepower=35, 35
hitflag=MAF
guardflag = HA
pausetime = 8,7
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 24
ground.velocity = -2,-8
air.velocity = -4,-4.2
airguard.velocity = -6,-4
guard.velocity = -12
guard.pausetime = 4,4
guard.slidetime = 12
guard.hittime = 12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = 0
yaccel = .4
envshake.time=12
envshake.ampl=6
fall.recover=0
fall = 1
fall.envshake.time = 22
fall.envshake.ampl = 5

[State 3701, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-80)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3701, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-80)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3702, ChangeState]
type = ChangeState
trigger1 = (AnimElemTime (8) >= 0)
trigger1 = pos y >= 0 && vel y > 0
value = 1602
;----------------------------------------------------------------------------------------
;Max Bloody Blender
[Statedef 3750]
type    = S
movetype= A
physics = S
anim = 3700
poweradd = -2000
velset = 0,0
ctrl = 0
sprpriority = 2

[State -2, Hit Detection]
type=varset
trigger1 = 1
var(14)=0
ignorehitpause = 1

[State 3750, No Corner Push]
type=VarSet
trigger1=!time
fvar(5)=0
[State 3750, Unguardable]
type=VarSet
trigger1=!time && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=50
[State 3750, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3750, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=(PrevStateNo=[3000,4999]) && var(7)
[State 3750, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3750, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3750, SuperPause FX]
type=Helper
trigger1 = AnimElem = 6
helperType=Normal
stateNo=8510
ID=8510
name="Superpause FX"
posType=P1
pos=60,-72
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3750, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=49
p2DefMul=1
unHittable=1
anim=-1
sound=-1
darken=0
poweradd=0

[State 3750,PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 8500, 1
channel = 8

[State 3750, NotHitBy]
type=NotHitBy
trigger1=AnimElemTime(9) < 0
time=1
value=SCA

[State 3750, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3005

[State 3750, Level 2 Super AfterImage]
type = AfterImage
trigger1 = animelem = 7
time = 999
timeGap = 1
framegap = 10
length = 21
palBright = 0,0,0
palContrast = 32,32,160
palPostBright = 0,0,0
palAdd = 0,0,0
palMul = 0.75,0.75,0.75
trans = Add1

[State 3750,1]
type = PlaySnd
trigger1 = Animelem = 6
value = s730,1
volumescale = 255



[State 3750,1]
type = PlaySnd
trigger1 = Animelem = 7
value = s1000,2
channel = 0
volumescale = 255


[State 3750]
type = helper
trigger1 = AnimElem = 9
name="Bloody Mixer Projectile Stopper"
id=1205
pos = 0,0
stateno = 1205
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1
ignorehitpause = 1
sprpriority = -3

[State 3750, pullhelper]
type = helper
trigger1 = AnimElem = 9 && !numhelper(3755)
helpertype = normal
stateno = 3755
ID = 3755
name = "Bloody Mixer Vaccum"
postype = p2
pos = enemynear, const(size.ground.back) -25, -ceil(enemy, pos y)
persistent = 0
size.ground.back = 5
size.ground.front = 5
size.height = 240

[State 3750,2]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 11
trigger3 = AnimElem = 16
trigger4 = AnimElem = 17
trigger5 = AnimElem = 20
trigger6 = AnimElem = 23
trigger7 = AnimElem = 26
trigger8 = AnimElem = 29
trigger9 = AnimElem = 32
trigger10 = AnimElem = 35
value = s1200,0



[State 3750, Explod]
type = Explod
trigger1 = AnimElem = 8
trigger2 = AnimElem = 16
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 32
trigger6 = AnimElem = 35
anim = 6028
sprpriority = 3
scale = .2,.2
pos = -10,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1

[State 3750, Explod]
type = Explod
trigger1 = AnimElem = 8
trigger2 = AnimElem = 16
trigger3 = AnimElem = 20
trigger4 = AnimElem = 26
trigger5 = AnimElem = 32
trigger6 = AnimElem = 35
anim = 6028
sprpriority = 3
scale = .2,.2
pos = 40,0
ID = 6029
ownpal = 1
pauseMoveTime = 255
superMoveTime = 255
ignorehitpause = 1
facing = -1


[State 3750, 3]
type = HitDef
attr = S, HA
trigger1 = AnimElem = 9
trigger2 = AnimElem = 12
trigger3 = AnimElem = 15
trigger4 = AnimElem = 18
trigger5 = AnimElem = 21
trigger6 = AnimElem = 24
trigger7 = AnimElem = 27
trigger8 = AnimElem = 30
trigger9 = AnimElem = 32
trigger10 = AnimElem = 35
trigger11 = AnimElem = 37
animtype  = Hard
damage=8,5
getpower=0,0
givepower=35, 35
priority=4, hit
guardflag = MA
pausetime = 1,1
sparkNo=-1
sparkXY=-1,-1
guard.sparkNo = -1
hitsound=S2+10*var(44),2
guardsound = s130, 0
ground.type = high
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = 3
guard.velocity = 3
air.velocity = 3,-2
ground.cornerpush.veloff = -1
down.cornerpush.veloff = -1
air.cornerpush.veloff = -1
guard.cornerpush.veloff = -1
airguard.cornerpush.veloff = -1
fall=0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255, 255, 255
palFX.sinAdd = -255, -255, -255, 48
envshake.time = 10
envshake.ampl = 5
fall.envshake.time = 15
fall.envshake.ampl = 7
p2stateno = 3306

[State 3750, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-80)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3750, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-80)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3750, 4]
type = ChangeState
trigger1 =  Animelem = 36
value = 3751
ctrl = 0
;----------------------------------------------------------------------------------------------
;Max Bloody Blender
[Statedef 3751]
type=S
physics=S
movetype=A
ctrl=0
velset=0,0
sprpriority=2
anim = 3701
poweradd = 0
juggle = 0


[State 3751, Vel]
type = velset
trigger1 = animelem = 4
x = 14
y = 0

[State 3751,1]
type = PlaySnd
trigger1 = AnimElem = 5
value = s0,7
channel = 0
volumescale = 255

[State 3751,1]
type = PlaySnd
trigger1 = AnimElem = 4
value = s1100,0
channel = 1


[State 3751,1]
type = PlaySnd
trigger1 = AnimElem = 5
value = s1,9


[State 3751, Dust Helper]
type = Helper
trigger1 = AnimElem = 5
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 3751, Width]
type = Width
trigger1 =animelemtime(3)>=0&&animelemtime(5)<0
edge = 30,0
player = 30,0


[State 3751, Hit]
type=hitdef
trigger1= animelem=5
attr = S, HA
hitflag = MAF
guardflag = M
priority = 4, Hit
damage = 31,5
getpower=0,0
givepower=35, 35
pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 5)
guard.pausetime = ifelse(var(20), 6, 12), ifelse(var(20), 6, 12)
animtype = Hard
air.animtype = Back
fall.animtype = Back
ground.type = high
air.type = high
ground.hittime = 18 + 4*var(9)
ground.slidetime = 18 + 4*var(9)
guard.hittime = 18
air.hittime = 120
ground.velocity = -2,-6
ground.cornerpush.veloff = 0
guard.velocity = ifelse(var(20), -6.83, -12.64)
guard.cornerpush.veloff = 0
air.velocity = -1.32, -6.36
air.cornerpush.veloff = 0
yaccel = .58
fall = 1
fall.recover = 0
fall.recovertime = 120
hitsound=S2+10*var(44), 2
guardsound = S130,0
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0*(var(34):=8001)
sparkXY=-10 + 0 * (var(35) := 90), var(36):=-78
palfx.time = 12*var(9)
palfx.add = 255,255,255
palfx.sinadd= -255,-255,-255,48
air.juggle = 0
envshake.time = 10
envshake.ampl = 5


[State 3751, State End]
type = ChangeState
trigger1 = animtime = 0
value = 3752
ctrl = 0

;---------------------------------------------------------------------------
;Max Bloody Blender
[Statedef 3752]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 1610
sprpriority = 2

[State 3752, Varset]
type=Varset
trigger1 =!time
var(2)=0
[State 3751, Varadd]
type=Varadd
trigger1 =movecontact
var(2)=1

[State 3752,1]
type = PlaySnd
trigger1 = time = 0
value = s1000,3
volumescale = 255


[State 3752,1]
type = PlaySnd
trigger1= animelem=1
value = s41,0

[State 3752, Dust]
type = helper
trigger1 = animelem = 1
helpertype = normal
stateno = 8100
ID = 8100
name = "Jump Dust"
postype = p1
ownpal = 1

[State 3752, Width]
type = Width
trigger1 =animelemtime(1)>=0&&animelemtime(4)<0
edge = 30,0
player = 30,0

[State 3752, Vel]
type = velset
trigger1 = animelem = 1
x = 4
y = -14.2

[State 3752, 1] ;Gravity
type = VelAdd
trigger1 = (AnimElemTime (1) >= 0)
y = .8

[State 3752,1]
type = PlaySnd
trigger1= animelem=1
value = s1600,0
volumescale = 255
channel = 1

[State 3752,1]
type = PlaySnd
trigger1= animelem=1
value = s1600,0
volumescale = 1

[State 3752, Explod]
type = Explod
trigger1 = Animelem = 1
anim = 3703
ID = 7996
bindTime = -1
sprpriority = 4
postype = p1
pos = 30,-48
scale = 0.5,0.5
removetime = -2
removeongethit = 1
ignorehitpause = 0
pauseMoveTime = 999
superMoveTime = 999
ownpal = 1


[State 3752, HitDef]
type = HitDef
trigger1=var(2)<=10
attr = A, HA
priority = 4,Hit
animtype  = Heavy
damage=21, 10
getpower=0,0
givepower=35, 35
hitflag=MAF
guardflag = HA
pausetime = 6,5
sparkNo = -1 
sparkXY = -1,-1
guard.sparkNo = -1
hitsound=S2,13
guardsound = s130, 0
ground.type = High
ground.slidetime = 16
ground.hittime = 24
ground.velocity = -2,-8
air.velocity = -4,-4.2
airguard.velocity = -6,-4
guard.velocity = -12
guard.pausetime = 4,4
guard.slidetime = 12
guard.hittime = 12
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = 0
yaccel = .4
envshake.time=12
envshake.ampl=6
fall.recover=0
fall = 1
fall.envshake.time = 22
fall.envshake.ampl = 5

[State 3751, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8015)
ID=8000
name="Spark"
pos= ceil(p2dist x),ceil(p2dist y-80)
facing=-1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=4

[State 3751, Counter FX]
type=Helper
trigger1=MoveContact=1 && NumTarget && var(9)
trigger1=!(Target, HitShakeOver)
helperType=Normal
stateNo=8290
ID=8290
name="Counter FX"
posType=P1
pos= ceil(p2dist x),ceil(p2dist y-80)
ownPal=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1

[State 3752, ChangeState]
type = ChangeState
trigger1 = (AnimElemTime (8) >= 0)
trigger1 = pos y >= 0 && vel y > 0
value = 1602
;----------------------------------------------------------------------------------------