;========================<Gatling Attack>=======================
[Statedef 1000]
type    = S
movetype = A
physics = N
anim = 1000
ctrl = 0
velset = 7,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,3
channel = 0

[State 1000, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,4
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 8
value = 1, 2

[State 1000, Friction]
type = VelMul
trigger1 = 1
x = 0.8

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 18

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4 || AnimElem = 9
x = 9

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 4

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElemTime(7) = 2 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16
x = 8

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10 || AnimElem = 11
x = 10

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 17
x = 6

[State 1000, Hit 1]
type = HitDef
trigger1 = var(55)
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 56), var(36) := -88
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4
guard.velocity = -4
air.velocity = -2,-6.5
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
air.fall = 1
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 9
attr = S, SA
damage = ceil(ifElse(fvar(11) * 56 < 7, 7, fvar(11) * 56)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 33), var(36) := -100
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -10
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, Gatling Attack Stock]
type = VarSet
trigger1 = MoveHit && !AnimTime
var(55) = 0
ignoreHitPause=1

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
movetype = I

[State 1000, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Medium
[Statedef 1010]
type    = S
movetype = A
physics = N
anim = 1010
ctrl = 0
velset = 10,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1010, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,3
channel = 0

[State 1010, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,4
channel = 0

[State 1010, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 8
value = 1, 2

[State 1010, Friction]
type = VelMul
trigger1 = 1
x = 0.85

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 18

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4 || AnimElem = 9
x = 9

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 4

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElemTime(7) = 2 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16
x = 8

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10 || AnimElem = 11
x = 10

[State 1010, PosAdd]
type = PosAdd
trigger1 = AnimElem = 17
x = 6

[State 1010, Hit 1]
type = HitDef
trigger1 = var(55)
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 56), var(36) := -88
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4
guard.velocity = -4
air.velocity = -2,-6.5
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
air.fall = 1
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1010, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 9
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 33), var(36) := -100
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -10
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1010, Hit 3]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 10
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 15), var(36) := -155
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -10
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1010, Gatling Attack Stock]
type = VarSet
trigger1 = MoveHit && !AnimTime
var(55) = 0
ignoreHitPause=1

[State 1010, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1010, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(23)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(12) < 0
var(11) = 1
ignorehitpause = 1

[State 1010, Death Lake Drive]
type = ChangeState
triggerall = var(11)
trigger1 = AnimElem = 12
value = 1050

[State 1010, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
movetype = I

[State 1010, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Strong
[Statedef 1020]
type    = S
movetype = A
physics = N
anim = 1020
ctrl = 0
velset = 13,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1020, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,3
channel = 0

[State 1020, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,4
channel = 0

[State 1020, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 8
value = 1, 2

[State 1020, Friction]
type = VelMul
trigger1 = 1
x = 0.85

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 18

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4 || AnimElem = 9
x = 9

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 4

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElemTime(7) = 2 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16
x = 8

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10 || AnimElem = 11
x = 10

[State 1020, PosAdd]
type = PosAdd
trigger1 = AnimElem = 17
x = 6

[State 1020, Hit 1]
type = HitDef
trigger1 = var(55)
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 56), var(36) := -88
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4
guard.velocity = -4
air.velocity = -2,-6.5
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
air.fall = 1
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1020, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 9
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 33), var(36) := -100
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -10
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1020, Hit 3]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 10
attr = S, SA
damage = ceil(ifElse(fvar(11) * 28 < 7, 7, fvar(11) * 28)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 15), var(36) := -155
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -10
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1020, Gatling Attack Stock]
type = VarSet
trigger1 = MoveHit && !AnimTime
var(55) = 0
ignoreHitPause=1

[State 1020, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1020, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(23)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(12) < 0
var(11) = 1
ignorehitpause = 1

[State 1020, Death Lake Drive]
type = ChangeState
triggerall = var(11)
trigger1 = AnimElem = 12
value = 1050

[State 1020, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
movetype = I

[State 1020, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;=======================<EX Gatling Attack>===========================
[Statedef 1030]
type    = S
movetype = A
physics = N
anim = 1030
ctrl = 0
velset = 16,0
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1030, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,3
channel = 0

[State 1030, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,4
channel = 0

[State 1030, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 8
value = 1, 2

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -1, -88
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1030, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 1030, Resist Projectiles]
type = NotHitBy
trigger1 = AnimElemTime (17) < 0
time = 1
value = ,NP,SP

[State 1030, Friction]
type = VelMul
trigger1 = 1
x = 0.85

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 18

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4 || AnimElem = 9
x = 9

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 4

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElemTime(7) = 2 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16
x = 8

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10 || AnimElem = 11
x = 10

[State 1030, PosAdd]
type = PosAdd
trigger1 = AnimElem = 17
x = 6

[State 1030, Hit 1]
type = HitDef
trigger1 = var(55)
trigger1 = var(14)
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 56), var(36) := -88
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4
guard.velocity = -4
air.velocity = -2,-6.5
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
air.fall = 1
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1030, Hit 2]
type = HitDef
trigger1 = var(55)
trigger1 = var(14)
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 9
attr = S, SA
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 33), var(36) := -100
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -12
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1030, Hit 3]
type = HitDef
trigger1 = var(55)
trigger1 = var(14)
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 10
attr = S, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 4
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 15), var(36) := -155
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5,-10
air.velocity = -2.5,-10
guard.velocity = -12
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1030, Juggle Reset]
type = VarSet
trigger1 = MoveHit
var(15) = 0
ignoreHitPause=1

[State 1030, Gatling Attack Stock]
type = VarSet
trigger1 = MoveHit && !AnimTime
var(55) = 0
ignoreHitPause=1

[State 1030, VarSet]
type = VarSet
trigger1 = MoveHit && AnimElemTime(12) > 0
var(14) = 0
ignoreHitPause=1

[State 1030, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1030, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(23)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(12) < 0
var(11) = 1
ignorehitpause = 1

[State 1030, Napalm Stretch]
type = ChangeState
triggerall = var(11)
trigger1 = AnimElem = 12
value = 1060

[State 1030, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
movetype = I

[State 1030, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Death Lake Drive
[Statedef 1050]
type    = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 1200
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1050, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1050, Juggle Reset]
type = VarSet
trigger1 = !Time
var(15) = 0
ignoreHitPause=1

[State 1050, Jump Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41, 0

[State 1050, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1050, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1050, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 3.3
y = -10.5; - (var(10)*0.5)

[State 1050, Gravity]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.6

[State 1050, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1050, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 5
trigger1 = AnimElem = 5 
trigger1 = (EnemyNear, StateNo != [150,155])
attr = A, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = AF
numhits = 0
sparkno = -1
p2facing = 1
p1stateno = 1051
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1050, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1050, End]
type = ChangeState
triggerall = AnimElemtime(6) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1201
ctrl = 0

;Death Lake Drive (Success)
[Statedef 1051]
type    = A
movetype = A
physics = N
velset = 0,0
anim = 910

[State 1051, Safety]
type = ChangeState
trigger1 = !Time && !Numtarget
value = 51
ctrl = 1

[State 1051, Width]
type = Width
trigger1 = AnimElemTime(9) < 0
edge = 41,0

[State 1051, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 920

[State 1051, Velocity: Moving Forward]
type = VelSet
trigger1 = AnimElem = 4
x = 2

[State 1051, Gravity]
type = Veladd
trigger1 = AnimElemTime(4) > 0
y = .5

[State 1051, PosAdd] 
type = PosAdd
trigger1 = !Time
x = 16

[State 1051, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0, ifElse(Random<500, 4, 6)
channel = 0

[State 1051, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 5
channel = 1

[State 1051, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(0*const(size.xscale)),ceil(-116*const(size.yscale))

[State 1051, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(2*const(size.xscale)),ceil(-116*const(size.yscale))

[State 1051, Bind 8]
type = TargetBind
trigger1 = AnimElem = 3
trigger1 = NumTarget
pos = ceil(38*const(size.xscale)),ceil(12*const(size.yscale))
time = 1

[State 1051, Damage 3]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 3
value = floor(ifElse(42 * fvar(11) < 7, -7, -42 * fvar(11)))

[State 1051, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 3
value = 35

[State 1051, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem = 3 && !var(20)
value = 70

[State 1051, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 3
value = 1

[State 1051, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 3
var(13) = 1

[State 1051, Juggle]
type = VarAdd
trigger1 = NumTarget && AnimElem = 3
var(15) = 1
ignoreHitPause = 1

[State 1051, Juggle]
type = VarSet
trigger1 = NumTarget && AnimElem = 3
var(16) = 1
ignoreHitPause = 1

[State 1051, Throw]
type = TargetState
trigger1 = NumTarget && AnimElem = 3
value = 921

[State 1051, End]
type = ChangeState
trigger1 = AnimElemTime(3) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;Napalm Stretch
[Statedef 1060]
type    = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 1200
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1060, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1060, Jump Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41, 0

[State 1060, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1060, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1060, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 3.3
y = -10.5; - (var(10)*0.5)

[State 1060, Gravity]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.6

[State 1060, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1060, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 5
trigger1 = AnimElem = 5 
trigger1 = !var(43)
attr = A, ST
priority = 7,Miss
getpower = 0
givepower = 0
hitflag = AF
numhits = 0
sparkno = -1
p1stateno = 1061
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1060, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1060, End]
type = ChangeState
triggerall = AnimElemtime(6) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1201
ctrl = 0

;Napalm Stretch (Success)
[Statedef 1061]
type    = A
movetype = A
physics = N
poweradd = 0
ctrl = 0
anim = 1210
facep2 = 0
sprpriority = 1

[State 1061, Safety]
type = ChangeState
trigger1 = !Time && !Numtarget
value = 51
ctrl = 1

[State 1061, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 0
persistent = 0

;[State 1061, Width]
;type = Width
;trigger1 = AnimElemTime(9) < 0
;edge = 41,0

[State 1061, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1220

[State 1061, Gravity]
type = VelAdd
trigger1 = 1
y = 0.6

[State 1061, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0 || AnimElemTime(5) = 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(-72 * const(size.yScale))
persistent = 1

[State 1061, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(-6 * const(size.xScale)), ceil(-86 * const(size.yScale))
persistent = 1

[State 1061, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(-24 * const(size.xScale)), ceil(-56 * const(size.yScale))
persistent = 1

[State 1061, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(4) < 6
trigger1 = NumTarget
pos = ceil(6 * const(size.xScale)), ceil(-10 * const(size.yScale))
persistent = 1

[State 1061, End]
type = ChangeState
trigger1 = Pos Y >= -12 && Vel Y > 0
value = 1062
ctrl = 0

;Napalm Stretch (Success) 2
[Statedef 1062]
type    = S
movetype = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1211
facep2 = 0
sprpriority = 1

;[State 1330, Width]
;type = width
;trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 8
;edge = 13,0

[State 1062, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 5000,11
channel = 2

[State 1062, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 2, 5

[State 1062, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 1
time = 14
ampl = -4
freq = 120

[State 1062, Dust]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = 0, ceil(5 * const(size.yscale))
ownpal=1

[State 1062, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1221

[State 1062, Damage 1]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 1
value = floor(ifElse(42 * fvar(11) < 7, -7, -42 * fvar(11)))

[State 1062, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 1
value = 35

[State 1062, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 1
value = 1

[State 1062, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(13) = 1

[State 1062, Juggle]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(15) = 1
ignoreHitPause = 1

[State 1062, Juggle]
type = VarSet
trigger1 = NumTarget && AnimElem = 1
var(16) = 1
ignoreHitPause = 1

[State 1062, Throw]
type = TargetState
trigger1 = NumTarget && AnimElem = 2
value = 1222

[State 1062, On Ground]
type = Posset
trigger1 = !Time
y = 0

[State 1062, On Ground]
type = Velset
trigger1 = !Time
y = 0

[State 1062, PosAdd] 
type = PosAdd
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(8) < 0
x = -3

[State 1062, Bind]
type = TargetBind
trigger1 = AnimElem = 1
pos = ceil(6 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1062, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1062, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
var(11) = 1
ignorehitpause = 1

[State 1062, EX Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(4) >= 0
value = 1630

[State 1062, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1


;========================<Super Argentine Backbreaker>=======================
[Statedef 1100];special thanks to Infinite
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1100, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(3) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,12
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 22), (var(36) := -58)
hitSound = S130,0
numHits = 0

[State 1100, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1100, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3 
trigger1 = !var(43)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M
numhits = 0
sparkno = -1
p1stateno = 1101
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1100, Miss Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800,1
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,0
channel = 1

[State 1100, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 1100, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Medium
[Statedef 1110]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1110
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1110, Auto Guard]
type = ReversalDef
trigger1 = AnimElemTime(2)  >= 0 && AnimElemTime(3) < 0
reversal.attr = SCA, NA, SA
pauseTime = 12,12
sparkNo = -1 + 0 * (var(33) := 8001)
sparkXY = -10 + 0 * (var(35) := 22), (var(36) := -58)
hitSound = S130,0
numHits = 0

[State 1110, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1110, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3 
trigger1 = !var(43)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M
numhits = 0
sparkno = -1
p1stateno = 1101
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1110, Miss Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800,1
channel = 0

[State 1110, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,0
channel = 1

[State 1110, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 1110, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Strong
[Statedef 1120]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1120
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1120, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1120, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3 
trigger1 = !var(43)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M
numhits = 0
sparkno = -1
p1stateno = 1101
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1120, Miss Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800,1
channel = 0

[State 1120, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,0
channel = 1

[State 1120, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 1120, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Super Argentine Backbreaker (Success)
[Statedef 1101]
type    = S
movetype = A
physics = S
anim = 1101
velset = 0, 0
poweradd = 0
sprpriority = 0

[State 1101, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1101, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1101, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1105

[State 1101, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1101, SprPriority]
type=SprPriority
trigger1 = AnimElem = 2
value = 2

[State 1101, AssertSpecial]
type = AssertSpecial
trigger1 = AnimElemTime(12) < 0
flag = NoAutoTurn

[State 1101, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(30 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1101, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(54 * const(size.xScale)), ceil(-70 * const(size.yScale))

[State 1101, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(40 * const(size.xScale)), ceil(-55 * const(size.yScale))

[State 1101, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
trigger1 = NumTarget
pos = ceil(22 * const(size.xScale)), ceil(-90 * const(size.yScale))

[State 1101, Throw 9]
type=TargetState
trigger1 = NumTarget && AnimElem = 9
value = 1106

[State 1101, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(-5 * const(size.xScale)), ceil(-86 * const(size.yScale))

[State 1101, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger1 = NumTarget
pos = ceil(-5 * const(size.xScale)), ceil(-102 * const(size.yScale))

[State 1101, Width 11]
type = Width
trigger1 = AnimElem = 11
edge = 85,0

[State 1101, Turn 11]
type = Turn
trigger1 = AnimElem = 11

[State 1101, Bind 11]
type=TargetBind
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(26 * const(size.xScale)), ceil(-92 * const(size.yScale))

[State 1101, Bind 12]
type = TargetBind
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
trigger1 = NumTarget
pos = ceil(38 * const(size.xScale)), ceil(-84 * const(size.yScale))

[State 1101, Bind 13]
type=TargetBind
trigger1 = AnimElem = 13
trigger1 = NumTarget
pos = ceil(80 * const(size.xScale)), ceil(-5 * const(size.yScale))

[State 1101, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 9
value = floor(ifElse(49 * fvar(11) < 7, -7, -49 * fvar(11)))
kill=0

[State 1101, Damage 2]
type=TargetLifeAdd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = floor(ifElse(49 * fvar(11) < 7, -7, -49 * fvar(11)))

[State 1101, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
value = 35

[State 1101, PowerAdd]
type = PowerAdd
triggerall = NumTarget && !var(20)
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
value = 35

[State 1101, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
value = 1

[State 1101, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
var(13) = 1

[State 1101, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
var(15) = 1
ignoreHitPause = 1

[State 1101, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
var(16) = 1
ignoreHitPause = 1

[State 1101, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,0
channel = 0

[State 1101, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1100,1
channel = 0

[State 1101, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 4
value=1, 5
channel=1

;[State 1101, Stretch]
;type=PlaySnd
;trigger1= AnimElem = 9
;value=s193,0
;channel=3

[State 1101, Slam Sound 1]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 9
value = 2, 2

[State 1101, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 9
value = 5000, 11

[State 1101, Slam Sound 3]
type = PlaySnd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = 2,7
channel = 2

[State 1101, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 9
time = 14
ampl = -4
freq = 120

[State 1000, Ground FX]
type=Explod
trigger1 = AnimElem = 9
anim = 8105
sprPriority = -1
posType = P1
pos = 0,2
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1101, HitSpark]
type=Helper
trigger1 = AnimElem = 9
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P1
pos = ceil(-2 * const(size.xScale)), ceil(-95 * const(size.yScale))
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1101, Impact Dust]
type = Helper
trigger1 = NumTarget && AnimElemTime(13) = 1
helpertype = Normal
stateno = 8110
ID = 8100
name = "Impact Dust"
postype = p1
pos = ceil(78 * const(size.xscale)), 0
ownpal = 1

[State 1101, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1101, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(14) < 0
var(11) = 1
ignorehitpause = 1

[State 1101, Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(13) >= 2
value = 1600

[State 1101, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Super Argentine Backbreaker (Target)
[Statedef 1105]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 1

[State 1105, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x=0.4
y=-22

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = 0.65

[State 1105, Screenbound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1105, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 1105, SprPriority]
type = SprPriority
trigger1 = AnimElem = 7
value = 3

[State 1105, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1105

[State 1105, SelfState]
type = SelfState
triggerall = AnimElemTime(2) < 0
trigger1 = !gethitvar(isbound)
value = 5050

;Super Argentine Backbreaker (Target) 2
[Statedef 1106]
type    = A
movetype = H
physics = N
ctrl = 0

[State 1106, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 2
y = 20

[State 1106, VelSet]
type = PosAdd
trigger1 = AnimElemTime(6) = 1
x = 2
y = 5

[State 1106, Screenbound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1106, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1106

[State 1106, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 1106, Turn]
type = Turn
trigger1 = Vel Y > 0 && Pos Y >= 0

[State 1106, End]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1107

;Hitting the Ground
[StateDef 1107]
type = L
moveType = H
physics = N
velSet = 0,0

[State 1107, Change Anim]
type = ChangeAnim
triggerall = !Time
trigger1 = !SelfAnimExist(5100 + (Anim % 10))
value = 5100

[State 1107, Change Anim]
type = ChangeAnim
trigger1 = !Time
trigger1 = SelfAnimExist(5100 + (Anim % 10))
value = 5100 + (Anim % 10)

[State 1107, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1107, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = -4

[State 1107, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,1

;[State 1107, Hitting the Floor FX]
;type = Explod
;trigger1 = !Time
;anim = F61
;posType = P1
;pos = 0, 0
;sprPriority = -3

[State 1107, End]
type = ChangeState
trigger1 = !AnimTime
value = 1108

;Bouncing Off Ground
[StateDef 1108]
type = L
moveType = H
physics = N

[State 1108, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (Anim % 10))
value = 5160

[State 1108, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (Anim % 10))
value = 5160 + (Anim % 10)

[State 1108, VelSet]
type = VelSet
trigger1 = !Time
x = -1.5
y = -5.5

[State 1108, PosSet]
type = PosSet
trigger1 = !Time
y = 20

[State 1108, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.4

[State 1108, End]
type = SelfState
trigger1 = vel y > 0
trigger1 = pos y >= 12
value = 5110

;=======================<EX Super Argentine Backbreaker>===========================
[Statedef 1130]
type    = S
movetype = A
physics = S
anim = 1120
ctrl = 0
velset = 0,0
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1130, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1130, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1130, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1130, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -1, -88
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1130, Muteki]
type = Nothitby
trigger1 = AnimElemTime(3)<0
time = 1
value = SCA

[State 1130, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1130, Throw]
type = Hitdef
trigger1 = var(14)
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3 
trigger1 = !var(43)
attr = S, ST
priority = 7,Miss
getpower = 0
givepower = 0
hitflag = M
numhits = 0
sparkno = -1
p1stateno = 1131
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1130, Miss Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 800,2
channel = 0

[State 1130, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1,0

[State 1130, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(4) >= 0
moveType = I

[State 1130, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Super Argentine Backbreaker (Success)
[Statedef 1131]
type    = S
movetype = A
physics = S
anim = 1131
velset = 0, 0
poweradd = 0
sprpriority = 0

[State 1131, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1131, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1131, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1105

[State 1131, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1131, SprPriority]
type=SprPriority
trigger1 = AnimElem = 2
value = 2

[State 1131, AssertSpecial]
type = AssertSpecial
trigger1 = AnimElemTime(12) < 0
flag = NoAutoTurn

[State 1131, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(30 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1131, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(54 * const(size.xScale)), ceil(-70 * const(size.yScale))

[State 1131, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(40 * const(size.xScale)), ceil(-55 * const(size.yScale))

[State 1131, Bind 4]
type = TargetBind
trigger1 = AnimElem = 4
trigger1 = NumTarget
pos = ceil(22 * const(size.xScale)), ceil(-90 * const(size.yScale))

[State 1131, Throw 9]
type=TargetState
trigger1 = NumTarget && AnimElem = 9
value = 1136

[State 1131, Turn 9]
type = Turn
trigger1 = AnimElem = 9

[State 1131, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(-5 * const(size.xScale)), ceil(-86 * const(size.yScale))

[State 1131, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger1 = NumTarget
pos = ceil(-5 * const(size.xScale)), ceil(-102 * const(size.yScale))

[State 1131, Width 11]
type = Width
trigger1 = AnimElem = 11
edge = 85,0

[State 1131, Bind 11]
type=TargetBind
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(26 * const(size.xScale)), ceil(-92 * const(size.yScale))

[State 1131, Bind 12]
type = TargetBind
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
trigger1 = NumTarget
pos = ceil(38 * const(size.xScale)), ceil(-84 * const(size.yScale))

[State 1131, Bind 13]
type=TargetBind
trigger1 = AnimElem = 13
trigger1 = NumTarget
pos = ceil(75 * const(size.xScale)), ceil(-5 * const(size.yScale))

[State 1131, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 9
value = floor(ifElse(63 * fvar(11) < 7, -7, -63 * fvar(11)))
kill=0

[State 1131, Damage 2]
type=TargetLifeAdd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = floor(ifElse(63 * fvar(11) < 7, -7, -63 * fvar(11)))

[State 1131, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
value = 35

[State 1131, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
value = 1

[State 1131, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
trigger2 = AnimElemTime(13) = 1
var(13) = 1

[State 1131, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 9
var(15) = 1
ignoreHitPause = 1

[State 1131, Juggle Reset]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(15) = 0

[State 1131, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 9
var(16) = 1
ignoreHitPause = 1

[State 1131, Juggle Reset]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(16) = 0

[State 1131, VarSet]
type = VarSet
trigger1 = AnimElemTime(13) = 1
var(14) = 0
ignoreHitPause=1

[State 1131, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1100,0
channel = 0

[State 1131, Voice 2]
type = PlaySnd
trigger1 = AnimElem = 12
value = 1100,1
channel = 0

[State 1131, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 4
value=1, 5

;[State 1131, Stretch]
;type=PlaySnd
;trigger1= AnimElem = 9
;value=s193,0
;channel=3

[State 1131, Slam Sound 1]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 9
value = 2, 2

[State 1131, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 9
value = 5000, 11

[State 1131, Slam Sound 3]
type = PlaySnd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = 2,7
channel = 2

[State 1131, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 9
time = 14
ampl = -4
freq = 120

[State 1000, Ground FX]
type=Explod
trigger1 = AnimElem = 9
anim = 8105
sprPriority = -1
posType = P1
pos = 0,2
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1131, HitSpark]
type=Helper
trigger1 = AnimElem = 9
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P1
pos = ceil(-2 * const(size.xScale)), ceil(-95 * const(size.yScale))
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 1131, Impact Dust]
type = Helper
trigger1 = NumTarget && AnimElemTime(13) = 1
helpertype = Normal
stateno = 8110
ID = 8100
name = "Impact Dust"
postype = p1
pos = ceil(78 * const(size.xscale)), 0
ownpal = 1

[State 1131, State End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;EX Super Argentine Backbreaker (Target) 2
[Statedef 1136]
type    = A
movetype = H
physics = N
ctrl = 0

[State 1136, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 2
y = 20

[State 1136, VelSet]
type = PosAdd
trigger1 = AnimElemTime(6) = 1
x = 2
y = 5

[State 1136, Screenbound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1136, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1106

[State 1136, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 1136, Turn]
type = Turn
trigger1 = Vel Y > 0 && Pos Y >= 0

[State 1136, End]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1137

;Ground Bounce Neo
[Statedef 1137]
type = A
movetype = H
physics = N
velset = 0,0

[State 1137, On Ground]
type = PosSet
trigger1 = !Time
y = 0

[State 1137, Muteki]
type = NotHitBy
trigger1 = AnimElemTime(2)<0
value = SCA

[State 1137, SFX]
type = PlaySnd
trigger1 = Time=1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1137, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = 5

[State 1137, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 6160

[State 1137, Velset]
type = VelSet
trigger1 = AnimElemTime(2)=0
x = -0.8
y = -6.85

[State 1137, Gravity]
type = VelAdd
trigger1 = 1
y = 0.42

;------------------
[State 1137, AngleAdd];special thanks to Zzyzzyxx
type = AngleAdd
trigger1 = Time > 2
value = ifelse((facing != enemynear, facing), 22, -22)

[State 1137, AngleDraw]
type = AngleDraw
trigger1 = Time > 2

[State 1137, AngleSet]
type = AngleSet
trigger1 = (pos y-16)>-vel y;pos y > -vel y
value = 0
ignorehitpause = 1
;------------------

[State 1137, End]
type = SelfState
trigger1 = (pos y-16)>-vel y
value = 5100

;========================<Napalm Stretch>=======================
[Statedef 1200]
type    = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 1200
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Button Detect]
type = VarSet
trigger1 = !Time
var(10) = ifElse((helper(10371), var(0)) || (helper(10371), var(7)), 0, ifElse((helper(10371), var(1)) || (helper(10371), var(8)), 1, 2))

[State 1200, Jump Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41, 0

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1200, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 1.3 + (var(10)*1)
y = -10.5; - (var(10)*0.5)

[State 1200, Gravity]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.6

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(2)<0
time = 1
value = SCA

[State 1200, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1200, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 5 
trigger1 = !var(43)
attr = A, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = AF
numhits = 0
sparkno = -1
p2facing = 1
p1stateno = 1210
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1200, End]
type = ChangeState
triggerall = AnimElemtime(6) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1201
ctrl = 0

;Napalm Stretch (Landing)
[Statedef 1201]
type    = S
movetype = I
physics = S
anim = 1201
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 1201, Landing Sound]
type = PlaySnd
trigger1 = !Time
value = 52,0

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1201, On Ground]
type = Posset
trigger1 = !Time
y = 0

[State 1201, On Ground]
type = Velset
trigger1 = !Time
y = 0

[State 1205, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Napalm Stretch (Success)
[Statedef 1210]
type    = A
movetype = A
physics = N
poweradd = 0
ctrl = 0
anim = 1210
facep2 = 0
sprpriority = 1

[State 1210, Safety]
type = ChangeState
trigger1 = !Time && !Numtarget
value = 51
ctrl = 1

[State 1210, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 0
persistent = 0

;[State 1210, Width]
;type = Width
;trigger1 = AnimElemTime(9) < 0
;edge = 41,0

[State 1210, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1220

[State 1200, Gravity]
type = VelAdd
trigger1 = 1
y = 0.6

[State 1210, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0 || AnimElemTime(5) = 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(-72 * const(size.yScale))
persistent = 1

[State 1210, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(-6 * const(size.xScale)), ceil(-86 * const(size.yScale))
persistent = 1

[State 1210, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(-24 * const(size.xScale)), ceil(-56 * const(size.yScale))
persistent = 1

[State 1210, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(4) < 6
trigger1 = NumTarget
pos = ceil(6 * const(size.xScale)), ceil(-10 * const(size.yScale))
persistent = 1

[State 1210, End]
type = ChangeState
trigger1 = Pos Y >= -12 && Vel Y > 0
value = 1211
ctrl = 0

;Napalm Stretch (Success) 2
[Statedef 1211]
type    = S
movetype = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1211
facep2 = 0
sprpriority = 1

;[State 1330, Width]
;type = width
;trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 8
;edge = 13,0

[State 1211, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 5000,11
channel = 2

[State 1211, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 2, 5

[State 1211, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 1
time = 14
ampl = -4
freq = 120

[State 1211, Dust]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = 0, ceil(5 * const(size.yscale))
ownpal=1

[State 1211, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1221

[State 1211, Damage 1]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 1
value = floor(ifElse(77 * fvar(11) < 7, -7, -77 * fvar(11)))

[State 1211, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 1
value = 35

[State 1211, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem = 1 && !var(20)
value = 70

[State 1211, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 1
value = 1

[State 1211, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(13) = 1

[State 1211, Juggle]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(15) = 1
ignoreHitPause = 1

[State 1211, Juggle]
type = VarSet
trigger1 = NumTarget && AnimElem = 1
var(16) = 1
ignoreHitPause = 1

[State 1211, Throw]
type = TargetState
trigger1 = NumTarget && AnimElem = 2
value = 1222

[State 1211, On Ground]
type = Posset
trigger1 = !Time
y = 0

[State 1211, On Ground]
type = Velset
trigger1 = !Time
y = 0

[State 1211, PosAdd] 
type = PosAdd
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(8) < 0
x = -3

[State 1211, Bind]
type = TargetBind
trigger1 = AnimElem = 1
pos = ceil(6 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1211, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1211, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = !IsHelper(10371)
triggerall = numhelper(10371)
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
var(11) = 1
ignorehitpause = 1

[State 1211, Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(4) >= 0
value = 1600

[State 1211, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Napalm Stretch (Target)
[Statedef 1220]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 0

[State 1220, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1220

[State 1515, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

;Napalm Stretch (Target) 2
[Statedef 1221]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1221, Muteki]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1221, No Push]
type = PlayerPush
trigger1 = 1
value = 0

[State 1221, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5080

[State 1221, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1221, End]
type = SelfState
trigger1 = Time >= 60
value = 5040

;Napalm Stretch (Target) 3
[Statedef 1222]
type = A
physics = N
movetype = H
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1222, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 5160

[State 1222, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1222, Gravity]
type = VelAdd
trigger1 = 1
y = .5

[State 1222, Velocity]
type = VelSet
trigger1 = !Time
x = -4
y = -5.5

[State 821, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

;[State 1222, Recover]
;type = SelfState
;trigger1 = command = "recovery"
;trigger1 = Alive && CanRecover
;trigger1 = vel y>-1 && pos y>=-20
;value = 5200

[State 1222, End]
type = ChangeState
trigger1 = vel y>0
trigger1 = pos y>-vel y
value = 1223

;Hitting the Ground
[StateDef 1223]
type = L
moveType = H
physics = N
velSet = 0,0

[State 1223, Change Anim]
type = ChangeAnim
triggerall = !Time
trigger1 = !SelfAnimExist(5100 + (Anim % 10))
value = 5100

[State 1223, Change Anim]
type = ChangeAnim
trigger1 = !Time
trigger1 = SelfAnimExist(5100 + (Anim % 10))
value = 5100 + (Anim % 10)

[State 1223, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1223, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = -4

[State 1223, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,1

;[State 1223, Hitting the Floor FX]
;type = Explod
;trigger1 = !Time
;anim = F61
;posType = P1
;pos = 0, 0
;sprPriority = -3

[State 1223, End]
type = ChangeState
trigger1 = !AnimTime
value = 1224

;Bouncing Off Ground
[StateDef 1224]
type = L
moveType = H
physics = N

[State 1224, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (Anim % 10))
value = 5160

[State 1224, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (Anim % 10))
value = 5160 + (Anim % 10)

[State 1224, VelSet]
type = VelSet
trigger1 = !Time
x = -2.5
y = -4.5

[State 1224, PosSet]
type = PosSet
trigger1 = !Time
y = 20

[State 1224, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.4

[State 1224, End]
type = SelfState
trigger1 = vel y > 0
trigger1 = pos y >= 12
value = 5110

;========================<EX Napalm Stretch>=======================
[Statedef 1230]
type    = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 1200
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1230, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1230, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1230, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1230, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -1, -76
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1230, Jump Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41, 0

[State 1230, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1230, StateType]
type = StateTypeSet
trigger1 = AnimElem = 2
StateType = A
physics = N

[State 1230, Velocity]
type = VelSet
trigger1 = AnimElem = 2
x = 4.5
y = -11

[State 1230, Gravity]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.6

[State 1230, Muteki]
type = Nothitby
trigger1 = AnimElemTime(5)<0
time = 1
value = SCA

[State 1230, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1230, Throw]
type = Hitdef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 5 
trigger1 = !var(43)
attr = A, ST
priority = 7,Miss
getpower = 0
givepower = 0
hitflag = AF
numhits = 0
sparkno = -1
p2facing = 1
p1stateno = 1240
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1230, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
moveType = I

[State 1230, End]
type = ChangeState
triggerall = AnimElemtime(6) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1201
ctrl = 0

;EX Napalm Stretch (Success)
[Statedef 1240]
type    = A
movetype = A
physics = N
poweradd = 0
ctrl = 0
anim = 1210
facep2 = 0
sprpriority = 1

[State 1240, Safety]
type = ChangeState
trigger1 = !Time && !Numtarget
value = 51
ctrl = 1

[State 1240, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 0
persistent = 0

;[State 1240, Width]
;type = Width
;trigger1 = AnimElemTime(9) < 0
;edge = 41,0

[State 1240, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1220

[State 1240, Gravity]
type = VelAdd
trigger1 = 1
y = 0.6

[State 1240, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0 || AnimElemTime(5) = 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(-72 * const(size.yScale))
persistent = 1

[State 1240, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(-6 * const(size.xScale)), ceil(-86 * const(size.yScale))
persistent = 1

[State 1240, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(-24 * const(size.xScale)), ceil(-56 * const(size.yScale))
persistent = 1

[State 1240, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(4) < 6
trigger1 = NumTarget
pos = ceil(6 * const(size.xScale)), ceil(-10 * const(size.yScale))
persistent = 1

[State 1240, End]
type = ChangeState
trigger1 = Pos Y >= -12 && Vel Y > 0
value = 1241
ctrl = 0

;EX Napalm Stretch (Success) 2
[Statedef 1241]
type    = S
movetype = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
anim = 1211
facep2 = 0
sprpriority = 1

;[State 1330, Width]
;type = width
;trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 8
;edge = 13,0

[State 1241, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 5000,11
channel = 2

[State 1241, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 1
value = 2, 5

[State 1241, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 1
time = 14
ampl = -4
freq = 120

[State 1241, Dust]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = 0, ceil(5 * const(size.yscale))
ownpal=1

[State 1241, TargetState]
type = TargetState
trigger1 = !Time
trigger1 = NumTarget
value = 1221

[State 1241, Damage 1]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 1
value = floor(ifElse(105 * fvar(11) < 7, -7, -105 * fvar(11)))

[State 1241, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 1
value = 35

[State 1241, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 1
value = 1

[State 1241, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(13) = 1

[State 1241, Juggle]
type = VarAdd
trigger1 = NumTarget && AnimElem = 1
var(15) = 1
ignoreHitPause = 1

[State 1241, Juggle]
type = VarSet
trigger1 = NumTarget && AnimElem = 1
var(16) = 1
ignoreHitPause = 1

[State 1241, Throw]
type = TargetState
trigger1 = NumTarget && AnimElem = 2
value = 1222

[State 1241, On Ground]
type = Posset
trigger1 = !Time
y = 0

[State 1241, On Ground]
type = Velset
trigger1 = !Time
y = 0

[State 1241, PosAdd] 
type = PosAdd
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(8) < 0
x = -3

[State 1241, Bind]
type = TargetBind
trigger1 = AnimElem = 1
pos = ceil(6 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1241, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1241, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = !IsHelper(10371)
triggerall = numhelper(10371)
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
var(11) = 1
ignorehitpause = 1

[State 1241, EX Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(4) >= 0
value = 1630

[State 1241, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;========================<Frankensteiner>=======================
[Statedef 1300]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1300
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1300, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4)<0
time = 1
value = SCA

[State 1300, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1300, Throw]
type = Hitdef
trigger1 = AnimElem = 4
trigger1 = !var(38)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1stateno = 1301
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,3
channel = 0

[State 1300, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5
channel = 1

[State 1300, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Medium
[Statedef 1310]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1310
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1310, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4)<0
time = 1
value = SCA

[State 1310, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1310, Throw]
type = Hitdef
trigger1 = AnimElem = 4
trigger1 = !var(38)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1stateno = 1301
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1310, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,3
channel = 0

[State 1310, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5
channel = 1

[State 1310, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 1310, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Heavy
[Statedef 1320]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1320
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1320, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4)<0
time = 1
value = SCA

[State 1320, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1320, Throw]
type = Hitdef
trigger1 = AnimElem = 4
trigger1 = !var(38)
attr = S, ST
priority = 7,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1stateno = 1301
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1320, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,3
channel = 0

[State 1320, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5
channel = 1

[State 1320, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 1320, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Frankensteiner (Success)
[Statedef 1301]
type    = S
movetype = A
physics = S
anim = 1301
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1301, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1301, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1301, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1305

[State 1301, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1301, On Ground]
type = PosSet
trigger1 = AnimElem = 5
y = 0

[State 1301, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElem = 7
x = -16

[State 1301, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = -32

[State 1301, Bind 1-4]
type = BindToTarget
trigger1 = AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

;ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

[State 1301, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(-28 * const(size.xScale)), ceil(-80 * const(size.yScale))

[State 1301, Width 6-8]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
edge = 0,105

[State 1301, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(-32 * const(size.xScale)), ceil(-75 * const(size.yScale))

[State 1301, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(-55 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1301, Throw 8]
type=TargetState
trigger1 = NumTarget && AnimElem = 8
value = 1306

[State 1301, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 7
value = floor(ifElse(84 * fvar(11) < 7, -7, -84 * fvar(11)))

[State 1301, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 7
value = 35

[State 1301, PowerAdd]
type = PowerAdd
triggerall = NumTarget && !var(20)
trigger1 = AnimElem = 7
value = 70

[State 1301, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
value = 1

[State 1301, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(13) = 1

[State 1301, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(15) = 1
ignoreHitPause = 1

[State 1301, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 7
var(16) = 1
ignoreHitPause = 1

[State 1301, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1300,1
channel = 0

[State 1301, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 5
value=1, 5
channel=1

[State 1301, Slam Sound 1]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 2, 5

[State 1301, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 5000, 11

[State 1301, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 7
time = 14
ampl = -4
freq = 120

[State 1301, Dust]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = ceil(-55 * const(size.xscale)), 0
ownpal=1

[State 1301, Turn 14]
type = Turn
trigger1 = AnimElem = 14

[State 1301, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1301, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(8) < 0
var(11) = 1
ignorehitpause = 1

[State 1301, Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(8) >= 1
value = 1600

[State 1301, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Frankensteiner (Target)
[Statedef 1305]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 1305, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1305

[State 1305, SelfState]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;Frankensteiner (Target) 2
[Statedef 1306]
type    = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1306, Gravity]
type = VelAdd
trigger1 = 1
y = .5

[State 1306, Velocity]
type = VelSet
trigger1 = !Time
x = 4
y = -6.5

[State 1306, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

;[State 1306, Recover]
;type = SelfState
;trigger1 = command = "recovery"
;trigger1 = Alive && CanRecover
;trigger1 = vel y>-1 && pos y>=-20
;value = 5200

[State 1306, End]
type = ChangeState
trigger1 = vel y>0
trigger1 = pos y>-vel y
value = 1307

;Hitting the Ground
[StateDef 1307]
type = L
moveType = H
physics = N
velSet = 0,0

[State 1307, Change Anim]
type = ChangeAnim
triggerall = !Time
trigger1 = !SelfAnimExist(5100 + (Anim % 10))
value = 5100

[State 1307, Change Anim]
type = ChangeAnim
trigger1 = !Time
trigger1 = SelfAnimExist(5100 + (Anim % 10))
value = 5100 + (Anim % 10)

[State 1307, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1307, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = -4

[State 1307, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,1

;[State 1307, Hitting the Floor FX]
;type = Explod
;trigger1 = !Time
;anim = F61
;posType = P1
;pos = 0, 0
;sprPriority = -3

[State 1307, End]
type = ChangeState
trigger1 = !AnimTime
value = 1308

;Bouncing Off Ground
[StateDef 1308]
type = L
moveType = H
physics = N

[State 1308, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (Anim % 10))
value = 5160

[State 1308, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (Anim % 10))
value = 5160 + (Anim % 10)

[State 1308, VelSet]
type = VelSet
trigger1 = !Time
x = 3
y = -5.5

[State 1308, PosSet]
type = PosSet
trigger1 = !Time
y = 20

[State 1308, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.4

[State 1308, End]
type = SelfState
trigger1 = vel y > 0
trigger1 = pos y >= 12
value = 5110
;========================<EX Frankensteiner>=======================
[Statedef 1330]
type    = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 1330
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1330, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1330, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1330, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1330, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 7, -33
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1330, Muteki]
type = Nothitby
trigger1 = AnimElemTime(5)<0
time = 1
value = SCA

[State 1330, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1330, Throw]
type = Hitdef
trigger1 = AnimElem = 4
trigger1 = !var(38)
attr = S, ST
priority = 7,Miss
getpower = 0
givepower = 0
hitflag = M-
numhits = 0
sparkno = -1
p1stateno = 1331
hitsound = s800, 0
fall = 1
fall.recover = 0

[State 1330, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1300,0
channel = 0

[State 1330, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,5

[State 1330, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
moveType = I

[State 1330, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Frankensteiner (Success)
[Statedef 1331]
type    = S
movetype = A
physics = S
anim = 1301
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1331, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1331, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1331, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1305

[State 1331, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1331, On Ground]
type = PosSet
trigger1 = AnimElem = 5
y = 0

[State 1331, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElem = 7
x = -16

[State 1331, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = -32

[State 1331, Bind 1-4]
type = BindToTarget
trigger1 = AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

;ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

[State 1331, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(-28 * const(size.xScale)), ceil(-80 * const(size.yScale))

[State 1331, Width 6-8]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
edge = 0,105

[State 1331, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(-32 * const(size.xScale)), ceil(-75 * const(size.yScale))

[State 1331, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(-55 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1331, Throw 8]
type=TargetState
trigger1 = NumTarget && AnimElem = 8
value = 1306

[State 1331, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 7
value = floor(ifElse(105 * fvar(11) < 7, -7, -105 * fvar(11)))

[State 1331, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 7
value = 35

[State 1331, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
value = 1

[State 1331, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(13) = 1

[State 1331, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(15) = 1
ignoreHitPause = 1

[State 1331, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 7
var(16) = 1
ignoreHitPause = 1

[State 1331, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1300,1
channel = 0

[State 1331, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 5
value=1, 5
channel=1

[State 1331, Slam Sound 1]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 2, 5

[State 1331, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 5000, 11

[State 1331, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 7
time = 14
ampl = -4
freq = 120

[State 1331, Dust]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = ceil(-55 * const(size.xscale)), 0
ownpal=1

[State 1331, Turn 14]
type = Turn
trigger1 = AnimElem = 14

[State 1331, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1331, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = !IsHelper(10371)
triggerall = numhelper(10371)
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(8) < 0
var(11) = 1
ignorehitpause = 1

[State 1331, EX Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(8) >= 0
value = 1630

[State 1331, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;========================<Mount Tackle>=======================
[Statedef 1400]
type    = S
movetype = A
physics = N
anim = 1400
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1400, Voice]
type = PlaySnd
trigger1 = !Time
value = 1400,0
channel = 0

[State 1400, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 1
channel = 1

[State 1400, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1400, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1400, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 9

[State 1400, Friction]
type = VelMul
trigger1 = AnimElemTime(7) >= 0
x = 0.75

[State 1400, Grab Attempt]
type = ChangeState
triggerall = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
trigger1 = P2BodyDist x <= 50
value = 1401
ctrl = 0

[State 1400, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 7
value = 101,0

[State 1400, Skid Dust]
type = Explod
trigger1 = AnimElem = 7
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1400, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(7) >= 0
movetype = I

[State 1400, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Medium
[Statedef 1410]
type    = S
movetype = A
physics = N
anim = 1410
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1410, Voice]
type = PlaySnd
trigger1 = !Time
value = 1400,0
channel = 0

[State 1410, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 1
channel = 1

[State 1410, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1410, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1410, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 9

[State 1410, Friction]
type = VelMul
trigger1 = AnimElemTime(9) >= 0
x = 0.75

[State 1410, Grab Attempt]
type = ChangeState
triggerall = AnimElemTime(2) >= 0 && AnimElemTime(9) < 0
trigger1 = P2BodyDist x <= 50
value = 1401
ctrl = 0

[State 1410, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 9
value = 101,0

[State 1410, Skid Dust]
type = Explod
trigger1 = AnimElem = 9
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1410, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I

[State 1410, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Heavy
[Statedef 1420]
type    = S
movetype = A
physics = N
anim = 1420
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1420, Voice]
type = PlaySnd
trigger1 = !Time
value = 1400,0
channel = 0

[State 1420, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 1
channel = 1

[State 1420, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1420, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1400, Step2 snd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 1
channel = 5

[State 1420, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 9

[State 1420, Friction]
type = VelMul
trigger1 = AnimElemTime(12) >= 0
x = 0.75

[State 1420, Grab Attempt]
type = ChangeState
triggerall = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
trigger1 = P2BodyDist x <= 50
value = 1401
ctrl = 0

[State 1420, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 12
value = 101,0

[State 1420, Skid Dust]
type = Explod
trigger1 = AnimElem = 12
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1420, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1420, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Mount Tackle (Attempt)
[Statedef 1401]
type    = S
movetype = A
physics = N
anim = 1401
ctrl = 0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 0

;[State 1401, Voice]
;type = PlaySnd
;trigger1 = AnimElem = 1
;value = 0,0
;channel = 0

[State 1401, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 1401, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5 || AnimElem = 6
x = 16

[State 1401, Width]
type = Width
trigger1 = AnimElem = 6
value = 15,0

[State 1401, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 2
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = 0, 0
ID = 1401
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
pausetime = 6,6
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), var(36) := -54
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = High      ;Low,Trip,None
air.type = Low
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -9
guard.velocity = -12
air.velocity = -5.25,-6
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48

[State 1401, TargetState]
type = TargetState
trigger1 = NumTarget(1401)
trigger1 = MoveHit && Target,Alive
value = 1405
ID = 1401
;ignoreHitPause = 1
persistent = 0

[State 1401, ChangeState]
type = ChangeState
trigger1 = NumTarget(1401)
trigger1 = MoveHit && Target,Alive
value = 1402

[State 1401, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
movetype = I

[State 1401, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Mount Tackle (Success)
[Statedef 1402]
type    = S
movetype = A
physics = N
anim = 1402
poweradd = 0
sprpriority = 1

[State 1402, Throw Escape Reset]
type = VarSet
trigger1 = 1
var(19) = 0

[State 1402, Escape]
type = VarSet
trigger1 = NumEnemy
var(19) = 7

[State 1402, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1402, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1402, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1405

[State 1402, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1402, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5 || AnimElem = 6
x = 16

[State 1402, Friction]
type = VelMul
trigger1 = 1
x = 0.9

[State 1402, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 101,0

[State 1402, Skid Dust]
type = Explod
trigger1 = AnimElem = 3
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1402, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(20 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1402, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(30 * const(size.xScale)), ceil(-44 * const(size.yScale))

[State 1402, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(28 * const(size.xScale)), ceil(-38 * const(size.yScale))

[State 1402, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1402, Bind 5-6]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1402, Grab Sound]
type = PlaySnd
triggerall = var(11)
trigger1 = AnimElem = 6
value = s800, 0
channel = 1

[State 1402, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1402, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(0)) || (helper(10371), var(7))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 1
ignorehitpause = 1

[State 1402, Clark Lift]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElem = 6
value = 1440

[State 1402, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(1)) || (helper(10371), var(8)) || (helper(10371), var(2)) || (helper(10371), var(9))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 2
ignorehitpause = 1

[State 1402, Reverse D.D.T]
type = ChangeState
triggerall = var(11) = 2
trigger1 = AnimElem = 6
value = 1450

[State 1402, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(3)) || (helper(10371), var(4)) || (helper(10371), var(5)) || (helper(10371), var(10)) || (helper(10371), var(11)) || (helper(10371), var(12))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 3
ignorehitpause = 1

[State 1402, Rolling Cradle]
type = ChangeState
triggerall = var(11) = 3
trigger1 = AnimElem = 6
value = 1460

[State 1402, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Mount Tackle (Target)
[Statedef 1405]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 1405, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1405

[State 1405, SelfState]
type = SelfState
trigger1 = !AnimTime
value = 5110

;========================<EX Mount Tackle>=======================
[Statedef 1430]
type    = S
movetype = A
physics = N
anim = 1430
ctrl = 0
velset = 0,0
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1430, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1430, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1430, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -1, -76
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1430, Voice]
type = PlaySnd
trigger1 = !Time
value = 1400,0
channel = 0

[State 1430, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000, 1

[State 1430, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1430, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1400, Step2 snd]
type = PlaySnd
trigger1 = AnimElem = 11
value = 100, 1
channel = 5

[State 1430, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 10

[State 1430, Friction]
type = VelMul
trigger1 = AnimElemTime(13) >= 0
x = 0.75

[State 1430, Grab Attempt]
type = ChangeState
triggerall = AnimElemTime(2) >= 0 && AnimElemTime(13) < 0
trigger1 = P2BodyDist x <= 50
value = 1431
ctrl = 0

[State 1430, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 13
value = 101,0

[State 1430, Skid Dust]
type = Explod
trigger1 = AnimElem = 13
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1430, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(13) >= 0
movetype = I

[State 1430, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Mount Tackle (Attempt)
[Statedef 1431]
type    = S
movetype = A
physics = N
anim = 1401
ctrl = 0
poweradd = 0
sprpriority = 2
facep2 = 0

;[State 1431, Voice]
;type = PlaySnd
;trigger1 = AnimElem = 1
;value = 0,0
;channel = 0

[State 1431, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 1431, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5 || AnimElem = 6
x = 16

[State 1431, Width]
type = Width
trigger1 = AnimElem = 6
value = 15,0

[State 1431, HitDef]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 2
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = M         ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = 0, 0
ID = 1431
getpower = 0, 0
givepower = 35, 35
pausetime = 6,6
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 38), var(36) := -54
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = High      ;Low,Trip,None
air.type = Low
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -9
guard.velocity = -14
air.velocity = -5.25,-6
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48

[State 1431, TargetState]
type = TargetState
trigger1 = NumTarget(1431)
trigger1 = MoveHit && Target,Alive
value = 1405
ID = 1431
;ignoreHitPause = 1
persistent = 0

[State 1431, ChangeState]
type = ChangeState
trigger1 = NumTarget(1431)
trigger1 = MoveHit && Target,Alive
value = 1432

[State 1431, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
movetype = I

[State 1431, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Mount Tackle (Success)
[Statedef 1432]
type    = S
movetype = A
physics = N
anim = 1402
poweradd = 0
sprpriority = 1

[State 1432, Throw Escape Reset]
type = VarSet
trigger1 = 1
var(19) = 0

[State 1432, Escape]
type = VarSet
trigger1 = NumEnemy
var(19) = 7

[State 1432, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1432, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1432, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1405

[State 1432, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1432, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5 || AnimElem = 6
x = 16

[State 1432, Friction]
type = VelMul
trigger1 = 1
x = 0.9

[State 1432, Skid Snd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 101,0

[State 1432, Skid Dust]
type = Explod
trigger1 = AnimElem = 3
anim = 8104
sprPriority=3
posType = P1
pos = -10,0
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1432, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(20 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1432, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(30 * const(size.xScale)), ceil(-44 * const(size.yScale))

[State 1432, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(28 * const(size.xScale)), ceil(-38 * const(size.yScale))

[State 1432, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1432, Bind 5-6]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1432, Grab Sound]
type = PlaySnd
triggerall = var(11)
trigger1 = AnimElem = 6
value = s800, 0
channel = 1

[State 1432, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1432, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(0)) || (helper(10371), var(7))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 1
ignorehitpause = 1

[State 1432, EX Clark Lift]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElem = 6
value = 1441

[State 1432, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(1)) || (helper(10371), var(8)) || (helper(10371), var(2)) || (helper(10371), var(9))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 2
ignorehitpause = 1

[State 1432, EX Reverse D.D.T]
type = ChangeState
triggerall = var(11) = 2
trigger1 = AnimElem = 6
value = 1451

[State 1432, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(26)
triggerall = (helper(10371), var(3)) || (helper(10371), var(4)) || (helper(10371), var(5)) || (helper(10371), var(10)) || (helper(10371), var(11)) || (helper(10371), var(12))
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(6) < 0
var(11) = 3
ignorehitpause = 1

[State 1432, EX Reverse D.D.T]
type = ChangeState
triggerall = var(11) = 3
trigger1 = AnimElem = 6
value = 1461

[State 1432, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Clark Lift
[Statedef 1440]
type    = S
movetype = A
physics = S
anim = 1440
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1440, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x")
value = 890

[State 1440, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "y" || Target, command = "z")
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
var(19) = 0

[State 1440, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1440, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1440, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1440, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1445

[State 1440, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1440, Arm Overlay]
type = Explod
trigger1 = AnimElem = 3
anim = 11440
sprpriority = 5
postype = p1
pos = 3,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 1440, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
value = -2

[State 1440, SprPriority]
type = SprPriority
trigger1 = AnimElem = 9
value = 3

[State 1440, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1440, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-8 * const(size.yScale))

[State 1440, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(8 * const(size.xScale)), ceil(-12 * const(size.yScale))

[State 1440, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-16 * const(size.yScale))

[State 1440, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-26 * const(size.yScale))

[State 1440, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(34 * const(size.xScale)), ceil(-64 * const(size.yScale))

[State 1440, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(14 * const(size.xScale)), ceil(-76 * const(size.yScale))

[State 1440, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger1 = NumTarget
pos = ceil(14 * const(size.xScale)), ceil(-82 * const(size.yScale))

[State 1440, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(2 * const(size.xScale)), ceil(-90 * const(size.yScale))

[State 1440, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger1 = NumTarget
pos = ceil(-34 * const(size.xScale)), ceil(-86 * const(size.yScale))

[State 1440, Bind 11]
type = TargetBind
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(-46 * const(size.xScale)), ceil(-83 * const(size.yScale))

[State 1440, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12
trigger1 = NumTarget
pos = ceil(-36 * const(size.xScale)), ceil(-44 * const(size.yScale))

[State 1440, Throw 12]
type=TargetState
trigger1 = NumTarget && AnimElem = 12
value = 1446

[State 1440, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElemTime(13) = 0
value = floor(ifElse(119 * fvar(11) < 7, -7, -119 * fvar(11)))

[State 1440, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElemTime(13) = 1
value = 35

[State 1440, PowerAdd]
type = PowerAdd
triggerall = NumTarget && !var(20)
trigger1 = AnimElemTime(13) = 1
value = 70

[State 1440, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
value = 1

[State 1440, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(13) = 1

[State 1440, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(15) = 1
ignoreHitPause = 1

[State 1440, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(16) = 1
ignoreHitPause = 1

[State 1440, Voice]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4
channel = 0

[State 1440, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 12
value=1, 2
channel=1

[State 1440, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = 2,7
channel = 2

[State 1440, PosAdd]
type = PosAdd
trigger1 = animelem = 16
x = 16

[State 1440, Turn 22]
type = Turn
trigger1 = AnimElem = 21

[State 1440, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;EX Clark Lift
[Statedef 1441]
type    = S
movetype = A
physics = S
anim = 1440
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1441, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x")
value = 890

[State 1441, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "y" || Target, command = "z")
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
var(19) = 0

[State 1441, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1441, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1441, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1441, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1445

[State 1441, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1441, Arm Overlay]
type = Explod
trigger1 = AnimElem = 3
anim = 11440
sprpriority = 5
postype = p1
pos = 3,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 1441, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
value = -2

[State 1441, SprPriority]
type = SprPriority
trigger1 = AnimElem = 9
value = 3

[State 1441, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1441, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-8 * const(size.yScale))

[State 1441, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(8 * const(size.xScale)), ceil(-12 * const(size.yScale))

[State 1441, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-16 * const(size.yScale))

[State 1441, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-26 * const(size.yScale))

[State 1441, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(34 * const(size.xScale)), ceil(-64 * const(size.yScale))

[State 1441, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(14 * const(size.xScale)), ceil(-76 * const(size.yScale))

[State 1441, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger1 = NumTarget
pos = ceil(14 * const(size.xScale)), ceil(-82 * const(size.yScale))

[State 1441, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(2 * const(size.xScale)), ceil(-90 * const(size.yScale))

[State 1441, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger1 = NumTarget
pos = ceil(-34 * const(size.xScale)), ceil(-86 * const(size.yScale))

[State 1441, Bind 11]
type = TargetBind
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(-46 * const(size.xScale)), ceil(-83 * const(size.yScale))

[State 1441, Bind 12]
type = TargetBind
trigger1 = AnimElem = 12
trigger1 = NumTarget
pos = ceil(-36 * const(size.xScale)), ceil(-44 * const(size.yScale))

[State 1441, Throw 12]
type=TargetState
trigger1 = NumTarget && AnimElem = 12
value = 1446

[State 1441, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElemTime(13) = 0
value = floor(ifElse(140 * fvar(11) < 7, -7, -140 * fvar(11)))

[State 1441, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElemTime(13) = 1
value = 35

[State 1441, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
value = 1

[State 1441, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(13) = 1

[State 1441, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(15) = 1
ignoreHitPause = 1

[State 1441, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElemTime(13) = 1
var(16) = 1
ignoreHitPause = 1

[State 1441, Voice]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,4
channel = 0

[State 1441, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 12
value=1, 2
channel=1

[State 1441, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElemTime(13) = 1
value = 2,7
channel = 2

[State 1441, PosAdd]
type = PosAdd
trigger1 = animelem = 16
x = 16

[State 1441, Turn 22]
type = Turn
trigger1 = AnimElem = 21

[State 1441, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Clark Lift (Target)
[Statedef 1445]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 1445, Screenbound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 1445, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1445

[State 1445, SelfState]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;Clark Lift (Target) 2
[Statedef 1446]
type    = A
movetype = H
physics = N
velset = -2,16
ctrl = 0
sprpriority = 0
facep2 = 1

;[State 1446, VelSet]
;type = VelSet
;trigger1 = !Time
;x = 2
;y = 20

[State 1446, PosAdd]
type = PosAdd
trigger1 = Pos Y < 0
x = -14
y = -4

[State 1446, Screenbound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 1446, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 5100

[State 1446, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

[State 1446, End]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;Reverse D.D.T
[Statedef 1450]
type    = S
movetype = A
physics = S
anim = 1450
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1450, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "y" || Target, command = "z")
value = 890

[State 1450, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x")
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
var(19) = 0

[State 1450, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1450, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1450, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1450, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1455

[State 1450, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1450, Arm Overlay]
type = Explod
trigger1 = AnimElem = 3
anim = 11450
sprpriority = 5
postype = p1
pos = 3,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 1450, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = -2

[State 1450, SprPriority]
type = SprPriority
trigger1 = AnimElem = 6
value = 3

[State 1450, PosAdd]
type = PosAdd
trigger1 = animelem = 8 || animelem = 9 || animelem = 10
x = -16

[State 1450, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1450, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-8 * const(size.yScale))

[State 1450, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-22 * const(size.yScale))

[State 1450, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(12 * const(size.xScale)), ceil(-28 * const(size.yScale))

[State 1450, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(13 * const(size.xScale)), ceil(-42 * const(size.yScale))

[State 1450, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(12 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1450, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1450, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(-66 * const(size.yScale))

[State 1450, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(-6 * const(size.xScale)), ceil(-48 * const(size.yScale))

[State 1450, Bind 10-11]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(-30 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1450, Throw 12]
type=TargetState
trigger1 = NumTarget && AnimElem = 12
value = 1456

[State 1450, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 11
value = floor(ifElse(84 * fvar(11) < 7, -7, -84 * fvar(11)))

[State 1450, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 11
value = 35

[State 1450, PowerAdd]
type = PowerAdd
triggerall = NumTarget && !var(20)
trigger1 = AnimElem = 11
value = 70

[State 1450, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
value = 1

[State 1450, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
var(13) = 1

[State 1450, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
var(15) = 1
ignoreHitPause = 1

[State 1450, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 11
var(16) = 1
ignoreHitPause = 1

[State 1450, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1
channel = 0

[State 1450, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 9
value=1, 5
channel=1

[State 1450, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 2,5
channel = 2

[State 1450, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 5000, 11

[State 1450, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 11
time = 14
ampl = -4
freq = 120

[State 1450, Dust]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = ceil(-30 * const(size.xscale)), 0
ownpal=1

[State 1450, Turn 18]
type = Turn
trigger1 = AnimElem = 18

[State 1450, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1450, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(12) < 0
var(11) = 1
ignorehitpause = 1

[State 1450, Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(12) >= 0
value = 1600

[State 1450, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;EX Reverse D.D.T
[Statedef 1451]
type    = S
movetype = A
physics = S
anim = 1450
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1451, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "y" || Target, command = "z")
value = 890

[State 1451, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x")
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
var(19) = 0

[State 1451, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1451, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1451, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1451, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1455

[State 1451, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1451, Arm Overlay]
type = Explod
trigger1 = AnimElem = 3
anim = 11451
sprpriority = 5
postype = p1
pos = 3,0
bindtime = -1
removeongethit = 1
ignorehitpause = 0

[State 1451, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = -2

[State 1451, SprPriority]
type = SprPriority
trigger1 = AnimElem = 6
value = 3

[State 1451, PosAdd]
type = PosAdd
trigger1 = animelem = 8 || animelem = 9 || animelem = 10
x = -16

[State 1451, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1451, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-8 * const(size.yScale))

[State 1451, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(10 * const(size.xScale)), ceil(-22 * const(size.yScale))

[State 1451, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(12 * const(size.xScale)), ceil(-28 * const(size.yScale))

[State 1451, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(13 * const(size.xScale)), ceil(-42 * const(size.yScale))

[State 1451, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(12 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1451, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1451, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(-66 * const(size.yScale))

[State 1451, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger1 = NumTarget
pos = ceil(-6 * const(size.xScale)), ceil(-48 * const(size.yScale))

[State 1451, Bind 10-11]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(12) < 0
trigger1 = NumTarget
pos = ceil(-30 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1451, Throw 12]
type=TargetState
trigger1 = NumTarget && AnimElem = 12
value = 1456

[State 1451, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 11
value = floor(ifElse(105 * fvar(11) < 7, -7, -105 * fvar(11)))

[State 1451, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 11
value = 35

[State 1451, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
value = 1

[State 1451, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
var(13) = 1

[State 1451, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 11
var(15) = 1
ignoreHitPause = 1

[State 1451, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 11
var(16) = 1
ignoreHitPause = 1

[State 1451, Voice]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1400,1
channel = 0

[State 1451, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 9
value=1, 5
channel=1

[State 1451, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 2,5
channel = 2

[State 1451, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 5000, 11

[State 1451, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 11
time = 14
ampl = -4
freq = 120

[State 1451, Dust]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = ceil(-30 * const(size.xscale)), 0
ownpal=1

[State 1451, Turn 18]
type = Turn
trigger1 = AnimElem = 18

[State 1451, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1451, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(12) < 0
var(11) = 1
ignorehitpause = 1

[State 1451, EX Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(12) >= 0
value = 1630

[State 1451, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Reverse D.D.T (Target)
[Statedef 1455]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 1455, SprPriority]
type = SprPriority
trigger1 = AnimElem = 3
value = 2

[State 1455, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1455

[State 1455, SelfState]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5100

;Reverse D.D.T (Target) 2
[Statedef 1456]
type    = A
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State 1456, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1456

[State 1456, Gravity]
type = VelAdd
trigger1 = 1
y = .6

[State 1456, Velocity]
type = VelSet
trigger1 = !Time
y = -4

[State 1456, EnvShake]
type = EnvShake
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
time = 20

;[State 1456, Recover]
;type = SelfState
;trigger1 = command = "recovery"
;trigger1 = Alive && CanRecover
;trigger1 = vel y>-1 && pos y>=-20
;value = 5200

[State 1456, End]
type = ChangeState
trigger1 = vel y>0
trigger1 = pos y>-vel y
value = 1457

;Hitting the Ground
[StateDef 1457]
type = L
moveType = H
physics = N
velSet = 0,0

[State 1457, Change Anim]
type = ChangeAnim
triggerall = !Time
trigger1 = !SelfAnimExist(5100 + (Anim % 10))
value = 5100

[State 1457, Change Anim]
type = ChangeAnim
trigger1 = !Time
trigger1 = SelfAnimExist(5100 + (Anim % 10))
value = 5100 + (Anim % 10)

[State 1457, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1457, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = -4

[State 1457, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,1

;[State 1457, Hitting the Floor FX]
;type = Explod
;trigger1 = !Time
;anim = F61
;posType = P1
;pos = 0, 0
;sprPriority = -3

[State 1457, End]
type = ChangeState
trigger1 = !AnimTime
value = 1458

;Bouncing Off Ground
[StateDef 1458]
type = L
moveType = H
physics = N

[State 1458, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (Anim % 10))
value = 5160

[State 1458, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (Anim % 10))
value = 5160 + (Anim % 10)

[State 1458, VelSet]
type = VelSet
trigger1 = !Time
y = -3.5

[State 1458, PosSet]
type = PosSet
trigger1 = !Time
y = 20

[State 1458, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.4

[State 1458, End]
type = SelfState
trigger1 = vel y > 0
trigger1 = pos y >= 12
value = 5110

;Rolling Cradle
[Statedef 1460]
type    = S
movetype = A
physics = N
anim = 1460
poweradd = 0
sprpriority = 1

[State 1460, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
value = 890

[State 1460, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x" || Target, command = "y" || Target, command = "z")
var(19) = 0

[State 1460, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1460, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1460, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1460, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1465

[State 1460, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1460, SprPriority]
type = SprPriority
trigger1 = AnimElem = 10
trigger2 = AnimElem = 20
value = -2

[State 1460, SprPriority]
type = SprPriority
trigger1 = AnimElem = 11
trigger2 = AnimElem = 21
value = 3

[State 1460, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 2.5

[State 1460, VelSet]
type = VelSet
trigger1 = AnimElem = 25
x = 0

[State 1460, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1460, Bind 2-3]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(0 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1460, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1460, Bind 5,15,25]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger2 = AnimElemTime(15) >= 0 && AnimElemTime(16) < 0
trigger3 = AnimElemTime(25) >= 0 && AnimElemTime(26) < 0
pos = ceil(4 * const(size.xScale)), ceil(-38 * const(size.yScale))
persistent = 1

[State 1460, Bind 6,16,26]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger2 = AnimElemTime(16) >= 0 && AnimElemTime(17) < 0
trigger3 = AnimElemTime(26) >= 0 && AnimElemTime(27) < 0
pos = ceil(2 * const(size.xScale)), ceil(-30 * const(size.yScale))
persistent = 1

[State 1460, Bind 7,17]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger2 = AnimElemTime(17) >= 0 && AnimElemTime(18) < 0
pos = ceil(12 * const(size.xScale)), ceil(-27 * const(size.yScale))
persistent = 1

[State 1460, Bind 8,18]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger2 = AnimElemTime(18) >= 0 && AnimElemTime(19) < 0
pos = ceil(-6 * const(size.xScale)), ceil(-28 * const(size.yScale))
persistent = 1

[State 1460, Bind 9,13,19,23]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger2 = AnimElemTime(13) >= 0 && AnimElemTime(14) < 0
trigger3 = AnimElemTime(19) >= 0 && AnimElemTime(20) < 0
trigger4 = AnimElemTime(23) >= 0 && AnimElemTime(24) < 0
pos = ceil(-10 * const(size.xScale)), ceil(-8 * const(size.yScale))
persistent = 1

[State 1460, Bind 10,20]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger2 = AnimElemTime(20) >= 0 && AnimElemTime(21) < 0
pos = ceil(-8 * const(size.xScale)), ceil(-22 * const(size.yScale))
persistent = 1

[State 1460, Bind 11,21]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger2 = AnimElemTime(21) >= 0 && AnimElemTime(22) < 0
pos = ceil(-8 * const(size.xScale)), ceil(-28 * const(size.yScale))
persistent = 1

[State 1460, Bind 12,22]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
trigger2 = AnimElemTime(22) >= 0 && AnimElemTime(23) < 0
pos = ceil(0 * const(size.xScale)), ceil(-20 * const(size.yScale))
persistent = 1

[State 1460, Bind 14,24]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(14) >= 0 && AnimElemTime(15) < 0
trigger2 = AnimElemTime(24) >= 0 && AnimElemTime(25) < 0
pos = ceil(-12 * const(size.xScale)), ceil(-36 * const(size.yScale))
persistent = 1

[State 1460, Bind 27]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(27) >= 0 && AnimElemTime(28) < 0
pos = ceil(-4 * const(size.xScale)), ceil(-24 * const(size.yScale))

[State 1460, Bind 28]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(28) >= 0 && AnimElemTime(29) < 0
pos = ceil(12 * const(size.xScale)), ceil(-30 * const(size.yScale))

[State 1460, Bind 29]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElem = 29
pos = ceil(64 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1460, Throw 29]
type=TargetState
trigger1 = NumTarget && AnimElem = 29
value = 1466

[State 1460, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22)
value = floor(ifElse(21 * fvar(11) < 7, -7, -21  * fvar(11)))

[State 1460, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 28
value = floor(ifElse(28 * fvar(11) < 7, -7, -28  * fvar(11)))


[State 1460, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
value = 35

[State 1460, PowerAdd]
type = PowerAdd
triggerall = NumTarget && !var(20)
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
value = 30

[State 1460, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
value = 1

[State 1460, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(13) = 1

[State 1460, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(15) = 1
ignoreHitPause = 1

[State 1460, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(16) = 1
ignoreHitPause = 1

[State 1460, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1400,2
channel = 0

[State 1460, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 28
value=1, 5
channel=1

[State 1000, Ground FX]
type=Explod
trigger1 = (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
anim = 8105
sprPriority = -1
posType = P1
pos = 0,2
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1460, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
value = 5000, 11

[State 1460, Shake Screen]
type = EnvShake
trigger1 = NumTarget && (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
time = 14
ampl = -4
freq = 120

[State 1460, Turn 2]
type = Turn
trigger1 = AnimElem = 2

[State 1460, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;EX Rolling Cradle
[Statedef 1461]
type    = S
movetype = A
physics = N
anim = 1460
poweradd = 0
sprpriority = 1

[State 1461, Throw Escape]
type = ChangeState
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "a" || Target, command = "b" || Target, command = "c")
value = 890

[State 1461, Throw Escape Void]
type = VarSet
trigger1 = NumTarget && var(19)
trigger1 = (Target, command = "x" || Target, command = "y" || Target, command = "z")
var(19) = 0

[State 1461, Throw Escape Countdown]
type = VarAdd
trigger1 = var(19) > 0
var(19) = -1

[State 1461, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1461, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1461, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1465

[State 1461, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1461, SprPriority]
type = SprPriority
trigger1 = AnimElem = 10
trigger2 = AnimElem = 20
value = -2

[State 1461, SprPriority]
type = SprPriority
trigger1 = AnimElem = 11
trigger2 = AnimElem = 21
value = 3

[State 1461, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 3

[State 1461, VelSet]
type = VelSet
trigger1 = AnimElem = 25
x = 0

[State 1461, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
trigger1 = NumTarget
pos = ceil(24 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1461, Bind 2-3]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
trigger1 = NumTarget
pos = ceil(0 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1461, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(4 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1461, Bind 5,15,25]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger2 = AnimElemTime(15) >= 0 && AnimElemTime(16) < 0
trigger3 = AnimElemTime(25) >= 0 && AnimElemTime(26) < 0
pos = ceil(4 * const(size.xScale)), ceil(-38 * const(size.yScale))
persistent = 1

[State 1461, Bind 6,16,26]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger2 = AnimElemTime(16) >= 0 && AnimElemTime(17) < 0
trigger3 = AnimElemTime(26) >= 0 && AnimElemTime(27) < 0
pos = ceil(2 * const(size.xScale)), ceil(-30 * const(size.yScale))
persistent = 1

[State 1461, Bind 7,17]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger2 = AnimElemTime(17) >= 0 && AnimElemTime(18) < 0
pos = ceil(12 * const(size.xScale)), ceil(-27 * const(size.yScale))
persistent = 1

[State 1461, Bind 8,18]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
trigger2 = AnimElemTime(18) >= 0 && AnimElemTime(19) < 0
pos = ceil(-6 * const(size.xScale)), ceil(-28 * const(size.yScale))
persistent = 1

[State 1461, Bind 9,13,19,23]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
trigger2 = AnimElemTime(13) >= 0 && AnimElemTime(14) < 0
trigger3 = AnimElemTime(19) >= 0 && AnimElemTime(20) < 0
trigger4 = AnimElemTime(23) >= 0 && AnimElemTime(24) < 0
pos = ceil(-10 * const(size.xScale)), ceil(-8 * const(size.yScale))
persistent = 1

[State 1461, Bind 10,20]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
trigger2 = AnimElemTime(20) >= 0 && AnimElemTime(21) < 0
pos = ceil(-8 * const(size.xScale)), ceil(-22 * const(size.yScale))
persistent = 1

[State 1461, Bind 11,21]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(11) >= 0 && AnimElemTime(12) < 0
trigger2 = AnimElemTime(21) >= 0 && AnimElemTime(22) < 0
pos = ceil(-8 * const(size.xScale)), ceil(-28 * const(size.yScale))
persistent = 1

[State 1461, Bind 12,22]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(12) >= 0 && AnimElemTime(13) < 0
trigger2 = AnimElemTime(22) >= 0 && AnimElemTime(23) < 0
pos = ceil(0 * const(size.xScale)), ceil(-20 * const(size.yScale))
persistent = 1

[State 1461, Bind 14,24]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(14) >= 0 && AnimElemTime(15) < 0
trigger2 = AnimElemTime(24) >= 0 && AnimElemTime(25) < 0
pos = ceil(-12 * const(size.xScale)), ceil(-36 * const(size.yScale))
persistent = 1

[State 1461, Bind 27]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(27) >= 0 && AnimElemTime(28) < 0
pos = ceil(-4 * const(size.xScale)), ceil(-24 * const(size.yScale))

[State 1461, Bind 28]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElemTime(28) >= 0 && AnimElemTime(29) < 0
pos = ceil(12 * const(size.xScale)), ceil(-30 * const(size.yScale))

[State 1461, Bind 29]
type = TargetBind
triggerall = NumTarget
trigger1 = AnimElem = 29
pos = ceil(64 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1461, Throw 29]
type=TargetState
trigger1 = NumTarget && AnimElem = 29
value = 1466

[State 1461, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22)
value = floor(ifElse(21 * fvar(11) < 7, -7, -21  * fvar(11)))

[State 1461, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 28
value = floor(ifElse(28 * fvar(11) < 7, -7, -28  * fvar(11)))

[State 1461, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
value = 35

[State 1461, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
value = 1

[State 1461, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(13) = 1

[State 1461, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(15) = 1
ignoreHitPause = 1

[State 1461, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = (AnimElem = 7 || AnimElem = 12 || AnimElem = 17 || AnimElem = 22 || AnimElem = 28)
var(16) = 1
ignoreHitPause = 1

[State 1461, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1400,2
channel = 0

[State 1461, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 28
value=1, 5
channel=1

[State 1000, Ground FX]
type=Explod
trigger1 = (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
anim = 8105
sprPriority = -1
posType = P1
pos = 0,2
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1461, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
value = 5000, 11

[State 1461, Shake Screen]
type = EnvShake
trigger1 = NumTarget && (AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 23 || AnimElem = 29)
time = 14
ampl = -4
freq = 120

[State 1461, Turn 2]
type = Turn
trigger1 = AnimElem = 2

[State 1461, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1461, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(28) >= 0 && AnimElemTime(31) < 0
var(11) = 1
ignorehitpause = 1

[State 1461, EX Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(30) >= 2
value = 1630

[State 1461, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;Rolling Cradle (Target)
[Statedef 1465]
type    = A
movetype = H
physics = N
ctrl = 0
sprpriority = 0

[State 1465, Turn]
type = Turn
trigger1 = AnimElem = 3

[State 1465, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1465

[State 1465, SelfState]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5100

;Hitting the Ground
[StateDef 1466]
type = L
moveType = H
physics = N
velSet = 0,0

[State 1466, Change Anim]
type = ChangeAnim
triggerall = !Time
trigger1 = !SelfAnimExist(5100 + (Anim % 10))
value = 5100

[State 1466, Change Anim]
type = ChangeAnim
trigger1 = !Time
trigger1 = SelfAnimExist(5100 + (Anim % 10))
value = 5100 + (Anim % 10)

[State 1466, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1466, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = -4

[State 1466, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,1

;[State 1466, Hitting the Floor FX]
;type = Explod
;trigger1 = !Time
;anim = F61
;posType = P1
;pos = 0, 0
;sprPriority = -3

[State 1466, End]
type = ChangeState
trigger1 = !AnimTime
value = 1467

;Bouncing Off Ground
[StateDef 1467]
type = L
moveType = H
physics = N

[State 1467, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (Anim % 10))
value = 5160

[State 1467, Change Anim]
type = ChangeAnim
triggerAll = !Time
trigger1 = Anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (Anim % 10))
value = 5160 + (Anim % 10)

[State 1467, VelSet]
type = VelSet
trigger1 = !Time
x = -3
y = -6.5

[State 1467, PosSet]
type = PosSet
trigger1 = !Time
y = 20

[State 1467, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.4

[State 1467, End]
type = SelfState
trigger1 = vel y > 0
trigger1 = pos y >= 12
value = 5110

;========================<Shining Wizard>=======================
[Statedef 1500]
type    = S
movetype = A
physics = N
anim = 1500
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1500, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105, 0
channel = 1

[State 1500, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1500, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1500, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 7

[State 1500, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1500, Grab Attempt]
type = ChangeState
trigger1 = P2BodyDist x <= 15
trigger1 = P2statetype = C
trigger1 = !var(43)
value = 1502
ctrl = 0

[State 1500, End]
type = ChangeState
trigger1 = !AnimTime || P2BodyDist x <= 15
trigger1 = P2statetype != C || (EnemyNear, StateNo = [150,155])
value = 1501
ctrl = 0

;Medium
[Statedef 1510]
type    = S
movetype = A
physics = N
anim = 1510
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1510, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105, 0
channel = 1

[State 1510, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1510, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1510, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 7.5

[State 1510, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1510, Grab Attempt]
type = ChangeState
trigger1 = P2BodyDist x <= 15
trigger1 = P2statetype = C
trigger1 = !var(43)
value = 1502
ctrl = 0

[State 1510, End]
type = ChangeState
trigger1 = !AnimTime || P2BodyDist x <= 15
trigger1 = P2statetype != C || (EnemyNear, StateNo = [150,155])
value = 1501
ctrl = 0

;Heavy
[Statedef 1520]
type    = S
movetype = A
physics = N
anim = 1520
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1520, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105, 0
channel = 1

[State 1520, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1520, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1520, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 8

[State 1520, AttackDist]
type = AttackDist
trigger1 = 1
value = 0

[State 1520, Grab Attempt]
type = ChangeState
trigger1 = P2BodyDist x <= 15
trigger1 = P2statetype = C
trigger1 = !var(43)
value = 1502
ctrl = 0

[State 1520, End]
type = ChangeState
trigger1 = !AnimTime || P2BodyDist x <= 15
trigger1 = P2statetype != C || (EnemyNear, StateNo = [150,155])
value = 1501
ctrl = 0

;Shining Wizard (Stop)
[Statedef 1501]
type    = S
movetype = I
physics = S
anim = 1501
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 1501, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 8

[State 1501, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Shining Wizard (Attack)
[Statedef 1502]
type    = S
movetype = A
physics = N
anim = 1502
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 1502, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1100,0
channel = 0

[State 1502, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 4
value = 1, 5

[State 1502, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 2
attr = S, SA
damage = ceil(ifElse(fvar(11) * 63 < 7, 7, fvar(11) * 63)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
;guardflag = M
hitflag = M
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 51), var(36) := -42
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 0
guard.velocity = 0
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1502, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 63 < 7, 7, fvar(11) * 63)), 4
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
;guardflag = M
hitflag = M
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 66), var(36) := -51
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4,-7
guard.velocity = -8
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1502, Landing Sound]
type = PlaySnd
trigger1 = AnimElem = 10
value = 52,0

[State 1502, Landing Dust Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 8102
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1502, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = -2
y = -2

[State 1502, Gravity]
type = VelAdd
trigger1 = AnimElemTime(10) > 0
y = 0.6

[State 1502, Safety]
type = NotHitBy
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
value = SCA

[State 1502, On Ground]
type = Posset
trigger1 = AnimElemTime(10) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
y = 0

[State 1502, On Ground]
type = Velset
trigger1 = AnimElemTime(10) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
x = 0
y = 0

[State 1502, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1502, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;========================<EX Shining Wizard>=======================
[Statedef 1530]
type    = S
movetype = A
physics = N
anim = 1520
ctrl = 0
velset = 0,0
poweradd = ifElse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 5430, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1530, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1530, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 30

[State 1530, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -1, -76
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1530, Resist Projectiles]
type = NotHitBy
trigger1 = 1
time = 1
value = ,NP,SP

[State 1530, Dash snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105, 0
;channel = 1

[State 1530, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1530, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 100, 0
channel = 5

[State 1530, VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = 8

[State 1530, Grab Attempt]
type = ChangeState
trigger1 = P2BodyDist x <= 15
trigger1 = P2statetype = C
trigger1 = !var(43)
value = 1532
ctrl = 0

[State 1530, End]
type = ChangeState
trigger1 = !AnimTime || P2BodyDist x <= 15
trigger1 = P2statetype != C || (EnemyNear, StateNo = [150,155])
value = 1531
ctrl = 0

;EX Shining Wizard (Stop)
[Statedef 1531]
type    = S
movetype = I
physics = S
anim = 1501
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 1531, Resist Projectiles]
type = NotHitBy
trigger1 = 1
time = 1
value = ,NP,SP

[State 1531, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2 || AnimElem = 3
x = 8

[State 1531, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Shining Wizard (Attack)
[Statedef 1532]
type    = S
movetype = A
physics = N
anim = 1502
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 1532, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1100,0
channel = 0

[State 1532, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 1 || AnimElem = 4
value = 1, 5

[State 1532, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 2
attr = S, SA
damage = ceil(ifElse(fvar(11) * 56 < 7, 7, fvar(11) * 56)), 4
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
;guardflag = M
hitflag = M
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 51), var(36) := -42
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 0
guard.velocity = 0
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1532, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 5
attr = S, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 4
id = 1532
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
;guardflag = M
hitflag = M
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 66), var(36) := -51
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4,-7
guard.velocity = -8
;airguard.velocity = -6, -4
;airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1532, TargetState]
type = TargetState
trigger1 = NumTarget(1532)
trigger1 = MoveHit && Target,Alive
value = 1305
ID = 1532
;ignoreHitPause = 1
persistent = 0

[State 1532, ChangeState]
type = ChangeState
trigger1 = NumTarget(1532)
trigger1 = MoveHit && Target,Alive
value = 1533

[State 1532, Landing Sound]
type = PlaySnd
trigger1 = AnimElem = 10
value = 52,0

[State 1532, Landing Dust Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 8102
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1532, VelSet]
type = VelSet
trigger1 = AnimElem = 10
x = -2
y = -2

[State 1532, Gravity]
type = VelAdd
trigger1 = AnimElemTime(10) > 0
y = 0.6

[State 1532, Safety]
type = NotHitBy
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
value = SCA

[State 1532, On Ground]
type = Posset
trigger1 = AnimElemTime(10) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
y = 0

[State 1532, On Ground]
type = Velset
trigger1 = AnimElemTime(10) > 0
trigger1 = Pos Y >= 0 && Vel Y > 0
x = 0
y = 0

[State 1532, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(6) >= 0
movetype = I

[State 1532, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Frankensteiner
[Statedef 1533]
type    = S
movetype = A
physics = S
anim = 1301
velset = 0, 0
poweradd = 0
sprpriority = 1

[State 1533, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 1533, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1533, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1305

[State 1533, Target Facing]
type = TargetFacing
trigger1 = !Time
value = -1

[State 1533, On Ground]
type = PosSet
trigger1 = AnimElem = 5
y = 0

[State 1533, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6 || AnimElem = 7
x = -16

[State 1533, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = -32

[State 1533, Bind 1-4]
type = BindToTarget
trigger1 = AnimElemTime(5) < 0
trigger1 = NumTarget
pos = ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

;ceil(16 * const(size.xScale)), ceil(56 * const(size.yScale)),Head

[State 1533, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
trigger1 = NumTarget
pos = ceil(-28 * const(size.xScale)), ceil(-80 * const(size.yScale))

[State 1533, Width 6-8]
type = Width
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(9) < 0
edge = 0,105

[State 1533, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
trigger1 = NumTarget
pos = ceil(-32 * const(size.xScale)), ceil(-75 * const(size.yScale))

[State 1533, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
trigger1 = NumTarget
pos = ceil(-55 * const(size.xScale)), ceil(0 * const(size.yScale))

[State 1533, Throw 8]
type=TargetState
trigger1 = NumTarget && AnimElem = 8
value = 1306

[State 1533, Damage]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 7
value = floor(ifElse(42 * fvar(11) < 7, -7, -42 * fvar(11)))

[State 1533, TargetPowerAdd]
type = TargetPowerAdd
triggerall = NumTarget 
trigger1 = AnimElem = 7
value = 35

[State 1533, HitAdd]
type = HitAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
value = 1

[State 1533, VarAdd]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(13) = 1

[State 1533, Juggle]
type = VarAdd
triggerall = NumTarget
trigger1 = AnimElem = 7
var(15) = 1
ignoreHitPause = 1

[State 1533, Juggle]
type = VarSet
triggerall = NumTarget
trigger1 = AnimElem = 7
var(16) = 1
ignoreHitPause = 1

[State 1533, Grab Sound]
type = PlaySnd
trigger1 = !Time
value = s800, 0
;channel = 1

[State 1533, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
value = 1300,1
channel = 0

[State 1533, Throw Sound]
type=PlaySnd
trigger1 = AnimElem = 5
value=1, 5
;channel=1

[State 1533, Slam Sound 1]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 2, 5

[State 1533, Slam Sound 2]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 7
value = 5000, 11

[State 1533, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 7
time = 14
ampl = -4
freq = 120

[State 1533, Dust]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal
stateno = 8110
ID = 8110
name = "Impact Dust"
postype = p1
pos = ceil(-55 * const(size.xscale)), 0
ownpal=1

[State 1533, Turn 14]
type = Turn
trigger1 = AnimElem = 14

[State 1533, Varset]
type = VarSet
trigger1 = !Time
var(11) = 0

[State 1533, Varset: Timing Detect]
type = VarSet
triggerall = !var(11)
triggerall = StateType != A
triggerall = helper(10371), var(22)
triggerall = (helper(10371), var(0)) || (helper(10371), var(1)) || (helper(10371), var(2)) || (helper(10371), var(7)) || (helper(10371), var(8)) || (helper(10371), var(9)) 
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(8) < 0
var(11) = 1
ignorehitpause = 1

[State 1533, Flashing Elbow]
type = ChangeState
triggerall = var(11) = 1
trigger1 = AnimElemTime(8) >= 1
value = 1630

[State 1533, End]
type=ChangeState
trigger1=!AnimTime
value=0
ctrl=1

;========================<Flashing Elbow>=======================
[Statedef 1600]
type    = S
movetype = A
physics = N
anim = 100
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1600, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1600, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100, 0
channel = 5

[State 1600, Step2 snd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 100, 1
channel = 5

[State 1600, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 7

[State 1600, Attack Attempt]
type = ChangeState
trigger1 = Time > 4
trigger1 = P2BodyDist x <= 30
value = 1610
ctrl = 0

[State 1600, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Flashing Elbow (Attempt)
[Statedef 1610]
type    = S
movetype = A
physics = N
anim = 1610
ctrl = 0
poweradd = 0
sprpriority = 3
facep2 = 0

[State 1610, Voice]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1600,0
channel = 0

;[State 1610, VelSet]
;type = VelSet
;trigger1 = AnimElem = 3
;x = 0
;
;[State 1610, PosAdd]
;type = PosAdd
;trigger1 = AnimElem = 5 || AnimElem = 6
;x = 16

[State 1610, Friction]
type = VelMul
trigger1 = AnimElemTime(2) >= 0
x = 0.95

[State 1610, Width]
type = Width
trigger1 = AnimElem = 6
value = 15,0

[State 1610, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 5000, 11

[State 1610, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 11
time = 14
ampl = -4
freq = 120

[State 1610, HitDef]
type = HitDef
;trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 11
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = AFD        ;HLAFD+-
guardflag = M        ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
ID = 1610
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 34), var(36) := -9
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -9
guard.velocity = -9
air.velocity = -5.25,-6
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
snap = 34,0

[State 1610, TargetState]
type = TargetState
trigger1= MoveHit =1 && NumTarget(1610)
trigger1= Target(1610),MoveType=H
value = 1620
ID = 1610
ignorehitpause = 0

[State 1610, OTG Subtract]
type = VarSet
trigger1 = MoveHit
var(8) = 0
ignoreHitPause=1

[State 1610, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1610, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Hit by Flashing Elbow(Fall)
[Statedef 1620]
type = A
movetype = H
physics = N
velset = -1.5,8

[State 1620, Width]
type = Width
trigger1 = 1
edge = 25,-25
player = 25,0

[State 1620, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 5100

[State 1620, Bounce]
type = ChangeState
trigger1 = pos y > -vel y
value = 1621

;Ground Bounce
[Statedef 1621]
type = A
movetype = H
physics = N
velset = 0,0

[State 1621, On Ground]
type = PosSet
trigger1 = !Time
y = 0

;[State 1621, Muteki]
;type = NotHitBy
;trigger1 = Time < 2
;value = SCA

[State 1621, SFX]
type = PlaySnd
trigger1 = Time=1
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1621, EnvShake]
type = EnvShake
trigger1 = !Time
time = 14
ampl = 5

[State 1621, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 5160

[State 1621, Velset]
type = VelSet
trigger1 = !Time
x = ifelse((facing != enemynear, facing), -3.5, 3.5)
y = -4.15

[State 1621, Gravity]
type = VelAdd
trigger1 = 1
y = 0.6

[State 1621, End]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;========================<EX Flashing Elbow>=======================
[Statedef 1630]
type    = S
movetype = A
physics = N
anim = 100
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1630, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1630, Step1 snd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 100, 0
channel = 5

[State 1630, Step2 snd]
type = PlaySnd
trigger1 = AnimElem = 10
value = 100, 1
channel = 5

[State 1630, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 7

[State 1630, Attack Attempt]
type = ChangeState
trigger1 = Time > 4
trigger1 = P2BodyDist x <= 30
value = 1640
ctrl = 0

[State 1630, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;EX Flashing Elbow (Attempt)
[Statedef 1640]
type    = S
movetype = A
physics = N
anim = 1610
ctrl = 0
poweradd = 0
sprpriority = 3
facep2 = 0

[State 1640, Voice]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1600,0
channel = 0

;[State 1640, VelSet]
;type = VelSet
;trigger1 = AnimElem = 3
;x = 0
;
;[State 1640, PosAdd]
;type = PosAdd
;trigger1 = AnimElem = 5 || AnimElem = 6
;x = 16

[State 1640, Friction]
type = VelMul
trigger1 = AnimElemTime(2) >= 0
x = 0.95

[State 1640, Width]
type = Width
trigger1 = AnimElem = 6
value = 15,0

[State 1640, Slam Sound]
type = PlaySnd
trigger1 = NumTarget && AnimElem = 11
value = 5000, 11

[State 1640, Shake Screen]
type = EnvShake
trigger1 = NumTarget && AnimElem = 11
time = 14
ampl = -4
freq = 120

[State 1640, HitDef]
type = HitDef
;trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 11
attr = S,SA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = AFD        ;HLAFD+-
guardflag = M        ;HLA
animtype = Hard          ;light,medium,hard,back,up,diagup
priority = 4, Hit   ;Hit,Miss,Dodge
damage = ceil(ifElse(fvar(11) * 21 < 7, 7, fvar(11) * 21)), 4
ID = 1610
getpower = 0, 0
givepower = 35, 35
pausetime = 12,12
guard.pausetime = 12, 12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 34), var(36) := -9
hitsound = s2,2
guardsound = s130, 0
air.animType = Back
fall.animType = Back
ground.type = Low      ;Low,Trip,None
air.type = Low
ground.slidetime = 18
ground.hittime = 18
guard.hittime = 18
air.hittime = 120
ground.velocity = -9
guard.velocity = -9
air.velocity = -5.25,-6
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 1
fall.recovertime = 120
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48

[State 1640, TargetState]
type = TargetState
trigger1= MoveHit =1 && NumTarget(1610)
trigger1= Target(1610),MoveType=H
value = 1620
ID = 1610
ignorehitpause = 0

[State 1610, OTG Subtract]
type = VarSet
trigger1 = MoveHit
var(8) = 0
ignoreHitPause=1

[State 1640, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1640, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1