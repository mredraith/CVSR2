;***************************************************************************;
;***************************************************************************;
; CVS Heidern POTS/Infinite by Falcondurap
;***************************************************************************;
;***************************************************************************;
; "Porque o guerreiro de fé nunca gela" by: Racionais mc's
;***************************************************************************;
;***************************************************************************;

;===============================================================================
;Heidern End!
;===============================================================================
[Statedef 3000]
type = S
movetype = A
physics = N
anim = 3000
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -1000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)
[State 3000, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3000, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos = -30,-105
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,0
darken=0
poweradd=0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
trigger1 = prevstateno = [1100,1110]
value = -1000

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 7
value = 6,14
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(5) = 0
x = 18.5

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(6) = 0
x = 26.326995849609375

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 0
x = 27.207275390625

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 1
x = 26.6366119384765625

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(8) = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = 0

[State 6001, pause]
type = Explod
trigger1 = AnimELemTime(2) = 0
anim = 3005
id = 3015
pos = 0,0
postype = p1
removetime = -1
sprpriority = 4
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removeongethit = 1

[State 6001, pause]
type = Explod
trigger1 = AnimELemTime(7) = 0
anim = 3006
id = 3020
pos = 0,0
postype = p1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimELemTime(3) = 0
id = 3015

[State 0, Explod]
type = Explod
trigger1 = MoveHit
trigger1 = NumTarget
trigger1 = Target, IsHelper = 0
anim = 17008
ID = 17008
pos = -15, -85
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 7
removeongethit = 0
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 0
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 6, Miss
sparkNo=-1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkxy = -15 + 0 * (var(35) :=150), var(36) := -85
hitsound = S3,1
guardsound=s130,1
guard.sparkno = S8006
ground.type = Low
pausetime = 0,0
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
ground.velocity = -21.1796875
air.type = High
air.velocity = -24.190948486328125,-6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 216
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
p1stateno = 3030
p2stateno = 3040
p2facing = 1


[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
;Heidern End Got To Hell!
;===============================================================================
[Statedef 3030]
type = S
movetype = A
physics = N
anim = 3030
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = 2

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p1
pos = 80,-85
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,209]
v = 31
value = 1

[State 0, VarAdd]
type = VarSet
trigger1 = !AnimTime
v = 31
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
time = 1
pos = 90,-15

[State 0, Width]
type = Width
triggerall = enemy, life > 0
trigger1 = 1
value = 100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 50
value = 3000,var(40)
volume = 0
channel = 4
persistent = 0

[State 0, Explod]
type = Explod
triggerall = NumExplod(8002) = 0
trigger1 = AnimElemTime(1) = 70
trigger2 = AnimElemTime(1) = 0
anim = 17008
ID = 8002
pos = 90,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 135
anim = 12000
ID = 12000
pos = 90,-85
scale = .5,.5
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 70
trigger2 = AnimElemTime(1) = 0
value = -50
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 70
value = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 135
value = 3050,0

[State 210, 1]
type = HitDef
trigger1 = AnimElemTime(1) = 135
attr = S, HA
damage = 110
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 9, Hit
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = -1
sparkxy = -1, -1
hitsound = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
Palfx.time = 56
Palfx.add = 40,-70,-200
Palfx.sinadd = 40,30,0,10
Palfx.color = 0
Palfx.invertall = 1
p2stateno = 4020

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(1) = 70
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 136
time = 30
freq = 60
ampl = -4
phase = 90

[State 0, Pause]
type = Pause
trigger1 = time%2
trigger1 = Time >= 135 && Time <= 155
time = 2
movetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(9) = 0
value = 1,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(9) = 0
anim = 17009
ID = 17009
pos = -60,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 1
anim = 17009
ID = 17009
pos = -55,-65
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 4
anim = 17009
ID = 17009
pos = -50,-60
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 7
anim = 17009
ID = 17009
pos = -45,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 10
anim = 17009
ID = 17009
pos = -40,--50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 1

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;===============================================================================
;Heidern End GetHit
;===============================================================================
[Statedef 3040]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 3040

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -1
;===============================================================================
;Heidern End! SDM
;===============================================================================
[Statedef 3050]
type = S
movetype = A
physics = N
anim = 3000
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -2000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)
[State 3000, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3000, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8510
ID=8500
name="Superpause FX"
posType=P1
pos = -30,-105
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
[State 3300, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8525
ID=8500
name="Superpause FX"
posType=left
pos=22,-132
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,1
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = AnimElemTime(3) = 0
time = 21
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
trigger1 = prevstateno = [1100,1110]
value = -1000

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 7
value = 6,14
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(5) = 0
x = 18.5

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(6) = 0
x = 26.326995849609375

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 0
x = 27.207275390625

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(7) = 1
x = 26.6366119384765625

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(8) = 0
x = 0

[State 6001, pause]
type = Explod
trigger1 = AnimELemTime(2) = 0
anim = 3015
id = 3015
pos = 0,0
postype = p1
removetime = -1
sprpriority = 4
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
supermove = 1
removeongethit = 1

[State 6001, pause]
type = Explod
trigger1 = AnimELemTime(7) = 0
anim = 3020
id = 3020
pos = 0,0
postype = p1
removetime = -2
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimELemTime(3) = 0
id = 3015

[State 0, Explod]
type = Explod
trigger1 = MoveHit
trigger1 = NumTarget
trigger1 = Target, IsHelper = 0
anim = 17008
ID = 17008
pos = -15, -85
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 7
removeongethit = 0
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = time = 0
attr = S, HA
damage = 0
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 6, Miss
sparkNo=-1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkxy = -15 + 0 * (var(35) :=150), var(36) := -85
hitsound = S3,1;
guardsound=s130,1
ground.type = Low
pausetime = 0,0
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
ground.velocity = -21.1796875
air.type = High
air.velocity = -24.190948486328125,-6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 16,16
id = 216
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
p1stateno = 3051
p2stateno = 3040
p2facing = 1


[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
;Heidern End Got To Hell!
;===============================================================================
[Statedef 3051]
type = S
movetype = A
physics = N
anim = 3030
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = 2

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p1
pos = 80,-85
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,209]
v = 31
value = 1

[State 0, VarAdd]
type = VarSet
trigger1 = !AnimTime
v = 31
value = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
time = 1
pos = 90,-15

[State 0, Width]
type = Width
triggerall = enemy, life > 0
trigger1 = 1
value = 100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 50
value = 3000,var(40)
volume = 0
channel = 4
persistent = 0

[State 0, Explod]
type = Explod
triggerall = NumExplod(8002) = 0
trigger1 = AnimElemTime(1) = 70
trigger2 = AnimElemTime(1) = 0
anim = 17008
ID = 8002
pos = 90,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 135
anim = 12000
ID = 12000
pos = 90,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 70
trigger2 = AnimElemTime(1) = 0
value = -80
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 70
value = 3,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(1) = 135
value = 3050,0

[State 210, 1]
type = HitDef
trigger1 = AnimElemTime(1) = 135
attr = S, HA
damage = 135
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 9, Hit
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = -1
sparkxy = -1, -1
hitsound = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
Palfx.time = 56
Palfx.add = 40,-70,-200
Palfx.sinadd = 40,30,0,10
Palfx.color = 0
Palfx.invertall = 1
p2stateno = 4020

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(1) = 70
trigger2 = AnimElemTime(1) = 134
value = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 136
time = 30
freq = 60
ampl = -4
phase = 90

[State 0, Pause]
type = Pause
trigger1 = time%2
trigger1 = Time >= 135 && Time <= 155
time = 2
movetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(9) = 0
value = 1,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(9) = 0
anim = 17009
ID = 17009
pos = -60,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 1
anim = 17009
ID = 17009
pos = -55,-65
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 4
anim = 17009
ID = 17009
pos = -50,-60
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 7
anim = 17009
ID = 17009
pos = -45,-55
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(10) = 10
anim = 17009
ID = 17009
pos = -40,--50
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 12
value = 1

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
;Final Bringer GetHit
;===============================================================================
[Statedef 3150]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = PosSet
triggerall = Enemy, Stateno != [3400,3420]
trigger1 = EnemyNear, Stateno = 3120 || EnemyNear, Stateno = 3320
y = 0

[State 0, Turn]
type = Turn
trigger1 = EnemyNear, Stateno = 3120 || EnemyNear, Stateno = 3320 || EnemyNear, Stateno = 3420 || EnemyNear, Stateno = 3370 || EnemyNear, Stateno = 3470
persistent = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 3150

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -1

;===============================================================================
;Final Bringer GetHit
;===============================================================================
[Statedef 3155]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = null;PosSet
triggerall = Enemy, Stateno != [3400,3420]
trigger1 = EnemyNear, Stateno = 3120 || EnemyNear, Stateno = 3320
y = 0

[State 0, Turn]
type = Turn
trigger1 = EnemyNear, Stateno = 3120 || EnemyNear, Stateno = 3320 || EnemyNear, Stateno = 3420 || EnemyNear, Stateno = 3470
persistent = 0

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 3150

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -1
;===============================================================================
;Final Bringer GetHit 2
;===============================================================================
[Statedef 3160]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1340

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -2
;===============================================================================
;Final Bringer GetHit 2
;===============================================================================
[Statedef 3165]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 0, PosSet]
type = null;PosSet
trigger1 = 1
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1

[State 0, ChangeAnim2]
type = ChangeAnim2
trigger1 = !Time
value = 1340

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -2
;===============================================================================
;Final Bringer Guarded
;===============================================================================
[Statedef 3105]
type = A
movetype = I
physics = N
anim = 3105
velset = 0,0
ctrl = 0
juggle = 0

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = 1
time = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = AnimElemTime(1) = 0
x = -3.5
y = -7.60546875

[State 0, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(1) > 0
y = .39453125

[State 220,2]
type = ChangeState
trigger1 = Pos Y + Vel Y >= 0
value = 3106
ctrl = 0
;===============================================================================
;Final Bringer Landed
;===============================================================================
[Statedef 3106]
type = S
movetype = I
physics = N
anim = 3106
velset = 0,0
ctrl = 0
juggle = 0

[State 52, Landing Sound]
type = PlaySnd
trigger1 = !Time
value = 52,0

[State 52, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprPriority = -3
posType = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1


;===============================================================================
;Final Bringer
;===============================================================================
[Statedef 3300]
type = S
movetype = I
physics = N
anim = 3100
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -1000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)
[State 3000, Super Cancel Flash]
type=PalFX
trigger1=var(21) || var(22)
trigger1=!(Time % 2) && Time <=12
time=1
add=255,255,255
ignoreHitPause=1
[State 3000, Super Cancel Juggle Reset]
type=VarSet
trigger1=!Time
trigger1=var(21) || var(22)
var(15)=0
ignoreHitPause=1


[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos = 0,-45
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,0
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = Time = 51
time = 300
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = AnimElemTime(3) < 0
value = SCA, NT,ST,HT

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 51
statetype = A       ;S,A,C,L

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3000,var(40)
channel = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,10

[State 0, VelSet]
type = VelSet
trigger1 = Time = 51
x = (P2BodyDist X * 0.027511597)+(0.9776458740234375)
y = -7.60546875-(.39453125)

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 51
y = .39453125

[State 900, Grab Attempt] ; Taken from OrochiKOF97's Tutorial
type = HitDef
triggerall = Anim = 1210
trigger1 = 1
attr = A, HT
hitflag = MAF
guardflag = M
priority = 6, Miss
sprpriority = 1
hitsound = s1,28
guardsound=s130,1
p2facing = 1
sparkno = -1
sparkno = -1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-15
p1stateno = 3310
p2stateno = 3150
getpower = 0,0
givepower = 16,16
ground.velocity = 4.027801513671875,-6.5
air..velocity = 4.027801513671875,-6.5
id = 1230
fall = 1
yaccel = .5
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
guard.velocity = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1210
MoveType = A       ;S,A,C,L

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 1210
trigger1 = Time > 30
trigger1 = P2BodyDIst X <= 52
value = 1210

[State 220,2]
type = ChangeState
trigger1 = MoveGuarded
value = 3105
ctrl = 0
ignorehitpause = 0

[State 220,2]
type = ChangeState
triggerall = Time > 50
trigger1 = Pos Y + Vel Y >= 0
value = 1220
ctrl = 0

;===============================================================================
;Final Bringer Gotcha
;===============================================================================
[Statedef 3310]
type = A
movetype = A
physics = N
anim = 3110
velset = 0,0
ctrl = 0
juggle = 0


[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(1) = 0
time = -1
pos = 0,20,Head

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p2
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3320
ctrl = 0
;===============================================================================
;Final Bringer Kicking Ass
;===============================================================================
[Statedef 3320]
type = S
movetype = A
physics = N
anim = 3320
velset = 0,0
ctrl = 0
juggle = 0


[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3150

[State 0, Turn]
type = Turn
trigger1 = !Time

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 3,1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(5) = 0
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos = 80,-60
postype = p1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3330
ctrl = 0
;===============================================================================
;Final Bringer Now You'll Bleed
;===============================================================================
[Statedef 3330]
type = S
movetype = A
physics = N
anim = 1310
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = -3

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = 1
time = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3160

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 64,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 6,16
volume = 0
channel = 4
persistent = 0


[State 0, Explod]
type = Explod
trigger1 = NumExplod(3170) = 0
trigger1 = AnimElem = 7
anim = 3170
ID = 3170
pos = 24,-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
persistent = 0
trans = addalpha
alpha = 150,150
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3171) = 0
trigger1 = AnimElem = 7
anim = 3171
ID = 3171
pos = 24,-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 112
anim = 17009
ID = 17009
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 58
trigger2 = Time = 130
anim = 17009
ID = 17009
pos = 100,-90
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 76
trigger2 = Time = 138
anim = 17009
ID = 17009
pos = 65,-40
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 94
anim = 17009
ID = 17009
pos = 90,-55
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 58
trigger3 = Time = 76
trigger4 = Time = 94
trigger5 = Time = 112
trigger6 = Time = 130
trigger7 = Time = 138
anim = 3180
ID = 3180
pos = -10,0
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 0
value = -45
kill = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -6
kill = 0

[State 0, TargetLifeAdd]
type = HitAdd
trigger1 = AnimElem = 6
value = 1

[State 220,2]
type = ChangeState
trigger1 = Time >= 140
value = 3340
ctrl = 0
;===============================================================================
;Final Bringer Finisher
;===============================================================================
[Statedef 3340]
type = S
movetype = A
physics = N
anim = 3130
velset = 0,0
ctrl = 0
juggle = 0

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,68]
v = 31
value = 1
[State 0, VarAdd]
type = VarSet
trigger1 = !AnimTime
v = 31
value = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 40
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
guard.pausetime = 0,0
sparkno = s1
sparkxy = -10, -80
hitsound = s3,1
guardsound=s130,1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4.027801513671875,-6.5
guard.velocity = -14.90625
guard.ctrltime = 21
air.type = High
air.velocity = -4.027801513671875,-6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 0,0
fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall.recovertime = 25
air.fall.recover = 0
id = 3140

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3350
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3351
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3170
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3171
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3180

[State 0, Explod]
type = Explod
trigger1 = Time = 35
anim = 3195
ID = 3195
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3160
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3161
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -3

[State 0, Explod]
type = null;Explod
trigger1 = AnimElemTime(1) = 0
anim = 3190
ID = 3190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 0
anim = 3191
ID = 3190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = LifeAdd
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
trigger16 = Time = 51
trigger17 = Time = 52
trigger18 = Time = 53
value = 7

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(2) = 0
value = 0
kill = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 36
value = S6,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(2) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 3,1
[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 6,5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================



;===============================================================================
;Final Bringer SDM
;===============================================================================
[Statedef 3350]
type = S
movetype = I
physics = N
anim = 3100
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -2000
facep2 = 1

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8510
ID=8500
name="Superpause FX"
posType=P1
pos = 0,-45
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
[State 3300, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8525
ID=8500
name="Superpause FX"
posType=left
pos=22,-132
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,1
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = Time = 51
time = 300
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = AnimElemTime(3) < 0
value = SCA, NT,ST,HT

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) = 0
statetype = A       ;S,A,C,L

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3000,var(40)
channel = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,10

[State 0, VelSet]
type = VelSet
trigger1 = Time = 51
x = (P2BodyDist X * 0.027511597)+(0.9776458740234375)
y = -7.60546875-(.39453125)

[State 0, VelAdd]
type = VelAdd
trigger1 = Time > 51
y = .39453125

[State 900, Grab Attempt] ; Taken from OrochiKOF97's Tutorial
type = HitDef
triggerall = Anim = 1210
trigger1 = 1
attr = A, HT
hitflag = MAF
guardflag = M
priority = 6, Miss
sprpriority = 1
hitsound = s1,28
guardsound=s130,1
p2facing = 1
sparkno = -1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-15
p1stateno = 3360
p2stateno = 3150
getpower = 0,0
givepower = 16,16
ground.velocity = 4.027801513671875,-6.5
air..velocity = 4.027801513671875,-6.5
id = 1230
fall = 1
yaccel = .5
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
guard.velocity = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1210
MoveType = A       ;S,A,C,L

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 1210
trigger1 = Time > 30
trigger1 = P2BodyDIst X <= 52
value = 1210

[State 220,2]
type = ChangeState
trigger1 = MoveGuarded
value = 3105
ctrl = 0
ignorehitpause = 0

[State 220,2]
type = ChangeState
triggerall = Time > 50
trigger1 = Pos Y + Vel Y >= 0
value = 1220
ctrl = 0

;===============================================================================
;Final Bringer Gotcha
;===============================================================================
[Statedef 3360]
type = A
movetype = A
physics = N
anim = 3110
velset = 0,0
ctrl = 0
juggle = 0


[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(1) = 0
time = -1
pos = 0,20,Head

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p2
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0
[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3370
ctrl = 0
;===============================================================================
;Final Bringer Kicking Ass
;===============================================================================
[Statedef 3370]
type = S
movetype = A
physics = N
anim = 3320
velset = 0,0
ctrl = 0
juggle = 0


[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3150



[State 0, Turn]
type = Turn
trigger1 = !Time

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 3,1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(5) = 0
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos = 80,-60
postype = p1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3380
ctrl = 0
;===============================================================================
;Final Bringer Now You'll Bleed
;===============================================================================
[Statedef 3380]
type = S
movetype = A
physics = N
anim = 1310
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = -3

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = 1
time = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3160

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 64,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 6,16
volume = 0
channel = 4
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = NumExplod(3350) = 0
trigger1 = AnimElem = 4
anim = 3350
ID = 3350
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
scale = Const(size.xscale), Const(size.yscale);scale = 1.1,0.99
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3351) = 0
trigger1 = AnimElem = 4
anim = 3351
ID = 3351
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
scale = Const(size.xscale), Const(size.yscale);scale = 1.1,0.99

[State 0, Explod]
type = Explod
trigger1 = NumExplod(3170) = 0
trigger1 = AnimElem = 7
anim = 3170
ID = 3170
pos = 24,-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
persistent = 0
trans = addalpha
alpha = 150,150
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3171) = 0
trigger1 = AnimElem = 7
anim = 3171
ID = 3171
pos = 24,-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 112
anim = 17009
ID = 17009
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 58
trigger2 = Time = 130
anim = 17009
ID = 17009
pos = 100,-90
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 76
trigger2 = Time = 138
anim = 17009
ID = 17009
pos = 65,-40
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 94
anim = 17009
ID = 17009
pos = 90,-55
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 58
trigger3 = Time = 76
trigger4 = Time = 94
trigger5 = Time = 112
trigger6 = Time = 130
trigger7 = Time = 138
anim = 3180
ID = 3180
pos = -10,0
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemTime(6) = 0
value = 255,255,255
time = 1
persistent = 8

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 0
value = -45
kill = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -10
kill = 0

[State 0, TargetLifeAdd]
type = HitAdd
trigger1 = AnimElem = 6
value = 1

[State 220,2]
type = ChangeState
trigger1 = Time >= 156
value = 3390
ctrl = 0
;===============================================================================
;Final Bringer Finisher
;===============================================================================
[Statedef 3390]
type = S
movetype = A
physics = N
anim = 3130
velset = 0,0
ctrl = 0
juggle = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 30
animtype = Heavy
air.animtype = diagup
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
guard.pausetime = 0,0
sparkno = s1
sparkxy = -10, -80
hitsound = s3,1
guardsound=s130,1
guard.sparkno = s7001;1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4.027801513671875,-8.5
guard.velocity = -14.90625
guard.ctrltime = 21
air.type = High
air.velocity = -4.027801513671875,-8.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 0,0
fall = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall.recovertime = 25
air.fall.recover = 0
id = 3140

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3350
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3351
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3170
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3171
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3180

[State 0, Explod]
type = Explod
trigger1 = Time = 35
anim = 3195
ID = 3195
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3160
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3161
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -3

[State 0, Explod]
type = null;Explod
trigger1 = AnimElemTime(1) = 0
anim = 3190
ID = 3190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 0
anim = 3191
ID = 3190
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = LifeAdd
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
trigger16 = Time = 51
trigger17 = Time = 52
trigger18 = Time = 53
value = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 36
value = S6,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(2) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 3,1
[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 6,5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;===============================================================================
;Aerial Final Bringer
;===============================================================================
[Statedef 3400]
type = S
movetype = I
physics = N
anim = 3200
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -1000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8500
ID=8500
name="Superpause FX"
posType=P1
pos = 0,-45
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,0
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = Time = 51
time = 300
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(53) = 29

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = AnimElemTime(3) < 0
value = SCA, NT,ST,HT

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) = 0
statetype = A       ;S,A,C,L

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3000,var(40)
channel = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,10

[State 0, VelSet]
type = VelSet
triggerall = prevstateno != [600,650]
trigger1 = Time = 51
x = (P2BodyDist X * 0.027511597)+(0.9776458740234375)
y = -2.60546875-(.39453125)

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = [600,650]
trigger1 = Time = 51
x = 10;(P2BodyDist X * 0.027511597)+(2.9776458740234375)
y = -7.60546875-(.39453125)

[State 0, VelAdd]
type = VelAdd
triggerall = prevstateno != [600,650]
trigger1 = Time > 51
y = .25;.39453125

[State 0, VelAdd]
type = VelAdd
triggerall = prevstateno = [600,650]
trigger1 = Time > 51
y = .39453125

[State 900, Grab Attempt] ; Taken from OrochiKOF97's Tutorial
type = HitDef
triggerall = p2life > 0
triggerall = Anim = 1210
trigger1 = 1
attr = A, HT
hitflag = MAF
guardflag = M
priority = 6, Miss
sprpriority = 1
hitsound = s1,28
guardsound=s130,1
p2facing = 1
sparkno = -1
guard.sparkno = s7001;
sparkno = -1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-15
p1stateno = 3410
p2stateno = 3150
getpower = 0,0
givepower = 16,16
ground.velocity = 4.027801513671875,-6.5
air..velocity = 4.027801513671875,-6.5
id = 1230
fall = 1
yaccel = .5
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
guard.velocity = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1210
MoveType = A       ;S,A,C,L

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 1210
trigger1 = Time > 30
trigger1 = P2BodyDIst X <= 52
value = 1210

[State 220,2]
type = ChangeState
trigger1 = MoveGuarded
value = 3105
ctrl = 0
ignorehitpause = 0

[State 220,2]
type = ChangeState
triggerall = Time > 50
trigger1 = Pos Y + Vel Y >= 0
value = 1220
ctrl = 0
;===============================================================================
;Final Bringer Gotcha
;===============================================================================
[Statedef 3410]
type = A
movetype = A
physics = N
anim = 3210
velset = 0,0
ctrl = 0
juggle = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(1) = 0
time = -1
pos = 0,20,Head

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p2
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3420
ctrl = 0
;===============================================================================
;Final Bringer Kicking Ass
;===============================================================================
[Statedef 3420]
type = S
movetype = A
physics = N
anim = 3221
velset = 0,0
ctrl = 0
juggle = 0

[State 0, PosSet]
type = PosSet
trigger1 = enemy, Pos Y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 3120

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3155

[State 0, Turn]
type = Turn
trigger1 = !Time

[State 0, PosSet]
type = null;PosSet
trigger1 = 1
y = 0

[State 0, TargetBind]
type = TargetBind
triggerall = Pos Y < 0
trigger1 = AnimElemTime(1) = 0
time = -1

[State 0, PosSet]
type = posadd
triggerall = Pos Y < 0
trigger1 = AnimElemTime(1) = 0
y = p2dist Y +10

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 3,1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(5) = 0
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos = 80,-60
postype = p1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3430
ctrl = 0
;===============================================================================
;Final Bringer Now You'll Bleed
;===============================================================================
[Statedef 3430]
type = S
movetype = A
physics = N
anim = 3222
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 1310

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = 1
time = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3165

[State 0, TargetBind]
type = null;TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 64,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 6,16
volume = 0
channel = 4
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = NumExplod(3170) = 0
trigger1 = AnimElem = 7
anim = 3170
ID = 3170
pos = 24,ifelse(anim = 1310, -146, -136);-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
persistent = 0
trans = addalpha
alpha = 150,150
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3171) = 0
trigger1 = AnimElem = 7
anim = 3171
ID = 3171
pos = 24,ifelse(anim = 1310, -146, -136)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 112
anim = 17009
ID = 17009
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 58
trigger2 = Time = 130
anim = 17009
ID = 17009
pos = 100,-90
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 76
trigger2 = Time = 138
anim = 17009
ID = 17009
pos = 65,-40
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 94
anim = 17009
ID = 17009
pos = 90,-55
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 58
trigger3 = Time = 76
trigger4 = Time = 94
trigger5 = Time = 112
trigger6 = Time = 130
trigger7 = Time = 138
anim = 3180
ID = 3180
pos = -10,0
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 0
value = -45
kill = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -6
kill = 0

[State 0, TargetLifeAdd]
type = HitAdd
trigger1 = AnimElem = 6
value = 1

[State 220,2]
type = ChangeState
trigger1 = Time >= 140
value = 3440
ctrl = 0
;===============================================================================
;Final Bringer Finisher
;===============================================================================
[Statedef 3440]
type = S
movetype = A
physics = N
anim = 3230
velset = 0,0
ctrl = 0
juggle = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 3130

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,68]
v = 31
value = 1
[State 0, VarAdd]
type = VarSet
trigger1 = !AnimTime
v = 31
value = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 50
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
guard.pausetime = 0,0
sparkno = s1
sparkxy = -10, -80
hitsound = s3,1
guardsound=s130,1
guard.sparkno = s7001;1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4.027801513671875,-6.5
guard.velocity = -14.90625
guard.ctrltime = 21
air.type = High
air.velocity = -4.027801513671875,-6.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 0,0
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall.recovertime = 25
air.fall.recover = 0
id = 3140

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3350
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3351
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3170
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3171
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3180

[State 0, Explod]
type = Explod
triggerall = anim = 3130
trigger1 = Time = 35
anim = 3195
ID = 3195
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
triggerall = anim = 3230
trigger1 = Time = 35
anim = 3196
ID = 3195
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3160
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3161
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2

[State 0, Explod]
type = null;Explod
trigger1 = AnimElemTime(1) = 0
anim = 3190
ID = 3190
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 0
anim = 3191
ID = 3190
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = LifeAdd
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
trigger16 = Time = 51
trigger17 = Time = 52
trigger18 = Time = 53
value = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 36
value = S6,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(2) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 3,1
[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 6,5

[State 220,2]
type = ChangeState
triggerall = Pos Y < 0
trigger1 = !AnimTime
value = 50
ctrl = 1

[State 220,2]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
;Aerial Final Bringer
;===============================================================================
[Statedef 3450]
type = S
movetype = I
physics = N
anim = 3200
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -2000
facep2 = 1

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8510
ID=8500
name="Superpause FX"
posType=P1
pos = 0,-45
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
[State 3300, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8525
ID=8500
name="Superpause FX"
posType=left
pos=22,-132
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,1
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = Time = 51
time = 300
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(53) = 29

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 200, Punch Attempt Sound]
type = Playsnd
trigger1 = AnimElem = 1
value = 1,8
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = AnimElemTime(3) < 0
value = SCA, NT,ST,HT

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) = 0
statetype = A       ;S,A,C,L

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 3000,var(40)
channel = 0

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6,10

[State 0, VelSet]
type = VelSet
triggerall = prevstateno != [600,650]
trigger1 = Time = 51
x = (P2BodyDist X * 0.027511597)+(0.9776458740234375)
y = -2.60546875-(.39453125)

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = [600,650]
trigger1 = Time = 51
x = 10;(P2BodyDist X * 0.027511597)+(2.9776458740234375)
y = -7.60546875-(.39453125)

[State 0, VelAdd]
type = VelAdd
triggerall = prevstateno != [600,650]
trigger1 = Time > 51
y = .25;.39453125

[State 0, VelAdd]
type = VelAdd
triggerall = prevstateno = [600,650]
trigger1 = Time > 51
y = .39453125

[State 900, Grab Attempt] ; Taken from OrochiKOF97's Tutorial
type = HitDef
triggerall = p2life > 0
triggerall = Anim = 1210
;triggerall = Var(48) >= 1
trigger1 = 1
attr = A, HT
hitflag = MAF
guardflag = M
priority = 6, Miss
sprpriority = 1
hitsound = s1,28
guardsound=s130,1
p2facing = 1
sparkno = -1
sparkno = -1
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkXY=-10 + 0 * (var(35) :=90), var(36) :=-15
p1stateno = 3460
p2stateno = 3150
getpower = 0,0
givepower = 16,16
ground.velocity = 4.027801513671875,-6.5
air..velocity = 4.027801513671875,-6.5
id = 1230
fall = 1
yaccel = .5
guard.pausetime = 12,11
ground.slidetime = 17
ground.hittime = 17
guard.hittime = 17
guard.slidetime = 17
guard.ctrltime = 17
guard.velocity = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Anim = 1210
MoveType = A       ;S,A,C,L

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 1210
trigger1 = Time > 30
trigger1 = P2BodyDIst X <= 52
value = 1210

[State 220,2]
type = ChangeState
trigger1 = MoveGuarded
value = 3105
ctrl = 0
ignorehitpause = 0

[State 220,2]
type = ChangeState
triggerall = Time > 50
trigger1 = Pos Y + Vel Y >= 0
value = 1220
ctrl = 0
;===============================================================================
;Final Bringer Gotcha
;===============================================================================
[Statedef 3460]
type = A
movetype = A
physics = N
anim = 3210
velset = 0,0
ctrl = 0
juggle = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(1) = 0
time = -1
pos = 0,20,Head

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElem = 1
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p2
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3470
ctrl = 0
;===============================================================================
;Final Bringer Kicking Ass
;===============================================================================
[Statedef 3470]
type = S
movetype = A
physics = N
anim = 3221
velset = 0,0
ctrl = 0
juggle = 0

[State 0, PosSet]
type = PosSet
trigger1 = enemy, Pos Y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 3120

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3155

[State 0, Turn]
type = Turn
trigger1 = !Time

[State 0, PosSet]
type = null;PosSet
trigger1 = 1
y = 0

[State 0, TargetBind]
type = TargetBind
triggerall = Pos Y < 0
trigger1 = AnimElemTime(1) = 0
time = -1

[State 0, PosSet]
type = posadd
triggerall = Pos Y < 0
trigger1 = AnimElemTime(1) = 0
y = p2dist Y +10

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 3,1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(5) = 0
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
pos = 80,-60
postype = p1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(5) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 3480
ctrl = 0
;===============================================================================
;Final Bringer Now You'll Bleed
;===============================================================================
[Statedef 3480]
type = S
movetype = A
physics = N
anim = 3222
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = -3

[State 0, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 1310

[State -2, Afterimage Remover]
type = AfterImageTime
trigger1 = 1
time = 0

[State 0, VarAdd]
type = VarSet
trigger1 = 1
v = 31
value = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = 1
value = 0

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(1) = 0
value = 3165

[State 0, TargetBind]
type = null;TargetBind
trigger1 = !Time
time = 1
pos = 74,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
time = 1
pos = 64,0

[State 0, Width]
type = Width
trigger1 = 1
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 6,16
volume = 0
channel = 4
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = NumExplod(3350) = 0
trigger1 = AnimElem = 4
anim = ifelse(anim = 1310, 3350, 3352)
ID = 3350
pos = 0,ifelse(anim = 1310, 0, 10)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
scale = Const(size.xscale), Const(size.yscale);scale = 1.1,0.99
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3351) = 0
trigger1 = AnimElem = 4
anim = ifelse(anim = 1310, 3351, 3353)
ID = 3351
pos = 0,ifelse(anim = 1310, 0, 10)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
scale = Const(size.xscale), Const(size.yscale);scale = 1.1,0.99

[State 0, Explod]
type = Explod
trigger1 = NumExplod(3170) = 0
trigger1 = AnimElem = 7
anim = 3170
ID = 3170
pos = 24,ifelse(anim = 1310, -146, -136);-146
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -3
persistent = 0
trans = addalpha
alpha = 150,150
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = NumExplod(3171) = 0
trigger1 = AnimElem = 7
anim = 3171
ID = 3171
pos = 24,ifelse(anim = 1310, -146, -136)
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -1
sprpriority = -2
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 112
anim = 17009
ID = 17009
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 58
trigger2 = Time = 130
anim = 17009
ID = 17009
pos = 100,-90
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 76
trigger2 = Time = 138
anim = 17009
ID = 17009
pos = 65,-40
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5
[State 0, Explod]
type = Explod
trigger1 = Time = 94
anim = 17009
ID = 17009
pos = 90,-55
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 40
trigger2 = Time = 58
trigger3 = Time = 76
trigger4 = Time = 94
trigger5 = Time = 112
trigger6 = Time = 130
trigger7 = Time = 138
anim = 3180
ID = 3180
pos = -10,0
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElemTime(6) = 0
value = 255,255,255
time = 1
persistent = 8

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(1) = 0
value = -45
kill = 0

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -10
kill = 0

[State 0, TargetLifeAdd]
type = HitAdd
trigger1 = AnimElem = 6
value = 1

[State 220,2]
type = ChangeState
trigger1 = Time >= 156
value = 3490
ctrl = 0
;===============================================================================
;Final Bringer Finisher
;===============================================================================
[Statedef 3490]
type = S
movetype = A
physics = N
anim = 3230
velset = 0,0
ctrl = 0
juggle = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Pos Y >= 0
trigger1 = time = 0
value = 3130

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,68]
v = 31
value = 1
[State 0, VarAdd]
type = VarSet
trigger1 = !AnimTime
v = 31
value = 0

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HA
damage = 30
animtype = Heavy
air.animtype = diagup
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
guard.pausetime = 0,0
sparkno = s1
sparkxy = -10, -80
hitsound = s3,1
guardsound=s130,1
guard.sparkno = s7001;1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -4.027801513671875,-8.5
guard.velocity = -14.90625
guard.ctrltime = 21
air.type = High
air.velocity = -4.027801513671875,-8.5
air.hittime = 13
air.juggle = 0
getpower = 0,0
givepower = 0,0
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = .5
fall.recovertime = 25
air.fall.recover = 0
id = 3140

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3350
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3351
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3170
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3171
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(1) = 0
id = 3180

[State 0, Explod]
type = Explod
triggerall = anim = 3130
trigger1 = Time = 35
anim = 3195
ID = 3195
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
triggerall = anim = 3230
trigger1 = Time = 35
anim = 3196
ID = 3195
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3160
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2
[State 0, Explod]
type = Explod
trigger1 = Time = 36
anim = 3161
ID = 3160
pos = 85,-30
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = -2

[State 0, Explod]
type = null;Explod
trigger1 = AnimElemTime(1) = 0
anim = 3190
ID = 3190
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(1) = 0
anim = 3191
ID = 3190
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4

[State 0, TargetLifeAdd]
type = LifeAdd
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
trigger16 = Time = 51
trigger17 = Time = 52
trigger18 = Time = 53
value = 8

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 36
value = S6,5

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(2) = 0
anim = 17008
ID = 8002
pos = 80,-70
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 5

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 3,1
[State 5100, 10]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 6,5

[State 210, 5]
type = ChangeState
triggerall = Pos Y < 0
trigger1 = !AnimTime
trigger1 = AILevel
value = 1030

[State 220,2]
type = ChangeState
triggerall = Pos Y < 0
trigger1 = !AnimTime
value = 50
ctrl = 1

[State 220,2]
type = ChangeState
triggerall = Pos Y >= 0
trigger1 = !AnimTime
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; HITG_SHAKE
[Statedef 6000]
type    = u
movetype= H
physics = N
velset = 0,0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = statetype = S
value = 5000
[State 0, SelfState]
type = SelfState
trigger1 = statetype = C
value = 5010
[State 0, SelfState]
type = ChangeState
trigger1 = statetype = A
value = 7020
;---------------------------------------------------------------------------
; HITA_SHAKE
[Statedef 7020]
type    = A
movetype= H
physics = N
velset = 0,0

[State 5020, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 5020, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5020, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 5020, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 7030

[State 5020, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5020, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5020, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 7030]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5030, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 5030, 2]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5030, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 7040 ;HITA_RECOV

[State 5030, 4]
type = SelfState
triggerall = HitFall
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 10  ;.
value = 5050 ;HITA_FALL

[State 5030, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 7035 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 7035]
type    = A
movetype= H
physics = N

[State 5035, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 5035, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5035, 3]
type = ChangeState
triggerall = !HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Animation over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 7040 ;HITA_RECOV

[State 5035, 4]
type = SelfState
triggerall = HitFall
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 10  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 5050 ;HITA_FALL

;---------------------------------------------------------------------------
; HITA_RECOV (recovering in air, not falling)
[Statedef 7040]
type    = A
movetype= H
physics = N
ctrl = 0

[State 5040, 1]
type = SelfState
trigger1 = !Alive
value = 5050

[State 5040, 2]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim != 5040
trigger2 = Time = 0
trigger2 = Anim != 5035
value = 5040

[State 5040, 4]
type = StateTypeSet
trigger1 = HitOver
movetype = I

[State 5040, 5]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5040, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52 ;JUMPLAND
;----------------------------[2002 UM MAX2 BG]----------------------------------
[Statedef 40001]
anim = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Glass Break]
type = ChangeState
trigger1 = parent,var(31)=0 && Time > 60
;trigger2 = root,stateno = 3202 && root,animelemtime(7) = 2
value = stateno+1

[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14001,0
volume = 200

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15640)
trigger1 = !time
anim = 15604
ID = 15640
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------[2002 UM MAX2 PORTRAIT]------------------------------
[Statedef 40003]
anim = 1

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "LegendaryXM90"
trigger12 = enemy, authorname = "Raposo"
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15605
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15606
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15607
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -18
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15607
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -18
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1
;---------------------------[SYSTEM HELPERS]------------------------------------

; (Credit to ANMC, Bagaliao, and FlowaGirl for the basic helper method concept.)
;
;------------------
; AI Activation Helper State - Primary Version
; (Credit to YongMing for the basic HitPause bugfix concept.)
;
; var(1) - First tick button activation prevention.
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Persistent direction command detection enabler (due to 2002.04.14).
; var(9) - AutoTurn bug fixer.
; parent's var(57) - Parent's GameTime var, for pause and custom state check.
; parent's var(58) - Parent's primary AI variable.
;
; The code in this state is mostly simply copy/pasteable.
; But if you're using different indices for the parent's variables,
; or if you change your character's basic commands' names, you'll
; of course need to change the code in this state accordingly.

[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9741, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = 2

[State 9741, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)
trigger1 = !(var(4):=0)

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !(var(3) || var(9))
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = !(var(4):=1)
var(58) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = var(4):=0

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
var(58) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(2) = 2
trigger8 = var(2):=0
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = var(1):=1
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2


;------------------
; AI Activation Helper State - Compatibly Partnered Version
;
; var(1) - First tick activation prevention
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Hitpause check.
; var(5) - No button on previous tick.
; var(6) - Any dir on this tick.
; var(7) - Any button on this tick.
; var(8) - Matching partner button detected.
; var(9) - AutoTurn bug fixer.
; var(10)- Buffered dir detection disabler.
; parent's var(57) - Parent's GameTime var, for pause and custom state check.
; parent's var(58) - Parent's primary AI variable.
;
; The code in this state is mostly simply copy/pasteable.
; But if you're using different indices for the parent's variables,
; or if you change your character's basic commands' names, you'll
; of course need to change the code in this state accordingly.

[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9742, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = var(3):=2

[State 9742, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(1)
trigger5 = var(3):=0
var(2) = var(3):=1

[State 9742, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = var(6):=0
var(6) = 1

[State 9742, BufferCheck]
type = VarSet
trigger1 = var(3) || var(4) || var(10)
var(10) = var(6)

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(7):=0
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = Parent,command = "a"
trigger1 = Partner,command = "a"
trigger2 = Parent,command = "b"
trigger2 = Partner,command = "b"
trigger3 = Parent,command = "c"
trigger3 = Partner,command = "c"
trigger4 = Parent,command = "x"
trigger4 = Partner,command = "x"
trigger5 = Parent,command = "y"
trigger5 = Partner,command = "y"
trigger6 = Parent,command = "z"
trigger6 = Partner,command = "z"
trigger7 = Parent,command = "start"
trigger7 = Partner,command = "start"
trigger8 = var(8):=0
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(6)
trigger1 = !(var(9) || var(10))
var(58) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5) && var(7)
trigger1 = !(var(2) || var(8))
var(58) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !(var(2) || var(8))
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = var(2) = 2
trigger2 = var(2):=0
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6) || var(7)
trigger2 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = var(1):=1
var(5) = !var(7)

;===============================================================================
;Heidern's Caliburn
;===============================================================================
[Statedef 3500]
type = S
movetype = A
physics = N
anim = 3500
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -2000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)

[State 3000, SuperPause FX]
type=Helper
trigger1=time=4
helperType=Normal
stateNo=8510
ID=8500
name="Superpause FX"
posType=P1
pos = 37,-85
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
[State 3300, SuperPause FX]
type=Helper
trigger1=time=4
helperType=Normal
stateNo=8525
ID=8500
name="Superpause FX"
posType=left
pos = 2,-74
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,1
darken=0
poweradd=0

[State 0, VarAdd]
type = VarSet
trigger1 = Time = [0,80]
v = 31
value = 1
[State 0, VarAdd]
type = VarSet
trigger1 = Time = 81
v = 31
value = 0


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
trigger1 = prevstateno = [1100,1110]
value = -1000

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time = [1,28]
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, VarSet]
type = VarSet
trigger1 = time = 0 ;Superpause tick error fix.
var(53) = 29

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

;---------------------[U]
[State 240, 2]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
animtype  = hard
damage    = 0,9
priority = 9, Hit
getpower = 0,0
guardflag = N
pausetime = 0,0
sparkno = -1
sparkxy = -10, -80
hitsound = -1
guardsound=s130,1
guard.sparkno = s7001;
ground.type = low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-9
air.velocity = -2,-9
guard.velocity = -12
yaccel = 0.47
fall = 1
fall.recover = 0
yaccel = 0.45
id = 200
p1stateno = 3600
p2stateno = 3530
kill = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -12

;---------------------[øÊ¹]
[State a];Uè
type = PlaySnd
trigger1 = animelem = 9
value = 1101,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 9
helpertype = normal ;player
name = "Cross"
ID = 3505
stateno = 3505
pos = 56,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 220,2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;===============================================================================
;Heidern's Caliburn Wave- Helper 1 (Wave)
;===============================================================================
[Statedef 3505]
type = A
ctrl = 0
anim = 3505
velset = 0,0
movetype = A
physics = N
sprpriority = 5


[State 1005, assert]
type=trans
trigger1= 1
trans=addalpha
alpha=256,256
ignorehitpause=1
;---------------------[øÊ¹]
[State a];Uè
type = null;PlaySnd
trigger1 = time = 1
value = S1,2

;---------------------[wp[]
[state a];U
type = Helper
trigger1 = animelem = 1
id = 3510
name = "zannzo"
sprpriority = 5
pos = 0,0
postype = p1
stateno = 3510
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];U
type = Helper
trigger1 = animelem = 3
id = 3510
name = "zannzo"
sprpriority = 5
pos = 35,0
postype = p1
stateno = 3510
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];U
type = Helper
trigger1 = animelem = 5
id = 3510
name = "zannzo"
sprpriority = 5
pos = 69,0
postype = p1
stateno = 3510
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];U
type = Helper
trigger1 = animelem = 7
id = 3510
name = "zannzo"
sprpriority = 5
pos = 120,0
postype = p1
stateno = 3510
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a];U
type = Helper
trigger1 = animelem = 9
id = 3500
name = "zannzo"
sprpriority = 5
pos = 144,0
postype = p1
stateno = 3505
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
trigger2 = frontedgedist < -100

[state a]
type = destroyself
trigger1 = parent, stateno = 3230
;===============================================================================
;Heidern's Caliburn Wave - Helper 2 (Hit)
;===============================================================================
[Statedef 3510]
type = S
ctrl = 0
anim = 3510
velset = 0,0
movetype = A
physics = N
sprpriority = 2

[state a]
type = Trans
trigger1 = 1
trans = add
;---------------------[GtFNg]
[State a]
type = EnvColor
trigger1 = movehit = 1
;persistent = 0
;ignorehitpause = 1
time = 1
value = 255,0,0
under = 2

;---------------------[U]
[State 210, 2]
type = HitDef
trigger1 = hitcount <= 2
attr = S, HP
animtype  = hard
damage    = 20,2
priority = 8, Hit
getpower = 0,0
hitflag = MAFD
guardflag = M
pausetime = 4,4
guard.pausetime = 4,4
sparkno = -1
sparkxy = -10, -80
hitsound = S3,1;
guardsound=s130,1
guard.sparkno = s7001;
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4,-7.2
air.velocity = -4.5,-7.2
yaccel = 0.47
fall = 1
fall.recover = 0
ID = 3005
nochainID = 9999

[State 1005, HitSpark]
type=Helper
trigger1=movecontact=1 && numtarget
trigger1=(enemynear, movetype=H) && !(target, time)
helperType=Normal
stateNo=ifElse(MoveGuarded, 8001, 8005)
ID=8000
name="Spark"
postype = p1
pos= ceil(p2dist x),-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0
;===============================================================================
;Heidern's Caliburn Finish
;===============================================================================
[Statedef 3600]
type    = S
movetype= A
physics = N
anim = 3520
juggle  = 8
velset = 0,0
sprpriority = 2

;---------------------[o]
[State 1];JÅè
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[GtFNg]
[state a]
type = removeexplod
trigger1 = animelem = 1
id = 3000


[State 1055, HitSound]
type=playsnd
trigger1=time=0
value = 3,0

[State explod];
type = Explod
trigger1 = animelemtime(5) = 27
anim = 17008
ID = 17008
sprpriority = 10
postype = p1
pos = 56,-64
vel = 0,0
bindtime = 1
supermove = 0
under = 0
ownpal = 1

[State explod];
type = Explod
trigger1 = animelemtime(5) = 65
anim = 3526
id = 3526
sprpriority = -5
postype = p1
pos = 55,-80
vel = 0,0
bindtime = 1
supermove = 0
under = 0
trans = add
alpha = 256,256
ownpal = 1

[State explod];
type = Explod
trigger1 = animelem = 13
anim = 17008
ID = 3521
sprpriority = 10
vfacing = -1
postype = p1
pos = -66,-83
vel = 0,0
bindtime = 1
supermove = 0
under = 0
trans = add
alpha = 256,256
ownpal = 1

[state a]
type = removeexplod
trigger1 = animelem = 12
id = 3521

[State a]
type = EnvColor
trigger1 = time = 0
trigger2 = animelemtime(5) = 27
trigger3 = animelemtime(5) = 65
ignorehitpause = 1
time = 1
value = 255,0,0
under = 0

;---------------------[wp[]
[state a];
type = Helper
trigger1 = time = 0
id = 3525
name = "cut"
pos = 55,-80
postype = p1
stateno = 3525
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
;---------------------[TEh]
[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(5) = 27
value = 3, 1
pan = 99

[State 810, Grab Sound];
type = PlaySnd
trigger1 = animelemtime(5) = 65
value = 2, 11


[State 200, Common sound]
type = PlaySnd
trigger1 = animelem = 13
value = 1,5
;---------------------[Ú®]

;---------------------[o]
[State 210, Width];æÊ[Ìµßµ»è
type = Width
trigger1 = time = 0
edge = 60,0

;---------------------[è§ä]
[state a]
type = targetbind
trigger1 = time = 1
pos = 52,0

[State 210, 1]
type = HitDef
trigger1 = animelemtime(5) = 80
attr = S, HA
damage = 240
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 9, Hit
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = -1
sparkxy = -1, -1
hitsound = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
p2stateno = 3531

[State 0, HitAdd]
type = HitAdd
trigger1 = animelemtime(5) = 27 
value = 1

[state a]
type = targetlifeadd
trigger1 = time = 0
trigger2 = animelemtime(5) = 27
value = -35
kill = 0
numhits = 0

;---------------------[§¿Xe[gÉßé]
[state a]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;(HELPER)
[Statedef 3525]
type = A
ctrl = 0
anim = 3525
velset = 0,0
movetype = A
physics = N
sprpriority = 5

[State 1055, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

;---------------------[§ß]
[state a]
type = angledraw
trigger1 = animelem = 2,<0
scale = 0.4 + time * 0.1,0.4 + time * 0.1

[state a]
type = Trans
trigger1 = 1
trans = add
alpha = 256,256


;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 3530]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = posset
trigger1 = time = 0
y = 0


[State 0, NotHitBy]
type = NotHitBy
triggerall = enemy,authorname!="Falcon Rapper"&&enemy,name!="Heidern"
triggerall = enemy, stateno!=3600
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
;---------------------[o]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3530
;---------------------[Ú®]

[State a]
type = selfstate
Trigger1 = time = 150
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;(ENEMY)
[Statedef 3535]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[o]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3530

;---------------------[Ú®]

[State a]
type = selfstate
Trigger1 = time = 150
value = 0
ctrl = 1

;---------------------------------------------------------------------------

;(ENEMY)
[Statedef 3531]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

;---------------------[o]
[State 700, 2];³GÌóÔðìé
type = NotHitBy
trigger1 = 1
value = SCA

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3531

;---------------------[¬x]
[state a];28
type = velset
trigger1 = time = 1
x = -1
y = -28

[state a]
type = velmul
trigger1 = time >= 1
trigger1 = vel x <= -4
x = 0.95

[State 821, 1]
type = VelAdd
Trigger1 = time >= 1
y = .48

;---------------------[o]
[State 1];JÅè
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[Xe[gÚs]
[State 821, 3]
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;===============================================================================
; Ikari Judgement!
;===============================================================================
[Statedef 3700]
type = S
movetype = A
physics = N
anim = 3700
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -3000
facep2 = 1

[State 3000, No Corner Push]
type=VarSet
trigger1=time=3
fvar(5)=0
[State 3000, Unguardable]
type=null;VarSet
trigger1=time=3 && NumEnemy
trigger1=(EnemyNear, StateNo !=[120,155])
var(17)=47
[State 3000, Super Cancel Flag]
type=VarSet
trigger1=!Time
var(21)=(PrevStateNo=[1000,2999]) && var(6)
[State 3000, Hyper Cancel Flag]
type=VarSet
trigger1=!Time
var(22)=((prevstateno=[3000,4999]) && var(7)) || var(20)

[State 3000, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8520
ID=8500
name="Superpause FX"
posType=P1
pos = 0,-45
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
[State 3300, SuperPause FX]
type=Helper
trigger1=time=3
helperType=Normal
stateNo=8525
ID=8500
name="Superpause FX"
posType=left
pos=22,-132
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1

[State 3000, SuperPause]
type=SuperPause
trigger1=!time
time=50
moveTime=50
p2DefMul=1
unHittable=1
anim=-1
sound=s8500,1
darken=0
poweradd=0

[State 0, AfterImage] ;Omg AFTERIMAGES!
type = AfterImage
trigger1 = AnimElemTime(3) = 0
time = 21
length = 4
framegap = 3
timegap = 3
trans = add1
palcontrast = 120,120,255
paladd = 0,0,0
palmul = 1,1,1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
trigger1 = prevstateno = [1100,1110]
value = -1000

[State -2, PalFX]
type = PalFX
trigger1 = prevstateno = [1100,1110]
trigger1 = time < 17
time = 1
add = 255,255,255
sinadd = 0,0,0
invertall = 0
color = 256
ignorehitpause = 1
persistent = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1105

[State 0, Explod]
type = Explod
trigger1 = MoveHit
trigger1 = NumTarget
trigger1 = Target, IsHelper = 0
anim = 17008
ID = 17008
pos = -15, -85
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 7
removeongethit = 0
persistent = 0
ignorehitpause = 1
ownpal = 1


[State 100, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 100, Step snd]
type = PlaySnd
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 8 || AnimElem = 10
value = 100,Ifelse((AnimElem = 4),1,0)
channel = 5

[State 0, VelSet]
type = VelSet
trigger1 = time > 56
x = 5;Const(velocity.run.fwd.x)

[State 210, 1]
type = HitDef
trigger1 = p2dist x >= 0 && p2bodydist x <= 20
attr = S, HA
damage = 0
animtype = Hard
air.animtype = back
;guardflag = M
hitflag = MAF
priority = 6, Miss
sprpriority = 1
p2facing = 1
ground.velocity = 4,-6
guard.sparkNo=-1 + 0 * (var(34) :=8001)
sparkno = -1
guard.sparkno = -1
sparkxy = -15 + 0 * (var(35) :=150), var(36) := -55
hitsound = s800,0
guardsound=s130,1
p1stateno = 3710
p2stateno = 3040
p2facing = 1
numhits = 0

[State 3700,failed!]
type = ChangeState
trigger1 = !AnimTime
value = 3705

;Run Stop
[Statedef 3705]
type = S
movetype = I
physics = S
velset = 0,0

[State 0, Character's Voice]
type = PlaySnd
trigger1 = !Time
value = 200,var(40)

[State 101, Skid Snd]
type = PlaySnd
trigger1 = !Time
value = 101,0

[State 101, Skid Dust]
type = Explod
trigger1 = !Time
anim = 8104
sprPriority=3
posType = P1
pos = 28,-3
vel = 0,0
scale = 0.5,0.5
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 101, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = 3705

[State 101, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
; Ikari Judgement! 1
;===============================================================================
[Statedef 3710]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 3710

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(8) = 0
value = 1

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(8) = 0
value = 3720

[State 0, Width]
type = Width
trigger1 = AnimElemTime(1) = 0
value = 56,0

[State 0, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
time = 1
pos = 56,0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(6) = 0
time = 1
pos = 0,0,Foot

[State 0, Width]
type = Width
trigger1 = AnimElemTime(6) = 0
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 210,var(40)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 6,9

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(8) = 0
anim = 17008
ID = 17008
pos = 0,-70
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 0
ownpal = 1

[State 2150, 6]
type = PalFx
trigger1 = AnimElemTime(8) = 0
add = 255, 255, 255
time = 10

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(8) = 0
value = -32
kill = 0
absolute = 1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(8) = 0
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p2
pos = -20,-75
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3300, SuperPause FX]
type=Helper
trigger1 = AnimElemTime(9) = 10
helperType=Normal
stateNo=3725
ID=8500
name="Memories"
posType=left
pos = 2,-74
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
ignoreHitPause=1


[State 1055, HitSound]
type=playsnd
trigger1 = time = 28
value = 3700,0

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 28
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 28
flag = nomusic
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(8) = 0
value = 3,1

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 10

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10
x = -80

[State 900, 2]
type = ChangeState
trigger1 = !AnimTime
value = 3711
;===============================================================================
; Ikari Judgement! 2
;===============================================================================
[Statedef 3711]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 3711

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(16) = 0
value = 3720

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(16) = 0
value = 1

[State 0, Width]
type = Width
trigger1 = AnimElemTime(1) = 0
value = 56,0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(6) = 0
time = 1
pos = 0,0,Foot

[State 0, Width]
type = Width
trigger1 = AnimElemTime(6) = 0
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(16) = 0
value = 210,var(40)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 6,9

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(16) = 0
anim = 17008
ID = 17008
pos = -20,-70
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 0
ownpal = 1

[State 2150, 6]
type = PalFx
trigger1 = AnimElemTime(16) = 0
add = 255, 255, 255
time = 10

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(16) = 0
value = -45
kill = 0
absolute = 1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(16) = 0
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p2
pos = 0,-80
facing = -1
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3300, SuperPause FX]
type=Helper
trigger1 = AnimElemTime(9) = 10
helperType=Normal
stateNo=3726
ID=8500
name="Memories"
posType=left
pos = 2,-74
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
ignoreHitPause=1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(16) = 0
value = 3,1

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 19

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 19
x = -80

[State 900, 2]
type = ChangeState
trigger1 = !AnimTime
value = 3712
;===============================================================================
; Ikari Judgement! 3
;===============================================================================
[Statedef 3712]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 3712

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(11) = 0
value = 3720

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(11) = 0
value = 1

[State 0, Width]
type = Width
trigger1 = AnimElemTime(1) = 0
value = 56,0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(6) = 0
time = 1
pos = 0,0,Foot

[State 0, Width]
type = Width
trigger1 = AnimElemTime(6) = 0
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = 210,var(40)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 6,9

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(11) = 0
anim = 17008
ID = 17008
pos = -15,-70
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 0
ownpal = 1

[State 2150, 6]
type = PalFx
trigger1 = AnimElemTime(11) = 0
add = 255, 255, 255
time = 10

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(11) = 0
value = -37
kill = 0
absolute = 1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(11) = 0
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p2
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3300, SuperPause FX]
type=Helper
trigger1 = AnimElemTime(12) = 10
helperType=Normal
stateNo=3727
ID=8500
name="Memories"
posType=left
pos = 2,-74
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
ignoreHitPause=1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(11) = 0
value = 3,1

[State 0, Turn]
type = Turn
trigger1 = AnimElem = 13

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 13
x = -80

[State 900, 2]
type = ChangeState
trigger1 = !AnimTime
value = 3713

;===============================================================================
; Ikari Judgement! 4
;===============================================================================
[Statedef 3713]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 3713

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(12) = 0
value = 3720

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(12) = 0
trigger2 = AnimElem = 20
value = 1

[State 0, Width]
type = Width
trigger1 = AnimElemTime(1) = 0
value = 56,0

[State 0, BindToTarget]
type = BindToTarget
trigger1 = AnimElemTime(6) = 0
time = 1
pos = 0,0,Foot

[State 0, Width]
type = Width
trigger1 = AnimElemTime(6) = 0
value = 56,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 1100,var(40)

[State 5100, 10]
type = PlaySnd
trigger1 = animelem = 10
value = 1101,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 6,9

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(12) = 0
anim = 17008
ID = 17008
pos = -10,-70
postype = p2  ;p2,front,back,left,right
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 0
ownpal = 1

[State 2150, 6]
type = PalFx
trigger1 = AnimElemTime(12) = 0
add = 255, 255, 255
time = 10

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(12) = 0
value = -51
kill = 0
absolute = 1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(12) = 0
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p1
pos = 0,-80
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 3300, SuperPause FX]
type=Helper
trigger1 = AnimElemTime(9) = 10
helperType=Normal
stateNo=3728
ID=8500
name="Memories"
posType=left
pos = 2,-74
superMoveTime=255
size.xScale=1
size.yScale=1
ownPal=1
ignoreHitPause=1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(9) = 0
anim = 1105
ID = 1105
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = -1
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ignorehitpause = 0
ownpal = 1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(12) = 0
value = 3,1


[State 0, Turn]
type = Turn
trigger1 = AnimElem = 16

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 16
x = -80

[State 900, 2]
type = ChangeState
trigger1 = !AnimTime
value = 3714
;===============================================================================
; Ikari Judgement! 5 (V-Slasher End)
;===============================================================================
[Statedef 3714]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 3714

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
ignorehitpause = 1

[State 3000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = timerfreeze
flag3 = globalnoshadow
ignorehitpause = 1

[State 1055, Voice]
type=playsnd
trigger1 = AnimElemTime(5) = 0
value = 3000,var(40)

[State 3006, Explod]
type = Explod
trigger1 = AnimElemTime(8) = 0
anim = 3750
ID = 3750
pos = 120,-100
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = AnimElemTime(8) = 7
trigger2 = AnimElemTime(8) = 26
value = 3720

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(8) = 7
trigger2 = AnimElemTime(8) = 26
anim = 17008
ID = 17008
pos = 0,-75
postype = p2
facing = -1
bindtime = 1
removetime = -2
sprpriority = 4
removeongethit = 0
ownpal = 1

[State 0, HitAdd]
type = HitAdd
trigger1 = AnimElemTime(8) = 7
trigger2 = AnimElemTime(8) = 26
value = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = AnimElemTime(8) = 7
trigger2 = AnimElemTime(8) = 26
value = -65
kill = 0
absolute = 1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(8) = 7
value = 3,1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(8) = 8
value = 3750,0

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(8) = 26
value = 3750,1

[State 1055, HitSound]
type=playsnd
trigger1 = AnimElemTime(8) = 26
value = 3,1

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(8) = 7
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p2
pos = -5,-45
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 1005, HitSpark]
type=Helper
trigger1 = AnimElemTime(8) = 26
helperType=Normal
stateNo=8005
ID=8000
name="Spark"
postype = p2
pos = 5,-65
ownPal=1
size.xScale=1
size.yScale=1
pauseMoveTime=65535
superMoveTime=65535
ignoreHitPause=1
persistent=0

[State 210, 1]
type = HitDef
trigger1 = AnimElemTime(8) = 56
attr = S, HA
damage = 125
animtype = Hard
air.animtype = back
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = -1
sparkxy = -1, -1
hitsound = -1
guardsound = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
p2stateno = 3531

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(8) = 56
anim = 12000
ID = 12000
pos = 90,-85
postype = p1  ;p2,front,back,left,right
facing = 1
bindtime = 1
removetime = -2
sprpriority = 4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(8) = 56
value = 3050,0

[State 900, 2]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;===============================================================================
;Heidern End GetHit
;===============================================================================
[Statedef 3720]
type = A
movetype= H
velset = 0,0
ctrl = 0

[State 2150, 6]
type = PalFx
triggerall = enemy, stateno != 3714
trigger1 = !Time
add = 255, 255, 255
time = 10

[State 0, NotHitBy]
type = NotHitBy
triggerall = enemy,authorname!="Falcon Rapper"&&enemy,name!="Heidern"
triggerall = enemy, stateno!=[3710,3714]
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT

[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = enemy, stateno = 3710 || enemy, stateno = 3712
trigger1 = !Time
value = 3720

[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = enemy, stateno = 3711 || enemy, stateno = 3713
trigger1 = !Time
value = 3721

[State 0, ChangeAnim2]
type = ChangeAnim2
triggerall = enemy, stateno = 3714
trigger1 = !Time
value = 3722

[State 0, SprPriority]
type = SprPriority
trigger1 = AnimElemTime(5) = 0
value = -1