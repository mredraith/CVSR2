[Data]
life = 955			;Amount of life to start with
power = 3000
attack = 100		;attack power (more is stronger)
defence = 100		;defensive power (more is stronger)
fall.defence_up = 50	;Percentage to increase defense everytime player is knocked down
lieDown.time = 15		;Time which player lies down for, before getting up
airjuggle = 15		;Number of points for juggling
sparkno = s8010			;Default hit spark number for HitDefs
guard.sparkno = s8000	;Default guard spark number
KO.echo = 0			;1 to enable echo on KO
volumescale = 100			;Volume offset (negative for softer)
IntPersistIndex = 60	;Variables with this index and above will not have their values
FloatPersistIndex = 40

[Size]
xscale = 1			;Horizontal scaling factor.
yscale = 1			;Vertical scaling factor.
ground.back = 20		;Player width (back, ground)
ground.front = 16		;Player width (front, ground)
air.back = 12		;Player width (back, air)
air.front = 12		;Player width (front, air)
height = 60			;Height of player (for opponent to jump over)
attack.dist = 160		;Default attack distance
proj.attack.dist = 90	;Default attack distance for projectiles
proj.doscale = 0		;Set to 1 to scale projectiles too   
head.pos = -6, -83	;Approximate position of head
mid.pos = -6, -56		;Approximate position of midsection
shadowoffset = 0		;Number of pixels to vertically offset the shadow
draw.offset = 0,0		;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd = 3.33
walk.back = -2.78
run.fwd = 6, 0
run.back = -6, -3.5
jump.neu = 0, -9.5
jump.back = -4
jump.fwd = 4
runjump.back = -6, -9
runjump.fwd = 6, -9
airjump.neu = 0, -8.1
airjump.back = -2.55
airjump.fwd = 2.5
air.gethit.groundrecover = -0.15, -3.5
air.gethit.airrecover.mul = 0.5, 0.2
air.gethit.airrecover.add = 0, -4.5
air.gethit.airrecover.back = -1
air.gethit.airrecover.fwd = 0
air.gethit.airrecover.up = -2
air.gethit.airrecover.down = 1.5

[Movement]
airjump.num = 0
airjump.height = 0
yaccel = 0.5
stand.friction = 0.85
crouch.friction = 0.85
stand.friction.threshold = 1.0
crouch.friction.threshold = 1.0
air.gethit.groundlevel = 25
air.gethit.groundrecover.ground.threshold = -20
air.gethit.groundrecover.groundlevel = 10
air.gethit.airrecover.threshold = -1
air.gethit.airrecover.yaccel = 0.35
air.gethit.trip.groundlevel = 15
down.bounce.offset = 0, 20
down.bounce.yaccel = 0.4
down.bounce.groundlevel = 12
down.friction.threshold = 0.5

[Quotes]
victory0 = "Pfff! Waaaay too easy!"
victory1 = "I win, so you're buying dinner! First, some dim sum. Then, some more dim sum. And after that..."
victory2 = "Yummy, yummy, yummy, I put pain in your tummy!"
victory3 = "Don't forget to grab a souvenir on your way home!"
victory4 = "Sorry about that. I'll give you a discount at our restaraunt to make it up to you!"
victory5 = "Don't forget to stop by our restaraunt after you recover! Our meat dumplings rule!"
victory6 = "Did you remember to pay the bill at my restaraunt? If not, prepare for some more Kung Fu!"
victory7 = "Don't worry, my restaraunt offers plenty of delicious soups until you get your teeth replaced!"
;-----Dumplings Quote-----
victory8 = "Whew, I'm starved. It's chomping time!"
victory9 = "How about an eating contest? I'll kick your butt at that too!"
;-----Esaka Quote-----
victory10 = "Of course that wasn't REALLY drunken boxing. I'm underage!"
;-----Low Energy Quote-----
victory11 = "Oh noooo! Those were the last of my dumplings!"
;-----Time Over Quote-----
victory12 = "After going the distance, a meal at my restaraunt will recharge you're batteries!"
;-----Perfect Quote-----
victory13 = "This is the result of a deluxe daily diet of delicious dumplings!"
;-----Character Specific Quotes-----
victory20 = "Dumplings filled with imitation meat tend to suck, so you've got that in common..." ;vs. Mirror
victory21 = "You still owe me! Pay up!" ;vs. Kasumi Todo
victory22 = "I've always been a little envious of them... Of what? Uh... nothing! Nothing at all!" ;vs. Mai Shiranui
victory23 = "Since I won, treat me to some of the good stuff! It'll help my Kung Fu!" ;vs King
victory24 = "Your Kung Fu is weaksauce!" ;vs Kung Fu
victory25 = "Chinese psychic combat? Have you been eating poppies?" ;vs. Athena
victory26 = "Younger, faster, better. That's me, auntie!" ;vs. Chun Li
victory27 = "My Jian swords are way cooler than that silly looking... thing." ;vs. Guillotine Gen

; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, 1]
type = ChangeAnim
triggerall = prevstateno != 189
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = prevstateno = 905
value = 908

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = Time = 4
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050
ctrl = 0

; Crouching
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = p2dist x <0
value = 6

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
trigger2 = command != "crouchwalk"
value = 11

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = p2dist x <0
value = 6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = command = "crouchwalk"
trigger1 = anim = 11
value = 13

[State 11, 2] ;Stop moving if low velocity
type = VelSet
trigger1 = abs(vel x) < Const(movement.crouch.friction.threshold)
x = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = command = "crouchwalk"
trigger1 = anim = 13
trigger1 = (time%8)
x = .75
y = 0

; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 =1
value = SCA,AT
time = 2

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 0
value = ifelse(command = "HighJump",1.2,1)

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(20) > 6 && P2dist x > 200
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
trigger2 = var(20) > 6 && P2dist x <= 200
trigger2 = backedgebodydist > 150
sysvar(1) = -1

[State 0, Highjump CPU]
type = VarSet
triggerall = time = 0
triggerall = var(20)
trigger1 = p2dist x > 140
fv = 0
value = 1.2

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))*ifelse(fvar(0)>1,1.5,1)
y = const(velocity.jump.y)*(fvar(0))

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, Dust]
type = helper
trigger1 = !animtime
helpertype = normal
stateno = 8100
ID = 8100
name = "Dust"
postype = p1
ownpal = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

; Jump Up
[Statedef 50]
type    = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
trigger1 = fvar(0) = 1.2
value = S70,0+random%3
channel = 7

[State 0, AfterImage]
type = AfterImage
trigger1 = fvar(0) = 1.2
trigger1 = time = 0
time = 160
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((vel x)=0, 41, ifelse((vel x)>0, 42, 43))

[State 50, 3]
type = ChangeAnim
trigger1 = Vel y > Const720p(-8)
trigger1 = SelfAnimExist(anim + 3)
trigger1 = anim >= 41 && anim <= 43
persistent = 0
value = Anim + 3

[Statedef 52, Jump Land]
type    = S
physics = S
ctrl = 0
anim = 47

[State 0, NotHitBy]
type = NotHitBy
trigger1 =1
value = SCA,AT
time = 2

[State 52, Dust]
type = explod
trigger1 = !time
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1


[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, Turn]
type=ChangeAnim
trigger1= ctrl && p2dist x<0
trigger1= anim!=5
value=5

[State 52, Turn]
type=Turn
trigger1= anim=5 && animelem=1

[State 52, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Run Start
[Statedef 100]
type    = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 100, Dust]
type = helper
trigger1 = animelem = 1
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 100, 1]
type = VelSet
trigger1 = animelemtime(3)<0
x = const(velocity.walk.fwd.x)

[State 100, 1]
type = VelSet
trigger1 = animelemtime(3)>=0
x = const(velocity.run.fwd.x)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 7
value = S100,0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Ground Dust]
type = Explod
trigger1 =animelem = 4 || animelem =6
anim =840
ID =840
pos = -10,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101, Jump]
type = ChangeState
trigger1 = var(20)<=0 && command="holdup"
value = 40

[State 100, 4]
type =ChangeState
triggerall = time >=16
triggerall = var(20) >0
trigger1 = p2bodydist X <= 75
trigger2 = P2MoveType = A
trigger3 = inguarddist
value = 101

[State 100, 4]
type = ChangeState
triggerall = time >=16
triggerall = var(20) <= 0
trigger1 = command != "holdfwd"
value = 101

; Run End
[Statedef 101]
type=S
physics=S
movetype=I
anim=101
ctrl=0
sprpriority=1

[State 101, Jump]
type = ChangeState
trigger1 = var(20)<=0 && command="holdup"
value = 40

[State 101, End]
type = ChangeState
trigger1 = !animtime
value = ifelse(command="holddown",10,0)
ctrl=1

[Statedef 102]
type = S
physics = N
movetype = I
anim = 102
ctrl = 0
sprpriority = 1

[State 102, Snd]
type = playsnd
trigger1 = !time
value = 110,0

[State 102, Dust]
type = helper
trigger1 = animelem = 2
helpertype = normal
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 102, Run]
type = varset
trigger1 = !time
sysvar(1) = 1

[State 102, Run]
type = varset
triggerall = AnimElemTime(2) <= 0
trigger1 = !AIlevel && command != "holdfwd"
sysvar(1) = 0

[State 102, Run]
type = changestate
trigger1 = AnimElemTime(2) = 0 && sysvar(1)
value = 100

[State 102, Type]
type = statetypeset
trigger1 = animelemtime(2) >= 0
statetype = A
physics = N

[State 105, 1]
type = VelSet
trigger1 = AnimElem = 2
x = 6.75
y = -4

[State 105, 1]
type = VelMul
trigger1 = AnimElemTime(2) > 0
x = .98

[State 105, 1]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = 0.65

[State 102, End]
type = changestate
trigger1 = animelemtime(2) >= 0
trigger1 = pos y > -vel y
value = 103


;--- LAND ---
[Statedef 103]
type = S
physics = S
ctrl = 1
anim = 103
velset = 0, 0

[State 103, Pos]
type = posset
trigger1 = 1
y = 0

[State 103, Snd]
type = playsnd
trigger1 = !time
value = 100,0

[State 103, Dust]
type = explod
trigger1 = !time
anim = 8102
sprpriority = -3
postype = p1
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 103, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

; Hop backwards
[Statedef 105]
type    = A
physics = A
ctrl = 0
anim = 105
sprpriority = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
trigger1 = prevstateno = [900,999]
time = 24
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
trigger1 = prevstateno = [900,901]
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S40,1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 105, Dust]
type = helper
trigger1 = animelem = 2
stateno = 8103
ID = 8100
name = "Dash Dust"
postype = p1
facing = -1
pausemovetime = 255
supermovetime = 255
ownpal = 1

[State 105, 2]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

; Hop backwards (land)
[Statedef 106]
type    = S
physics = S
ctrl = 0
anim = 106

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0
x = 0

[State 106, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, Dust]
type = explod
trigger1 = !time
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 106, 5]
type = ChangeState
trigger1 = Time = 9
value = 0
ctrl = 1

; Dash Forward
[Statedef 107]
type    = S
physics = S
ctrl = 0
anim = 107

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 20
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, Step]
type = PlaySnd
trigger1 = time = 0
value = s107,0

[State 0, Ground Dust]
type = Explod
triggerall = time < 17
trigger1 =!(time%5)
anim =840
ID =840
pos = 5,7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, VelSet]
type = VelSet
trigger1 =  animelem = 5
x = 5

[State 0, VelSet]
type = VelSet
trigger1 =  animelem = 7
x = 0

[State 0, PlaySnd]
type = StopSnd
trigger1 = time = 0
trigger1 = prevstateno = [900,901]
channel = 7

[State 106, 5]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1

; Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170+random%2
velset = 0,0

[State 0, Keee]
type = PlaySnd
trigger1 = anim = 170
trigger1 = animelem = 1
value = s170,0
channel = 7

[State 0, Mooo]
type = PlaySnd
trigger1 = anim = 170
trigger1 = animelem = 16
value = s170,1
channel = 7

[State 0, Crying]
type = PlaySnd
trigger1 = anim = 171
trigger1 = animelem = 7
value = s171,0
channel = 7
persistent = 0

[State 0, Tears]
type = Explod
trigger1 = animelem = 7
trigger1 = anim = 171
trigger1 = numexplod(172) = 0
anim = 172
ID = 172
pos = -5,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 9999
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, Low Life]
type = VictoryQuote
trigger1 = !time && life < 100
trigger1 = !numexplod(905)
value = 11

[State 180, Time Over]
type = VictoryQuote
trigger1 = !time && wintime
value = 12

[State 180, Perfect]
type = VictoryQuote
trigger1 = !time && winperfect
value = 13

[State 180, VictoryQuote]
type = VictoryQuote
trigger1 = !time && life >= 100 && !winperfect && !wintime
value = 0 + (random % 8)

[State 180, Dumpling KO]
type = VictoryQuote
triggerall = !time && life >= 100 && !winperfect && !wintime
trigger1 = life < 250
value = 8 + (random % 2)

[State 180, Esaka KO]
type = VictoryQuote
triggerall = !time && life >= 100 && !winperfect && !wintime
trigger1 = numexplod(905)
value = 10

[State 180, Quote vs. Mirror]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Li Xiangfei"
value = 20

[State 180, Quote vs. Kasumi Todo]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Kasumi Todo" || enemy, name = "Kasumi Todoh"
value = 21

[State 180, Quote vs. Mai]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "cvsmai" || enemy,name = "Mai Shiranui" || enemy,name = "Shiranui Mai"
value = 22

[State 180, Quote vs. King]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "cvsking" || enemy, name = "king" || enemy, name = "masterking"|| enemy, name = "ZeroKing"
value = 23

[State 180, Quote vs. Kung-Fu]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Kung Fu Man" || enemy, name = "Kung Fu Man 720"
trigger2 = enemy, name = "Fei Long" || enemy, name = "Fei-Long"
trigger3 = enemy, name = "Yun" || enemy, name = "cvsyun"
trigger4 = enemy, name = "Gen" || enemy, name = "cvsgen" || enemy, name = "Mastergen"
trigger5 = enemy, name = "Tung Fu Rue"
trigger6 = enemy, name = "Yang" || enemy, name = "cvsyang"
trigger7 = enemy, name = "Gato"
trigger8 = enemy, name = "cvshotaru" || enemy, name = "Hotaru Futaba"
value = 24

[State 180, Quote vs. Athena]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Athena" || enemy, name = "Athena Asamiya"
trigger2 = enemy, name = "cvsathena"
value = 25

[State 180, Quote vs. Chun Li]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Chun Li" || enemy, name = "Chun-Li" || enemy, name = "cvschunli"
value = 26

[State 180, Quote vs. Guillotine Gen]
type = VictoryQuote
triggerall = numenemy
trigger1 = enemy, name = "Guillotine Gen"
value = 27

[State 180, Esaka KO]
type = changestate
trigger1 = numexplod(905)
value = 189

[State 180, Perfect]
type = changestate
trigger1 = winperfect
trigger2 = life > 600
trigger2 = matchover
trigger2 = random < 500
value = 183

[State 180, Low Energy END]
type = changestate
trigger1 = life < 100
trigger1 = matchover
value = 188

[State 180, Hungry/Dumplings]
type = changestate
trigger1 = life <= 400
trigger1 = !matchover
trigger1 = random <= ifelse(life<100,999,300)
trigger2 = matchover
trigger2 = life < 250 && life >= 100
value = 187

[State 180, 1]
type = ChangeState
triggerall = !var(5)
trigger1 = Time = 0
value = 181+(random%2)

;---------------------------------------------------------------------------

[Statedef 181, - Jian Swords]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 11
x = 0
y = -7

[State 240, Catch Sound]
type = PlaySnd
trigger1 = Time = 25
value = 1102, 0

[State 240, Whoosh Sound]
type = PlaySnd
trigger1 = Time < 24
trigger1 = !(time%6)
value = 181,5

[State 0, Jump Sound]
type = PlaySnd
trigger1 = Time =11
value = S70,0+random%3

[State 0, Hiyaaaah]
type = PlaySnd
trigger1 = animelem = 13
value = S181,0+random%2

[State -3, Landing Sound]
type = PlaySnd
trigger1 = animelem = 9
value = 40, 0

[State 0, Laugh]
type = PlaySnd
trigger1 = animelem = 33
value = S196,(0+random%2)

[State 0, Hiyaaaah]
type = PlaySnd
trigger1 = animelem = 29
value = S181,3+random%2

[State 0, Swords]
type = Explod
trigger1 =time = 0
anim =10181
ID =10181
pos = 0,-350
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,1.5
accel = 0,.5
random = 0,0
removetime = 24
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Smoke]
type = Explod
trigger1 = time = 0
anim =52
ID =52
pos = 0,-350
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Jump Dust]
type = Explod
trigger1 =time = 11
anim =53
ID =53
pos = 0,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time > 11
trigger1 = pos Y < 0
y = .4

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
physics = N         ;A,C,S,N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
statetype = S       ;S,A,C,L
movetype = I        ;I,A,H
physics = S         ;A,C,S,N

[State 0, VelSet]
type = VelSet
trigger1 = time >15
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 0, VelSet]
type = posset
trigger1 = time >15
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 0, Land Dust]
type = Explod
trigger1 = animelem = 9
anim =52
ID =52
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 300
flag = roundnotover

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 182, - Hmmph]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 4
range = 0,1

[State 0, Shine]
type = Explod
trigger1 =time = 18
trigger1 = random < 300
anim =10195
ID =10181
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S182,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Var(4) = 1
trigger1 = time = 60
value = 183

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
trigger1 = var(4) = 1
value = S183,(0+random%3)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(4) = 0 && time < 100
trigger2 = var(4) = 1 && time < 200
flag = roundnotover

[Statedef 183, - Perfect Start]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S186,0
channel = 7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = roundnotover

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 105
value = 184

[Statedef 184, - Perfect Jump]
type = S
ctrl = 0
anim = 187
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S186,1
channel = 7

[State -3, Landing Sound]
type = PlaySnd
trigger1 = anim = 186
trigger1 = animtime = -19
value = 40, 0

[State 0, Land Dust]
type = Explod
trigger1 = anim = 186
trigger1 = animtime = -77
anim =52
ID =52
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Jump Dust]
type = null;Explod
trigger1 = anim = 187
trigger1 = animtime = -19
anim =53
ID =53
pos = 0,30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .3,.3
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 186

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 186
trigger1 = AnimTime = -68
value = 187

[State 0, VelSet]
type = VelSet
trigger1 = anim = 187
trigger1 = AnimElemTime(1) = 0
x = 0
y = -6.5

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = anim = 187
trigger1 = pos Y < 0
y = .5

[State 0, VelSet]
type = VelSet
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 0, VelSet]
type = posset
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 0
physics = N         ;A,C,S,N

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 230
flag = roundnotover

[Statedef 187, - Appetite]
type = S
ctrl = 0
anim = ifelse(matchover,184,185)
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

;---------------[Balancing Act]

[State 0, Balancing Act]
type = PlaySnd
triggerall = anim = 184
trigger1 = animelem = 4
value = S184,0

[State 0, Talk]
type = PlaySnd
triggerall = anim = 184
trigger1 = animelem = 13
value = S184,1

;---------------[Food For Thought]

[State 0, Wail]
type = PlaySnd
triggerall = anim = 185
trigger1 = animelem = 4
value = S185,0

[State 0, Growl]
type = PlaySnd
triggerall = anim = 185
trigger1 = animelem = 1
value = S185,1

[State 0, Hunger Waves]
type = Explod
triggerall = anim = 185
trigger1 = animelem = 1
anim =10186
ID =10186
pos = 0,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 50
scale = .75,.55
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Thought Bubble]
type = Explod
triggerall = anim = 185
trigger1 = animelem = 4
anim =10185
ID =10185
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = 1,1
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = anim = 184
trigger1 = time < 190
trigger2 = anim = 185
trigger2 = time < 230
flag = roundnotover


[Statedef 188, - Low Energy]
type = S
ctrl = 0
anim = 188
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 0, Balancing Act]
type = PlaySnd
trigger1 = animelem = 4
value = S184,0
channel = 7

[State 0, Dropped Dumplings]
type = PlaySnd
trigger1 = animelem = 7
value = S11,5
channel = 7

[State 0, Dumplings]
type = Explod
trigger1 = animelem = 6
trigger1 = numexplod(188) = 0
anim = 10188
ID = 188
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 9999
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 1;255,255,255
ownpal = 1
removeongethit = 0

[State 0, Crying]
type = PlaySnd
trigger1 = animelem = 17
value = s171,0
channel = 7
persistent = 0

[State 0, Tears]
type = Explod
trigger1 = animelem = 17
trigger1 = numexplod(172) = 0
anim = 172
ID = 172
pos = -5,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 9999
scale = 1,1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 255
flag = roundnotover

[Statedef 189, - Esaka KO]
type = S
ctrl = 0
anim = 908
velset = 0,0

[State 181,CAMERA]
type = helper
trigger1 = pos X != 0
trigger1 = Time = 0
name = "helper1"
id = 6001
pos = 0,0
postype = p1
stateno = 6001
helpertype = normal
ownpal = 1
keyctrl = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time < 160
flag = roundnotover

;---------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 180, That Looks Good]
type = ChangeState
triggerall = Time = 0
trigger1 = enemy, name = "Sie Kensou"|| enemy, name  = "Kensou"
trigger2 = enemy, name = "Li Xiangfei" && enemy, authorname = "Amanojaku"
trigger2 = facing = 1
value = 196

[State 180, Chow Down]
type = ChangeState
triggerall = Time = 0
trigger1 = enemy, name = "Li Xiangfei" && enemy, authorname = "Amanojaku"
trigger1 = facing = -1
trigger2 = random < 50
trigger2 = enemy, name != "Kasumi Todo" && enemy, name != "Kasumi Todoh"
trigger2 = enemy, name != "Chun Li" && enemy, name != "Chun-Li" && enemy, name != "cvschunli"
trigger2 = enemy, name != "cvsking" && enemy, name != "king" && enemy, name != "masterking" && enemy, name != "ZeroKing"
value = 197

[State 190, 1]
type = Changestate
triggerall = RoundState = 0
triggerall = time = 0
trigger1 = (enemy, name != "Kasumi Todo") && (enemy, name != "Kasumi Todoh")
trigger1 = random < 100
value = 192

[State 190, 1]
type = ChangeAnim
triggerall = RoundState = 0
triggerall = time = 0
trigger1 = enemy, name != "Kasumi Todo" && enemy, name != "Kasumi Todoh"
trigger1 = enemy, name != "Chun Li" && enemy, name != "Chun-Li" && enemy, name != "cvschunli"
trigger1 = enemy, name != "cvsking" && enemy, name != "king" && enemy, name != "masterking" && enemy, name != "ZeroKing"
value = 190 + (random%5)

[State 190, 1]
type = ChangeAnim
triggerall = RoundState = 0
triggerall = time = 0
trigger1 = enemy, name = "Chun Li" || enemy, name = "Chun-Li" || enemy, name = "cvschunli"
trigger2 = enemy, name = "cvsking" || enemy, name = "king" || enemy, name = "masterking"|| enemy, name = "ZeroKing"
value = 193 + (random%2)

;-------------Stomp

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 190
trigger1 = animelem = 3 || animelem = 9 || animelem = 13 || animelem = 19
value = S190,0
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 190
trigger1 = animelem = 3 || animelem = 9 || animelem = 13 || animelem = 19
value = S190,(3+(random%3))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 190
trigger1 = animelem = 25
value = S190,1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 190
trigger1 = animelem = 25
value = S190,2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3 || animelem = 9 || animelem = 13 || animelem = 19
trigger1 = anim = 190
anim = 10190
ID = 190
pos = 13,-72
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 1,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 9999
scale = .5,.5
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1

[state 3100, Shake]
type = EnvShake			;Shake the screen
trigger1 = anim = 190
trigger1 = AnimElem = 25
time = 23			;ticks
freq = 80			;0-180, default 60
ampl = -7			;default -4

[State 0, Land Dust]
type = Explod
trigger1 = anim = 190
trigger1 = AnimElem = 25
anim =52
ID =52
pos = 23,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

;-------------Wink

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 191
trigger1 = animelem = 7
value = S196,0
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 191
trigger1 = animelem = 6
value = S191,0

[State 0, Heart]
type = Explod
trigger1 = animelem = 7
trigger1 = anim = 191
anim = 10191
ID = 191
pos = -15,-81
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -.07,-.09
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 9999
scale = 1,1;.3,.3
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
persistent = 0

;-------------Hai Hai

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 192
trigger1 = animelem = 3
value = S192,0
channel = 7

;-------------Come On

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 193
trigger1 = animelem = 6
value = S193,0
channel = 7

;-------------?????

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 194
trigger1 = animelem = 6
value = S194,0
channel = 7

;-------------Nyaaah!

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = enemy, name = "Kasumi Todo" || enemy, name = "Kasumi Todoh"
value = ifelse(random < 300,10194,195)

[State 191, DIALOGUE]
type = helper
trigger1 = ((time = 10 && !roundsexisted) && !(teammode = simul)) && !(teammode = turns) && !(enemy, teammode = turns) && gametime
helpertype = normal
stateno = 9200
ID = 9200
postype = p1
pos = 0, 0
size.xscale = 1
size.yscale = 1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 195
trigger1 = animelem = 4
value = S195,(0 + (random % 2))
channel = 7

[State 0, Boo Boo Koo Boo]
type = PlaySnd
trigger1 = anim = 10194
trigger1 = animelem = 3
value = s906,2
channel = 7

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 191, I Want Big Boobs Too...]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 191, DIALOGUE]
type = helper
trigger1 = ((time = 10 && !roundsexisted) && !(teammode = simul)) && !(teammode = turns) && !(enemy, teammode = turns) && gametime
helpertype = normal
stateno = 9200
ID = 9200
postype = p1
pos = 0, 0
size.xscale = 1
size.yscale = 1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Chiia]
type = PlaySnd
trigger1 = animelem = 4
value = S185,2
channel = 7

[State 0, Moan]
type = PlaySnd
trigger1 = animelem = 6
value = S185,0
channel = 7

[State 0, Sweatdrop]
type = Explod
trigger1 = animelem = 4
anim =10193
ID =10193
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,.2
accel = 0,0
random = 0,0
removetime = 40
scale = 1,1
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Thought Bubble]
type = Explod
trigger1 = animelem = 6
anim =10196
ID =10196
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 120
scale = 1,1
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 0, Red X]
type = Explod
trigger1 = animelem = 6
anim =10197
ID =10197
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 120
scale = 1,1
sprpriority = 8
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 192, Not Ready]
type = S
ctrl = 0
anim = 197
velset = 0,0

[State 191, DIALOGUE]
type = helper
trigger1 = ((time = 10 && !roundsexisted) && !(teammode = simul)) && !(teammode = turns) && !(enemy, teammode = turns) && gametime
helpertype = normal
stateno = 9200
ID = 9200
postype = p1
pos = 0, 0
size.xscale = 1
size.yscale = 1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Ooh]
type = PlaySnd
trigger1 = animelem = 2
value = S5000,0
channel = 7

[State 0, Ooh]
type = PlaySnd
trigger1 = animelem = 4
value = S198,0
channel = 7

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
anim = ifelse(random < 100,10194,195)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 195
trigger1 = animelem = 4
value = S195,(0 + (random % 3))
channel = 7

[State 0, Boo Boo Koo Boo]
type = PlaySnd
trigger1 = anim = 10194
trigger1 = animelem = 3
value = s906,2
channel = 7

[State 800, 2]
type = ChangeState
triggerall = time > 20
triggerall = power>=1000
trigger1 = command = "drunken"
trigger1 = var(20)<4
trigger2 = var(20)>=4
trigger2 = random < ifelse(var(20)<7,var(20)*25,999)
trigger2 = inguarddist
value = 900

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 196, That Looks Good]
type = S
ctrl = 0
anim = 198
velset = 0,0

[State 191, DIALOGUE]
type = helper
trigger1 = ((time = 10 && !roundsexisted) && !(teammode = simul)) && !(teammode = turns) && !(enemy, teammode = turns) && gametime
helpertype = normal
stateno = 9200
ID = 9200
postype = p1
pos = 0, 0
size.xscale = 1
size.yscale = 1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Chiia]
type = PlaySnd
trigger1 = animelem = 4
value = S185,2
channel = 7

[State 0, Growl]
type = PlaySnd
trigger1 = animelem = 5
value = S185,1

[State 0, Growl]
type = PlaySnd
trigger1 = animelem = 11
value = S199,1

[State 0, Growl]
type = PlaySnd
trigger1 = animelem = 12
value = S199,0

[State 0, Hunger Waves]
type = Explod
trigger1 = animelem = 5
anim =10186
ID =10186
pos = -9,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 50
scale = .75,.55
sprpriority = 7
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 197, Chow Down]
type = S
ctrl = 0
anim = 199
velset = 0,0

[State 191, DIALOGUE]
type = helper
trigger1 = ((time = 10 && !roundsexisted) && !(teammode = simul)) && !(teammode = turns) && !(enemy, teammode = turns) && gametime
helpertype = normal
stateno = 9200
ID = 9200
postype = p1
pos = 0, 0
size.xscale = 1
size.yscale = 1
ownpal = 0
persistent = 0
ignorehitpause = 1

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Chomp]
type = PlaySnd
trigger1 = animelem = 40
value = s199,2
channel = 7

[State 0, Gulp]
type = PlaySnd
trigger1 = animelem = 55
value = s199,3
channel = 7

[State 190, 1]
type = ChangeAnim
triggerall = anim = 199
trigger1 = animelem = 57
value = 193 + (random%2)
elem = 4

;-------------Come On

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 193
trigger1 = animelem = 6
value = S193,0
channel = 7

;-------------?????

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 194
trigger1 = animelem = 6
value = S194,0
channel = 7

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Stand Jab
[Statedef 200]
type    = S			;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A			;Move-type: A-attack, I-idle, H-gethit
physics = S			;Physics: S-stand, C-crouch, A-air
juggle  = 1			;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0			;Set velocity (x,y) (Def: no change)
ctrl = 0			;Set ctrl (Def: no change)
anim = 200			;Change animation (Def: no change)
poweradd = 20			;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 700
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = !var(16) && (var(15) < 1 || var(28))
trigger1 = Time = 0
attr = S, NA			;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 10, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 6		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 55), var(36) := -82
hitsound = s2, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-2		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air

[State 200, Stand Jab2]
type = ChangeState
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = (time = [5,11])
value = 205

[State 200, Stand Strong]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 210

[State 200, Stand Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = anim != 235
triggerall = var(20)<4
trigger1 = movecontact
value = 245

[State 200, Stand Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 220

[State 200, Stand Roundhouse2]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 255

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 205, - Stand Jab2]
type    = S			;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A			;Move-type: A-attack, I-idle, H-gethit
physics = S			;Physics: S-stand, C-crouch, A-air
juggle  = 0			;Number of air juggle points move takes
;Commonly-used controllers:
velset = 0,0			;Set velocity (x,y) (Def: no change)
ctrl = 0			;Set ctrl (Def: no change)
anim = 205			;Change animation (Def: no change)
poweradd = 40			;Power to add (Def: 0)
sprpriority = 2			;Set layering priority to 2 (in front)

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 150			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 800
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA			;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 15, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 6		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 46), var(36) := -65
hitsound = s3, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 12		;Time that the opponent slides back
ground.hittime  = 16		;Time opponent is in hit state
ground.velocity = -3		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-2		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air


[State 200, Stand Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 215

[State 200, Stand Fierce2]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 225

[State 200, Stand Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 250

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Strong
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 2
value = S1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 8			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,8
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 43), var(36) := -68
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 13
ground.velocity = -4.7
air.velocity = -2,-2.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Stand Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = time > 7 && time < 13
value = 215

[State 200, Stand Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 220

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 215, - Stand Strong2]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 125
ctrl = 0
velset = 0,0
anim = 215

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 8			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random < 800
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 1
value = S1,1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = ifelse(prevstateno = 210,12,17),0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,8
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 46), var(36) := -68
hitsound   = s3,1
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -4.7
air.velocity = -2,-2.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Stand Fierce2]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 225

[State 200, Stand Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 250

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Fierce

[Statedef 220, Stand Fierce]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 220

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 39
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 59), var(36) := -60
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -5.5
air.velocity = -2.5,-3

[State 200, Stand Fierce2]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 225

[State 200, Overhead Kick]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 255

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 225, - Stand Fierce2]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 125
ctrl = 0
velset = 0,0
anim = 225

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 6
trigger1 = random < 800
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 5
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = ifelse(prevstateno = 220,20,34),0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 64), var(36) := -43
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 21
ground.velocity = -5.5
air.velocity = -2.5,-3

[State 200, Spin Forward]
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
trigger1 = time < 23
value = 240

[State 220, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Short
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 22
ctrl = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time = 0
value = 230
elem = ifelse(prevstateno = 230,2,1)

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 800
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NA			;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 14, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = M			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 6		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := ifelse(p2statetype = C,43,58)), var(36) := ifelse(p2statetype = C,-53,-81)
hitsound = s3, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime =8		;Time that the opponent slides back
ground.hittime  = 15		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-2		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air


[State 200, Stand Forward]
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 240

[State 200, Stand Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 215

[State 200, Stand Fierce2]
type = ChangeState
triggerall = command = "z"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 225

[State 200, Stand Short]
type = ChangeState
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = time > 8
value = 230

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 11
value = 1

[State 0, CtrlSet]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Forward
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = ifelse(prevstateno = 225,235,240)

[State 0, Width]
type = Width
trigger1 = anim = 240
trigger1 =time > 12 && time < 23
value = 25,10

[State 0, Voice]
type = PlaySnd
trigger1 = anim != 235
trigger1 = animelem = 5
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = anim != 235
trigger1 = animelem = 4
value = S1,1

[State 0, Voice]
type = PlaySnd
trigger1 = anim = 235
trigger1 = animelem = 3
trigger1 = random < 800
value = S7,5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = anim = 235
trigger1 = animelem = 4
value = S1,1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = anim = 240
attr = S, NA
animtype  = Medium
damage    = 27
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,8
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 42), var(36) := -94
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 13
ground.velocity = -4.7
air.velocity = -2,-2.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = anim = 235
attr = S, NA
animtype  = Medium
damage    = 47
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 8,10
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 71), var(36) := -65
hitsound   = s3,1
guardsound = s0,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 13
ground.velocity = -1.7
air.velocity = -2,-3.5
guard.sparkno = -1 + 0*(var(34):=8001)
p2stateno = 246
getpower = 200,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 200, Stand Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = command != "holddown"
triggerall = anim != 235
triggerall = var(20)<4
trigger1 = movecontact
value = 245

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 245, - Stand Forward2]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 125
ctrl = 0
velset = 0,0
anim = 245

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random < 800
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 20
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,8
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 79), var(36) := -65
hitsound   = s3,1
guardsound = s0,0
ground.type = High
ground.slidetime = 13
ground.hittime  = 16
ground.velocity = -4.7
air.velocity = -2,-2.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Trip Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 250

[State 240, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 246, - P2 State]
type = A
movetype = H
physics = N
velset = -.5,0

[State 1521, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 246

[State 1301, Spin Speed]
type = AngleAdd
trigger1 = vel y
value = -20

[State 1301, Spinner]
type = AngleDraw
trigger1 = 1

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .6

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time = 0
y = -10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 7			;ticks
freq = 150			;0-180, default 60
ampl = -5

[State 1522, 4] ;Hit ground
type = SelfState
Triggerall = time > 10
trigger1 = Pos Y  >= -20
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
; Stand Roundhouse
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 250

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 4
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 11
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 10
x = -11
y = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = prevstateno != 245
attr = S, NA
animtype  = Hard
damage    = 45
guardflag = L
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 82), var(36) := ifelse(p2dist x <=70,-9,-3)
hitsound   = s2,2
guardsound = s0,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = prevstateno = 245
attr = S, NA
animtype  = Hard
damage    = 45
guardflag = L
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 82), var(36) := ifelse(p2dist x <=70,-9,-3)
hitsound   = s2,2
guardsound = s0,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -2.5,-3
air.velocity = -2.5,-4
fall = 1
fall.recover = 0
getpower = 200,0

[State 200, Overhead Kick]
type = ChangeState
triggerall = command = "c"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
trigger1 = time < 25
value = 255

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 255,- Overhead Kick]
type    = A
physics = A
movetype= A
ctrl = 0
anim = 255
poweradd= 125

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random < 800
value = S8,4+random%2
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 4
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -8
ignorehitpause = 1
persistent = 0

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = 2.5
y = -4

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Hard
damage    = 19
guardflag = H
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 60), var(36) := -47
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -11
air.velocity = -2.5,-4
ground.cornerpush.veloff = -17
guard.cornerpush.veloff = -20

[State 0, Ground Dust]
type = Explod
trigger1 =time = 0
anim =840
ID =840
pos = 5,7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Ground Dust]
type = Explod
trigger1 =time = 0
anim =840
ID =840
pos = -30,7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

; Crouch Jab
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 15
ctrl = 0
anim = 400

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 800
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = C, NA                    ;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 10, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L		;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 28), var(36) := -61
hitsound = s2, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -3		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air

[State 200, Crouch Jab2]
type = ChangeState
triggerall = command = "x"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = time > 4 && time < 11
value = 405

[State 200, Stand Jab2]
type = ChangeState
triggerall = command = "x"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = time > 4 && time < 11
value = 205

[State 200, Crouch Strong]
type = ChangeState
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 410

[State 200, Crouch Forward]
type = ChangeState
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 440

[State 200, Stand Strong]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 210

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 405, - Crouch Jab2]
type    = C
movetype= A
physics = C
juggle  = 0
poweradd= 30
ctrl = 0
anim = 405

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 800
value = S6,0+random%3
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = C, NA                    ;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 15, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L		;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 33), var(36) := -51
hitsound = s2, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -3		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air

[State 200, Crouch Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 415

[State 200, Crouch Forward]
type = ChangeState
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 440

[State 400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Strong
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 50
ctrl = 0
anim = 410

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 2
value = S1,1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Medium
damage    = 23,0
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,10
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 31), var(36) := -53
hitsound   = s2,1
guardsound = s0,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 13
ground.velocity = -4.7
air.velocity = -2,-3.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Crouch Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = time > 10 && time < 20
trigger2 = movecontact
value = 415

[State 200, Stand Strong2]
type = ChangeState
triggerall = command = "y"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 215

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 415, - Crouch Strong2]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 100
ctrl = 0
anim = 415

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random < 800
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 1
value = S1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Medium
damage    = 17,0
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,10
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 34), var(36) := -53
hitsound   = s2,1
guardsound = s0,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -2
air.velocity = -2,-3.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Crouch Strong2]
type = ChangeState
triggerall = command = "z"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 420

[State 200, Crouch Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 440

[State 410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Fierce
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 420

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = prevstateno != 415
attr = C, NA
animtype  = Hard
damage    = 39,0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -101
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 2]
type = HitDef
trigger1 = Time = 0
trigger1 = prevstateno = 415
attr = C, NA
animtype  = Up
damage    = 39,0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -101
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -.5,-8
air.velocity = -1.5,-4
fall = 1
fall.recover = 0
getpower = 200,0

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Short
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 1
poweradd= 22
ctrl = 0

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 500
value = S6,0+random%3
channel = 7

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 =  time = 0
value = 430
elem = ifelse(prevstateno = 430,2,1)

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = C, NA                    ;Attribute: Stand, Crouch, Air; Normal,Special,Hyper; Attack,Projectile,Throw
damage = 15, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = L			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0-7, 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 45), var(36) := -29
hitsound = s3,0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = Low		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = Low			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed, Y-velocity at which opponent is pushed
air.hittime = 12		;Time before opponent regains control in air

[State 200, Stand Short]
type = ChangeState
triggerall = command = "a"
triggerall = command != "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 230

[State 200, Crouch Short]
type = ChangeState
triggerall = command = "a"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = time > 5
value = 430

[State 200, Crouch Forward]
type = ChangeState
triggerall = command = "b"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 440

[State 200, Crouch Strong]
type = ChangeState
triggerall = command = "y"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 410

[State 200, Leaping Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 451

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Forward
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 3
poweradd= 22
ctrl = 0
anim = 440

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 4
value = S1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 16
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = 24
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 8
x = -40
y = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Medium
damage    = 30
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,10
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 52), var(36) := -4
hitsound   = s3,1
guardsound = s0,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 13
ground.velocity = -4.7
air.velocity = -2,-3.5
guard.sparkno = -1 + 0*(var(34):=8001)

[State 200, Leaping Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = command = "holddown"
triggerall = var(20)<4
trigger1 = movecontact
value = 451

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Sweep
[Statedef 450]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 450

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 4
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, Width]
type = Width
trigger1 =time >=0 && time <=25
value = 15,10

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 36
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = -10
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = -26
y = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
animtype  = Hard
damage    = 51
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 9,9
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 60), var(36) := -5
hitsound   = s3,2
guardsound = s0,0
ground.type = Trip
ground.slidetime = 16
ground.hittime  = 16
ground.velocity = -3,-4
air.velocity = -3,-4
guard.velocity = -6.5
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 451, - Leaping Roundhouse]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 140
ctrl = 0
anim = 451

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = N         ;A,C,S,N

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5
y = -3

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 2
value = S70,0+random%3
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 1
value = S1,2

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >5
x = -.1
y = .5

[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
animtype  = Up
damage    = 19,0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 33), var(36) := -40
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -.8,-8
air.velocity = -1.5,-4
fall = 1
fall.recover = 0

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 452

[Statedef 452, - Leaping Roundhouse 2]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 0
ctrl = 0
anim = 452

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -8
ignorehitpause = 1
persistent = 0

[State 0, Voice2]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish2]
type = PlaySnd
trigger1 = animelem = 2
value = S1,1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 3
y = -5.5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 0, Land Dust]
type = Explod
trigger1 = animelem = 1
anim =52
ID =52
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = C, NA
animtype  = Up
damage    = 19,0
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 26), var(36) := -93
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -.8,-8
air.velocity = -1.5,-4
fall = 1
fall.recover = 0

;---------------------------------------------------------------------------
; Jump Jab
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 500
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA			;Attribute: Standing, Normal Attack
damage = 15, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -50
hitsound = s2, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air
airguard.ctrltime = 60

[State 200, Jump Jab]
type = ChangeState
triggerall = command = "x"
triggerall = var(20)<4
trigger1 = movecontact
value = 600

[State 200, Jump Short]
type = ChangeState
triggerall = command = "a"
triggerall = var(20)<4
trigger1 = movecontact
value = 630

[State 200, Jump Strong]
type = ChangeState
triggerall = command = "y"
triggerall = var(20)<4
trigger1 = movecontact
value = 610

[State 200, Jump Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = var(20)<4
trigger1 = movecontact
value = 640

[State 200, Jump Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = var(20)<4
trigger1 = movecontact
value = 620

[State 200, Jump Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = var(20)<4
trigger1 = movecontact
value = 650

[State 600, 5]
type = CtrlSet
trigger1 = Time = 8
value = 1

;---------------------------------------------------------------------------
; Jump Strong
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 2
value = S1,1

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA			;Attribute: Standing, Normal Attack
animtype  = Medium
damage    = 27,0
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 42), var(36) := -89
hitsound = s2, 1			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air

[State 200, Jump Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = var(20)<4
trigger1 = movecontact
value = 640

[State 200, Jump Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = var(20)<4
trigger1 = movecontact
value = 620

[State 200, Jump Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = var(20)<4
trigger1 = movecontact
value = 650

[State 610, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Fierce
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70
ctrl = 0
anim = 620

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 2
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype  = Hard
damage    = 45
guardflag = HA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 38), var(36) := -47
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4
air.hittime = 120

[State 620, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Short
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630

[State 0, Swish]
type = PlaySnd
trigger1 = time = 1
value = S1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3			;ticks
freq = 180			;0-180, default 60
ampl = -3
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 1
trigger1 = random < 800
value = S6,0+random%3
channel = 7

[State 200, 1]
type = HitDef
trigger1 = Time = 0
attr = A, NA			;Attribute: Standing, Normal Attack
damage = 20, 0			;Damage that move inflicts, guard damage
animtype = Light		;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0 * (var(33) := 8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 52), var(36) := -48
hitsound = s3, 0			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air

[State 200, Jump Jab]
type = ChangeState
triggerall = command = "x"
triggerall = var(20)<4
trigger1 = movecontact
value = 600

[State 200, Jump Short]
type = ChangeState
triggerall = command = "a"
triggerall = var(20)<4
trigger1 = movecontact
value = 630

[State 200, Jump Strong]
type = ChangeState
triggerall = command = "y"
triggerall = var(20)<4
trigger1 = movecontact
value = 610

[State 200, Jump Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = var(20)<4
trigger1 = movecontact
value = 640

[State 200, Jump Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = var(20)<4
trigger1 = movecontact
value = 620

[State 200, Jump Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = var(20)<4
trigger1 = movecontact
value = 650

[State 630, 5]
type = CtrlSet
trigger1 = Time = 12
value = 1

;---------------------------------------------------------------------------
; Jump Forward
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = ifelse(prevstateno = 640 || prevstateno = 610,640,635)

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 700
value = S7,0+random%5
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger1 = anim = 635
attr = A, NA			;Attribute: Standing, Normal Attack
animtype  = Medium
damage    = 37,0
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 34), var(36) := -22
hitsound = s3, 1			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air

[State 200, 1]
type = HitDef
trigger1 = Time = 0
trigger1 = anim = 640
attr = A, NA			;Attribute: Standing, Normal Attack
animtype  = Medium
damage    = 47,0
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 27), var(36) := -100
hitsound = s3, 1			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 5		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -4		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-5		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air

[State 200, Jump Forward2]
type = ChangeState
triggerall = command = "b"
triggerall = anim != 640
triggerall = var(20)<4
trigger1 = movecontact
value = 640

[State 200, Jump Fierce]
type = ChangeState
triggerall = command = "z"
triggerall = var(20)<4
trigger1 = movecontact
value = 620

[State 200, Jump Roundhouse]
type = ChangeState
triggerall = command = "c"
triggerall = var(20)<4
trigger1 = movecontact
value = 650

[State 640, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

;---------------------------------------------------------------------------
; Jump Roundhouse
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70
ctrl = 0
anim = 650

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 5
trigger1 = random < 700
value = S8,0+random%4
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 4
value = S1,2

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -7
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = A, NA
animtype  = Hard
damage    = 56
guardflag = HA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 60), var(36) := -44
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -5.5
air.velocity = -2.5,-4
air.hittime = 120

[State 650, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

; Forward Dodge
[Statedef 700]
type = S
movetype = I
physics = N
anim = 700
velset = 0,0
ctrl = 0
sprpriority = -7

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = s700, 0

[State 240, Image Sound]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 900, 0]
type = Afterimage
trigger1 = Time = 0
time = 33
length =5
PalBright   =   0,  0,  0
PalContrast = 100,100,100
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1
timegap = 2
framegap = 1

[State 0, Turn]
type = Turn
trigger1 =  p2dist x < 0
trigger1 = time > 12

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4.5
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 13
x = 0
y = 0

[State 900, 2]
type = PlayerPush
trigger1 = time <= 39
value = 0


[State 300, 1]
type = NotHitBy
trigger1 = time <=37
value = , AA,AP

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2 || animelem = 3  || animelem = 4
x = 1
y = -2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10 || animelem = 11  || animelem = 12
x = 0
y = 2

[State 200, Hop Hit]
type = ChangeState
triggerall = command = "y"
triggerall = var(20)<4
trigger1 = time >9  && time < 27
value = 701

[State 200, Slide]
type = ChangeState
triggerall = command = "c"
triggerall = var(20)<4
trigger1 = time >9  && time < 27
value = 702

[State 200, Hard Hit]
type = ChangeState
triggerall = command = "z"
triggerall = var(20)<4
trigger1 = time >9  && time < 27
value = 703

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

; - Hop Hit
[Statedef 701]
type = S
movetype = A
physics = S
anim = 701
velset = 0,0
ctrl = 0
sprpriority = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S701,0
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 6			;ticks
freq = 150			;0-180, default 60
ampl = -5
ignorehitpause = 1
persistent = 0

[State 900, 2]
type = PlayerPush
trigger1 = time <= 13
value = 0

[State 300, 1]
type = HitBy
trigger1 = pos y < 0;time <= 13
value = , AT

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 12
x = 2
y = -3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 13 || time = 15 || time = 17 ;|| time = 24
x = 2
y = 3

[State 200, 1]
type = HitDef
trigger1 = Time = 15
attr = A, NA			;Attribute: Standing, Normal Attack
animtype  = Hard
damage    = 17,0
guardflag = HA			;Flags on how move is to be guarded against
hitflag = MAF			;Flags of conditions that move can hit
priority = 3, Hit		;Attack priority: 0 (least) to 7 (most), 4 default;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8		;Time attacker pauses, time opponent shakes
sparkno = -1 + 0*(var(33):=8011)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 27), var(36) := -38
hitsound = s2, 1			;Sound to play on hit
guardsound = s0, 0		;Sound to play on guard
ground.type = High		;Type: High, Low, Trip (def: Normal)
ground.slidetime = 9		;Time that the opponent slides back
ground.hittime  = 12		;Time opponent is in hit state
ground.velocity = -7		;Velocity at which opponent is pushed
airguard.velocity = -1.9,-.8	;Guard velocity in air (def: (air.xvel*1.5, air.yvel/2))
air.type = High			;Type: High, Low, Trip (def: same as ground.type)
air.velocity = -1.4,-3		;X-velocity at which opponent is pushed,;Y-velocity at which opponent is pushed
air.hittime = 120		;Time before opponent regains control in air

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 52

; - Low Slide
[Statedef 702]
type = C
movetype = A
physics = C
anim = 702
velset = 0,0
ctrl = 0
sprpriority = -7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -8
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S702,0
channel = 7

[State 900, 2]
type = PlayerPush
trigger1 = time <= 13
value = 0

[State 300, 1]
type = HitBy
trigger1 = pos y < 0;time <= 13
value = , AT

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 13 || time = 14 || time = 15 || time = 16 || time = 17 || time = 18
x = 2
y = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 16
attr = C, NA
animtype  = Hard
damage    = 31
guardflag = L
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 7,7
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 22), var(36) := -0
hitsound   = s3,2
guardsound = s0,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 16
ground.velocity = -4,-4
air.velocity = -1.5,-4
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 11
ctrl = 1

; - Hard Hit
[Statedef 703]
type = S
movetype = A
physics = S
anim = 703
velset = 0,0
ctrl = 0
sprpriority = -7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -8
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S703,0+random%2
channel = 7

[State 900, 2]
type = PlayerPush
trigger1 = time <= 20
value = 0

[State 300, 1]
type = HitBy
trigger1 = pos y < 0;time <= 22
value = , AT

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 22 || time = 23 || time = 24 || time = 25 || time = 26 || time = 27
x = 1
y = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 25
attr = S, NA
animtype  = Hard
damage    = 39
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8012)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 49), var(36) := -44
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 19
ground.hittime  = 23
ground.velocity = -3.5
air.velocity = -2.5,-4

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Backward Dodge
[Statedef 710]
type = S
movetype = I
physics = N
anim = 710
velset = 0,0
ctrl = 0
sprpriority = -1

[State 900, 2]
type = PlayerPush
trigger1 = time <= 25
value = 0

[State 240, Image Sound]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = s710, 0

[State 300, 1]
type = NotHitBy
trigger1 = time <= 25
value = , AA,AP

[State 900, 0]
type = Afterimage
trigger1 = Time = 0
time = 30
length =5
PalBright   =   0,  0,  0
PalContrast = 100,100,100
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1
timegap = 2
framegap = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -5.5
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 10
x = 0
y = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 715]
type = S
physics = S
movetype = I
anim = 715
ctrl = 0
velset = 0, 0
sprpriority = -2

[State 715, Snd]
type = playsnd
trigger1 = !time
value = 710,0
channel = 0

[State 715, Snd]
type = playsnd
trigger1 = animelem = 1
value = 40, 0
channel = 1

[State 715, Push]
type = playerpush
trigger1 = 1
value = 0
ignoreHitPause = 1

[State 715, HB]
type = hitby
trigger1 = 1
value = SCA, AT
time = 1

[State 715, Attack]
type = changestate
trigger1 = !AIlevel && (time = [15, 25])
trigger1 = command = "x" || command = "y" || command = "z" || command = "a" || command = "b" || command = "c"
value = ifelse((command = "x" || command = "y" || command = "z"), 225, 240)

[State 715, Attack]
type = changestate
trigger1 = AIlevel && (time = [15, 25]) && numenemy
trigger1 = (enemynear, movetype != A) && (p2bodydist x = [ -60, 60]) && (p2dist y >= -60)
value = ifelse(random < 666, 225, 240)

[State 715, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

; Quick Dodge
[Statedef 720]
type = S
movetype = I
physics = N
anim = 720
velset = 0,0
ctrl = 0
sprpriority = -7

[State 900, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 300, 1]
type = NotHitBy
trigger1 = 1
value = ,AA,AP

[State 240, Image Sound]
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 900, 0]
type = Afterimage
trigger1 = Time = 0
time = 33
length =5
PalBright   =   0,  0,  0
PalContrast = 100,100,100
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
Trans = Add1
timegap = 2
framegap = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = 5
y = 0
;ignorehitpause =
;persistent =

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;==========< POWER CHARGE >==========
[Statedef 730]
type = S
physics = S
movetype = I
anim = 730
velset = 0, 0
ctrl = 0

[State 730, Power]
type = poweradd
triggerall = power < const(data.power) && power < powermax
trigger1 = !AIlevel && (command = "holdb" && command = "holdy")
trigger2 = AIlevel
value = 2 + ifelse(time < 60, 0, (time -60) / 12)


[State 730, Snd]
type = playsnd
trigger1 = !time
value = 181,1
channel = 0

[State 730, Flash]
type = palfx
trigger1 = 1
time = 1
add = 75 + ceil(sin(time / 6.0 * pi) * 75), 25 + ceil(sin(time / 6.0 * pi) * 25), 0

[State 730, FX]
type = helper
trigger1 = !numhelper(8330)
helpertype = normal
stateno = 8330
ID = 8330
name = "Power Charge"
postype = p1
pos = 0,0
pausemovetime = 65535
supermovetime = 65535
ownpal = 1

[State 730, FX]
type = helper
trigger1 = !numhelper(8331)
helpertype = normal
stateno = 8331
ID = 8331
name = "Particles"
postype = p1
pausemovetime = 65535
supermovetime = 65535
ownpal = 1

[State 730, End]
type = changestate
trigger1 = power >= const(data.power) || power >= powermax || roundstate != 2
trigger2 = !AIlevel && (command != "holdb" || command != "holdy")
trigger3 = AIlevel && (inguarddist || p2bodydist x <= 120)
value = 731
ctrl = 1


;--- END ---
[Statedef 731]
type = S
physics = S
movetype = I
anim = 731
velset = 0, 0
ctrl = 1

[State 731, Stop Snd]
type = stopsnd
trigger1 = !time
channel = 0

[State 730, Snd]
type = playsnd
trigger1 = !time && power >= const(data.power)
value = 193,0
channel = 0
persistent = 0

[State 730, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;====================< ZERO COUNTER >====================
[Statedef 750]
type = S
physics = S
movetype = I
anim = 750
velset = 0, 0
ctrl = 0
sprpriority = 2
poweradd = -1000
facep2 = 1

[State 750, Button]
type = varset
trigger1 = !time && !AIlevel
var(10) = (command = "412k")
ignorehitpause = 1

[State 750, Button AI]
type = varset
trigger1 = !time && AIlevel
var(10) = ifelse((p2statetype = A), 0, ifelse((p2statetype = C), 1, ifelse(random < 500, 0, 1)))
ignorehitpause = 1

[State 750, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 750, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 750, Snd]
type = playsnd
trigger1 = !time
value = 4,0
channel = 0

[State 750, SuperPause FX]
type = helper
trigger1 = !time
helpertype = normal
stateno = 8350
ID = 8350
name = "Zero Counter"
postype = p1
pos = 35, -83
supermovetime = 255
ownpal = 1

[State 750, Super Pause]
type = superpause
trigger1 = !time
time = 15
movetime = 15
p2defmul = 1
anim = -1
sound = s750,0
darken = 0

[State 750, End]
type = changestate
trigger1 = time >= 15
value = ifelse(var(10) = 1, 2910, 2900)



;====================< PARRY >====================
;--- STANDING ---
[Statedef 760]
type = S
physics = S
movetype = I
anim = 760
velset = 0, 0
ctrl = 0
sprpriority = 2
poweradd = 78
facep2 = 1

[State 760, HB]
type = hitby
trigger1 = 1
value = SCA, AT
time = 1

[State 760, Pause]
type = pause
trigger1 = !time
time = 15
movetime = 15
endcmdbuftime = 15
pausebg = 0

[State 760, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 760, No walking]
type = varset
trigger1 = 1
var(26) = 7

[State 760, Snd]
type = playsnd
trigger1 = !time
value = 4,0
channel = 0

[State 760, Snd]
type = playsnd
trigger1 = !time
value = 760,0
channel = 1

[State 760, Flash]
type = palfx
trigger1 = !time
add = 0, 64, 255
sinadd = 0, -64, -255, 60
time = 15

[State 760, FX]
type = explod
trigger1 = !time
anim = 8360
sprpriority = 5
postype = p1
pos = 35, -83
pausemovetime = -1
supermovetime = -1
scale = 0.5, 0.5
ownpal = 1

[State 760, Shake]
type = envshake
trigger1 = !time
time = 0
ampl = 0

[State 760, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;--- CROUCHING ---
[Statedef 761]
type = C
physics = C
movetype = I
anim = 761
velset = 0, 0
ctrl = 0
sprpriority = 2
poweradd = 78
facep2 = 1

[State 761, HB]
type = hitby
trigger1 = 1
value = SCA, AT
time = 1

[State 761, Pause]
type = pause
trigger1 = !time
time = 15
movetime = 15
endcmdbuftime = 15
pausebg = 0

[State 761, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 761, No walking]
type = varset
trigger1 = 1
var(26) = 7

[State 761, Snd]
type = playsnd
trigger1 = !time
value = 4,0
channel = 0

[State 761, Snd]
type = playsnd
trigger1 = !time
value = 760,0
channel = 1

[State 761, Flash]
type = palfx
trigger1 = !time
add = 0, 64, 255
sinadd = 0, -64, -255, 60
time = 15

[State 761, FX]
type = explod
trigger1 = !time
anim = 8360
sprpriority = 5
postype = p1
pos = 16,-57
pausemovetime = -1
supermovetime = -1
scale = 0.5, 0.5
ownpal = 1

[State 761, Shake]
type = envshake
trigger1 = !time
time = 0
ampl = 0

[State 761, End]
type = changestate
trigger1 = !animtime
value = 11
ctrl = 1


;--- JUMPING ---
[Statedef 762]
type = A
physics = N
movetype = I
anim = 762
ctrl = 0
sprpriority = 2
poweradd = 78
facep2 = 1

[State 762, HB]
type = hitby
trigger1 = 1
value = SCA, AT
time = 1

[State 762, Pause]
type = pause
trigger1 = !time
time = 15
movetime = 15
endcmdbuftime = 15
pausebg = 0

[State 762, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 762, Snd]
type = playsnd
trigger1 = !time
value = 4, 0
channel = 0

[State 762, Snd]
type = playsnd
trigger1 = !time
value = 760,0
channel = 1

[State 762, Flash]
type = palfx
trigger1 = !time
add = 0, 64, 255
sinadd = 0, -64, -255, 60
time = 15

[State 762, FX]
type = explod
trigger1 = !time
anim = 8360
sprpriority = 5
postype = p1
pos = 11,-93
pausemovetime = -1
supermovetime = -1
scale = 0.5, 0.5
ownpal = 1

[State 762, Shake]
type = envshake
trigger1 = !time
time = 0
ampl = 0

[State 762, End]
type = changestate
trigger1 = !animtime
value = 763
ctrl = 1


[Statedef 763]
type = A
physics = N
movetype = I
anim = 763
ctrl = 1

[State 763, Vel]
type = velset
trigger1 = !time
x = ifelse(vel x > 2, 2, ifelse(vel x < -2, -2, vel x))
y = ifelse(vel y < -2, vel y, -2)

[State 763, Accel]
type = gravity
trigger1 = 1

[State 763, Land]
type = changestate
trigger1 = pos y > -vel y
value = 52


;--- HELPER ---
[Statedef 765]
type = A
physics = N
movetype = I
anim = ifelse(root, statetype = C, 766, ifelse(root, statetype = A, 767, 765))
velset = 0, 0
ctrl = 0

[State 765, NHB]
type = nothitby
trigger1 = 1
value = SCA

[State 765, Bind]
type = bindtoroot
trigger1 = 1
time = -1

[State 765, Anim]
type = changeanim
triggerall = !time
trigger1 = !(root, AIlevel) && root, command = "down"
trigger2 = root, AIlevel && (root, statetype != A) && p2statetype = C
value = 766

[State 765, Anim]
type = changeanim
triggerall = !time
trigger1 = !(root, AIlevel) && root, command = "fwd"
trigger2 = root, AIlevel && anim != 766
value = ifelse((root, statetype = A), 767, 765)

[State 765, Anim]
type = changeanim
trigger1 = anim = 765 || anim = 767
value = ifelse((root, statetype = A), 767, 765)

[State 765, Disable]
type = varset
trigger1 = time >= ifelse((root, statetype = A), 7, 8)
trigger2 = facing != (root, facing)
trigger3 = !(root, ctrl)
trigger3 = (root, stateno != [760, 762]) && (root, stateno != 5120)
var(0) = 1

[State 765, Disable]
type = varset
triggerall = !(root, AIlevel)
trigger1 = (root, command = "holdback")
trigger2 = time < 4 && (root, command = "holdfwd" + root, command = "holddown") > 1
trigger3 = time >= 4 && (root, command = "holdfwd" || root, command = "holddown")
trigger4 = time >= 1 && (((anim = 765 || anim = 767) && root, command = "fwd") || (anim = 766 && root, command = "down"))
var(0) = 1

[State 765, Disable]
type = changeanim
trigger1 = var(0) = 1
value = 9741

[State 765, Standing /air]
type = reversaldef
trigger1 = !var(0) && (anim = 765 || anim = 767)
trigger1 = (root, stateno != 5120) || !(root, animtime)
reversal.attr = SCA, AA
p1stateno = 766
pausetime = 0, 0
sparkno = -1
numhits = 0

[State 765, Crouching]
type = reversaldef
trigger1 = !var(0) && anim = 766
reversal.attr = SC, AA
p1stateno = 766
pausetime = 0, 0
sparkno = -1
numhits = 0

[State 765, Disable]
type = reversaldef
trigger1 = var(0) = 1
reversal.attr =
pausetime = 0, 0
sparkno = -1
numhits = 0

[State 765, End]
type = destroyself
trigger1 = time >= 18
trigger2 = (root, movetype != I)
trigger3 = !(root, ctrl) && (root, stateno != [760, 762]) && (root, stateno != 5120)
trigger4 = (root, stateno = [760, 762]) && (root, time <= 1)


;--- Success ---
[Statedef 766]
movetype = I
ctrl = 0

[State 766, Disable]
type = varset
trigger1 = 1
var(0) = 1

[State 766, End]
type = destroyself
trigger1 = root, stateno = [760, 762]
trigger2 = time >= 2


;MAX MODE
[Statedef 770]
type = S
movetype = I
physics = S
anim = 770
ctrl = 0
velset = 0,0

[State 770, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0, 22
channel = 0

[State 770, MAX Snd]
type = PlaySnd
trigger1 = !Time
value = 770, 0

[State 770, Power Up! Text]
type = Helper
trigger1 = !Time
helperType = Normal
stateNo = 8291
ID = 8291
name = "Power Up FX"
posType = P1
pos = ceil(4 * const(size.xScale)), ceil(-62 * const(size.yScale))
facing = -1
ownPal = 1
pauseMoveTime = 255
superMoveTime = 255
ignoreHitPause = 1

[State 770, PowerAdd]
type = PowerAdd
trigger1 = AnimElem = 1
value = -1000

[State 770, PowerSet Var]
type = Varset
trigger1 = Animelem = 1
var(54) = Power

[State 770, MAX Mode Timer]
type = VarSet
trigger1 = AnimElem = 1
var(53) = 1000

[State 770, Max Meter V2]
type = Helper
helpertype = Normal
trigger1 = Animelem = 1 && !NumHelper(780)
id = 780
pos = 0,0
postype = left
name = "Max Meter"
stateno = 780
ignorehitpause = 1
ownpal = 1

[State 770, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;MAX MODE BAR HELPER
[Statedef 780]
type = S
movetype = I
physics = N
anim = 9741
sprpriority = 0
ignorehitpause = 1

[State 780, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 0,-15

[State 780, Meter BG]
type = Explod
trigger1 = !Time
anim = 780
id = 780
pos = 2,0
postype = p1
bindtime = -1
removetime = -1
scale = .5,.5
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 0

[State 780, Meter Fill]
type = Explod
trigger1 = Time = 2
anim = 781
id = 781
pos = 24,0
postype = p1
bindtime = -1
removetime = -1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 780, Meter Container]
type = Explod
trigger1 = Time = 2
anim = 782
id = 782
pos = 0,0
postype = p1
bindtime = -1
removetime = -1
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1

[State 780, ModifyExplod]
type = ModifyExplod
trigger1 = root, Var(53) > 0
id = 781
scale = (5 + root, Var(53)) / 2000.0,.5
ignorehitpause = 1

[State 780, RemoveExplod]
type = RemoveExplod
trigger1 = root, Var(53) <= 0
id = 780
ignorehitpause = 1

[State 780, RemoveExplod]
type = RemoveExplod
trigger1 = root, Var(53) <= 0
id = 781
ignorehitpause = 1

[State 780, RemoveExplod]
type = RemoveExplod
trigger1 = root, Var(53) <= 0
id = 782
ignorehitpause = 1

[State 780, DestroySelf]
type = DestroySelf
trigger1 = root, Var(53) <= 0
ignorehitpause = 1

;CUSTOM COMBO GROUND 
[Statedef 790]
type = S
physics = S
movetype = A
anim = 790
velset = 0, 0
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 790, Corner Push]
type = varset
trigger1 = time = 4
fvar(5) = 0

[State 790, Unguardable]
type = varset
trigger1 = time = 4 && numenemy
trigger1 = (enemynear, stateno != [120, 155])
var(17) = 30

[State 790, NHB]
type = nothitby
trigger1 = !time
value = SCA
time = 38

[State 790, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 790, Var]
type = varset
trigger1 = time >= 4
var(28) = 180

[State 790, Snd]
type = playsnd
trigger1 = time = 4
value = 181,0
channel = 0

[State 790, SuperPause FX]
type = helper
trigger1 = time = 4
stateno = 8400
ID = 8400
name = "Custom Combo Startup"
postype = p1
pos = 30,-52
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 790, Super Pause]
type = superpause
trigger1 = time = 4
time = 30
movetime = 30
anim = -1
sound = s790,0
p2defmul = 1
darken = 0

[State 790, AfterImage]
type = afterimage
trigger1 = !animtime
time = 2
timegap = 1
framegap = 4
length = 13
palbright = 0, 0, 0
palcontrast = 64, 128, 192
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.75, 0.75, 0.75
trans = add1

[State 790, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1


;CUSTOM COMBO AIR 
[Statedef 795]
type = A
physics = N
movetype = A
anim = 795
ctrl = 0
sprpriority = 2
poweradd = -1000

[State 795, Corner Push]
type = varset
trigger1 = time = 4
fvar(5) = 0

[State 795, Unguardable]
type = varset
trigger1 = time = 4 && numenemy
trigger1 = (enemynear, stateno != [120, 155])
var(17) = 30

[State 795, NHB]
type = nothitby
trigger1 = !time
value = SCA
time = 38

[State 795, Stop]
type = posfreeze
trigger1 = 1
value = 1

[State 795, Var]
type = varset
trigger1 = time >= 4
var(28) = 180

[State 795, Snd]
type = playsnd
trigger1 = time = 4
value = 181,0
channel = 0

[State 795, SuperPause FX]
type = helper
trigger1 = time = 4
stateno = 8400
ID = 8400
name = "Custom Combo Startup"
postype = p1
pos = 2,-90
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 795, Super Pause]
type = superpause
trigger1 = time = 4
time = 30
movetime = 30
anim = -1
sound = s790,0
p2defmul = 1
darken = 0

[State 795, AfterImage]
type = afterimage
trigger1 = !animtime
time = 2
timegap = 1
framegap = 4
length = 13
palbright = 0, 0, 0
palcontrast = 64, 128, 192
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.75, 0.75, 0.75
trans = add1

[State 795, End]
type = changestate
trigger1 = !animtime
value = 796
ctrl = 1

;CUSTOM COMBO AIR FINISH
[Statedef 796]
type = A
physics = N
movetype = I
anim = 796
ctrl = 1

[State 796, Accel]
type = gravity
trigger1 = 1

[State 796, Land]
type = changestate
trigger1 = pos y > -vel y
value = 52
;---------------------------------------------------------------------------
; Throw - Attempt
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800

[State 800, 1]
type = HitDef
Triggerall = Time = 0
trigger1 = var(20) = 0
trigger1 = command = "holdfwd"
trigger2 = var(20)
trigger2 = p2bodydist X < 10 && p2bodydist y = 0 && FrontEdgeDist < 120
attr = S, NT          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 810       ;On success, player changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 1]
type = HitDef
Triggerall = Time = 0
trigger1 = var(20) = 0
trigger1 = command = "holdback"
trigger2 = var(20)
trigger2 = p2bodydist X < 15 && p2bodydist y = 0 && BackEdgeDist < 120
attr = S, NT          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 815       ;On success, player changes to state 810
p2stateno = 825       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 810, P1 Throw Forward]
type    = S
movetype= A
physics = S
anim = 810
poweradd = 60

[State 0, Width]
type = Width
trigger1 = 1
edge = 50,30
player = 0,0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 43,0

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1102, 0

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 800,1

[State 0, Helper]
type = Helper
trigger1 = animelem = 6
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8010
pos = 47,-62
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 26
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -10
ignorehitpause = 1
persistent = 0

[State 810, damage]
type=targetlifeadd
trigger1= time = 26
value=-90

[State 0, HitSound]
type = PlaySnd
trigger1 = time = 25
value = S2,2

[State 0, HitSound]
type = PlaySnd
trigger1 = animelem = 6
value = S810,1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 815, P1 Throw Back]
type    = S
movetype= A
physics = S
anim = 815
poweradd = 60

[State 0, Width]
type = Width
trigger1 = time = 0
edge = 50,30
player = 0,0

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 3
x = 6

[State 240, Slide Sound]
type = PlaySnd
trigger1 = Time = 0
value = 810, 0

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 800,1

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1102, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 43,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 11
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8010
pos = -27,-56
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 810, damage]
type=targetlifeadd
trigger1= time = 41
value=-80

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 41
time = 10			;ticks
freq = 150			;0-180, default 60
ampl = -10
ignorehitpause = 1
persistent = 0

[State 0, HitSound]
type = PlaySnd
trigger1 = animelem = 10
value = S815,0

[State 0, HitSound]
type = PlaySnd
trigger1 = animelem = 11
value = S2,2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 820, P2 Throw Forward]
type    = S
movetype= H
physics = S
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = -3
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1113

[State 810, State End]
type = ChangeState
trigger1 = Time = 25
value = 821

[Statedef 821, - P2 Throw End]
type    = A
movetype= H
physics = N
velset = -4,-3
poweradd = 40

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

[Statedef 825, P2 Throw Back]
type    = S
movetype= H
physics = S
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
x = 7
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1113

[State 810, State End]
type = ChangeState
trigger1 = Time = 41
value = 826

[Statedef 826, - P2 Throw End]
type    = A
movetype= H
physics = N
velset = 4,-3
poweradd = 40

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

[Statedef 900, Esaka]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
poweradd = 0
anim = 900

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, Helper]
type = Helper
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
trigger2 = prevstateno = [3000,3999]
trigger3 = prevstateno = 195
helpertype = normal ;player
name = "Cancel"
ID = 2901
stateno = 2901
pos = 0,-50
postype = p1    ;p2,front,back,left,right
facing = ifelse(facing = 1,1,-1)
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
trigger2 = prevstateno = [3000,3999]
trigger3 = prevstateno = 195
value = -1000

[State 0, Helper]
type = Helper
trigger1 = numhelper(970) = 0
helpertype = normal ;player
name = "Attack Limiter"
ID = 970
stateno = 970
pos = 3338,-47
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1050, PalEX]
type = PalFX
triggerall = time%2 = 0
triggerall = time < 12
trigger1 = prevstateno = [1000,1999]
trigger2 = prevstateno = [3000,3999]
trigger3 = prevstateno = 195
time = 1
add = 220,80,0
ignorehitpause = 1

[State 240, EX Sound]
type = PlaySnd
triggerall = time = 0
trigger1 = prevstateno = [1000,1999]
trigger2 = prevstateno = [3000,3999]
trigger3 = prevstateno = 195
value = 9999, 0
channel = 14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S900,(0+(random%3))
channel = 7

[State 52, Dust]
type = explod
trigger1 = animelem = 3
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 0, VarSet]
type = VarSet
trigger1 = GetHitVar(hitcount) > 1
v = 3
value = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = anim = 900
attr = SCA,AA,AP       ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 901
time = 1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 1
v = 2
value = 0
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 3
v = 2
value = 1
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
v = 2
value = 2
persistent = 0

[State 1050, PalEX]
type = PalFX
trigger1 = animelem = 3
time = 3
add = 256,256,265
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animtime = 0
value = S905,0

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "BB"
trigger2 = var(20)>=4
trigger2 = p2dist x >100
trigger2 = time < 48 && time > 36
value = 105

[State 0, ChangeState]
type = ChangeState
trigger1 = command = "FF"
trigger2 = var(20)>=4
trigger2 = p2dist x <0
trigger3 = var(20) > 5
trigger3 = p2movetype = H
trigger3 = p2dist x > 65
value = 107

[State 0, Low]
type = ChangeState
triggerall = time > 9
trigger1 = command = "holddown"
trigger1 = var(20)<4
trigger1 = animtime = 0
trigger2 = command = "holddown"
trigger2 = var(20)<4
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger3 = var(20)>=4
trigger3 = animtime = 0
trigger3 = random < ifelse(var(20) < 7,(var(20)*25),(var(20)*70))
trigger4 = var(20)>=4
trigger4 = p2dist x < 65 && p2dist y > -70
trigger4 = p2movetype != A
trigger4 = var(2)
trigger4 = random < ifelse(var(20) < 7,(var(20)*25),(var(20)*70))
trigger5 = var(20)>=4
trigger5 = p2dist x < 65 && p2dist y > -50
trigger5 = p2movetype = H
value = 930

[State 0, High]
type = ChangeState
triggerall = time > 9
trigger1 = command = "holdup"
trigger1 = var(20)<4
trigger1 = animtime = 0
trigger2 = command = "holdup"
trigger2 = var(20)<4
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger3 = var(20)>=4
trigger3 = p2dist x < 65 && p2dist y < -70
trigger3 = p2statetype = A && p2movetype = A
trigger3 = random < ifelse(var(20) < 7,(var(20)*25),(var(20)*70))
value = 910

[State 0, Mid]
type = ChangeState
triggerall = time > 9
trigger1 = animtime = 0
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger2 = var(20)<4
value = 920

[Statedef 901, - Override]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
poweradd = 300

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "rings"
ID = 999
stateno = 999
pos = 0,-47
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = anim != 900
value = anim

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 9
add = 0,0,0
mul = 256,0,0
sinadd = -80,-80,-80,5
invertall = 0
color = 256

[State 0, Flare]
type = PlaySnd
trigger1 = time = 0
value = S902,0

[State 0, Chime]
type = PlaySnd
trigger1 = time = 0
value = S902,1

[State 0, Chime2]
type = PlaySnd
trigger1 = time = 0
value = S902,2

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Defense Down"
ID = 980
stateno = 980
pos = 3338,-47
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 1050, PalEX]
type = PalFX
trigger1 = animelem = 4
time = 3
add = 256,256,265
ignorehitpause = 1

[State 52, Dust]
type = explod
trigger1 = animelem = 4
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 1
v = 2
value = 0
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 4
v = 2
value = 1
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
v = 2
value = 2
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = time > 9
trigger1 = command = "BB"
trigger2 = var(20)>=4
trigger2 = p2dist x >= 100
value = 105

[State 0, ChangeState]
type = ChangeState
triggerall = time > 9
trigger1 = command = "FF"
trigger2 = var(20)>=4
trigger2 = p2dist x <0
value = 107

[State 0, Low]
type = ChangeState
triggerall = time > 9
trigger1 = command = "holddown"
trigger1 = var(20)<4
trigger1 = animtime = 0
trigger2 = command = "holddown"
trigger2 = var(20)<4
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger3 = var(20)>=4
trigger3 = p2dist x < 100
trigger3 = p2statetype = C || random < ifelse(var(20) < 7,(var(20)*25),(var(20)*70))
value = 930

[State 0, High]
type = ChangeState
triggerall = time > 9
trigger1 = command = "holdup"
trigger1 = var(20)<4
trigger1 = animtime = 0
trigger2 = command = "holdup"
trigger2 = var(20)<4
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger3 = var(20)>=4
trigger3 = p2dist x < 65 && p2dist y < -40
trigger3 = p2statetype = A
value = 910

[State 0, Mid]
type = ChangeState
triggerall = time > 9
trigger1 = var(20)<4
trigger1 = animtime = 0
trigger2 = command != "holdx" && command != "holdy" && command != "holdz"
trigger2 = var(20)<4
trigger3 = var(20)>=4
trigger3 = p2dist x < 100
value = 920

[Statedef 905, - KO]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = (905+random%2)

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(905) = 0
anim = 9999
ID = 905
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 9999
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Voice]
type = PlaySnd
trigger1 = time = 0
value = s800,1
channel = 7

[State 0, Ko Pa Ni Jin Ko]
type = PlaySnd
trigger1 = anim = 905
trigger1 = animelem = 9
value = s906,0
channel = 7

[State 0, Mai Da Di]
type = PlaySnd
trigger1 = anim = 906
trigger1 = animelem = 9
value = s906,1
channel = 7

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 910, - High Box]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 910

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 16
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, Width]
type = Width
trigger1 =1
value = 40,15

[State 0, Whoosh]
type = PlaySnd
trigger1 = animelem = 2
value = s1,2

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S901,0+random%3
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 15			;ticks
freq = 150			;0-180, default 60
ampl = -15
ignorehitpause = 1
persistent = 0

[State 210, Normal]
type = HitDef
triggerall = Time = 0
trigger1 = var(2) = 0
trigger1 = p2movetype != A
trigger2 = p2stateno = 960
trigger3 = p2statetype != A
attr = S, CA
animtype  = Hard
damage    = 40
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 58), var(36) := -94
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 40
ground.hittime  = 20
ground.velocity = -11.5,-4
air.velocity = -2.5,-4
getpower = 0,0

[State 210, Stun]
type = HitDef
triggerall = Time = 0
triggerall = p2stateno != 960
triggerall = p2statetype = A
trigger1 = var(2) = 1
trigger2 = var(2) = 0
trigger2 = p2movetype = A
attr = S, SA
animtype  = Hard
damage    = 60
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 58), var(36) := -94
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
;ground.velocity = -5.5
;air.velocity = -2.5,-4
p2stateno = 960
getpower = 0,0

[State 210, Guard Break]
type = HitDef
triggerall = p2stateno != 960
triggerall = p2statetype = A
trigger1 = Time = 0
trigger1 = var(2) = 2
attr = S, SA
animtype  = Hard
damage    = 80
guardflag =
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 58), var(36) := -94
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -5.5
air.velocity = -2.5,-4
p2stateno = 960
getpower = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(20) = 0
trigger1 = command = "BB"
trigger1 = movecontact
trigger2 = var(20)>=4
trigger2 = moveguarded
value = 105

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "FF"
trigger2 = var(20)>=4
trigger2 = movehit
value = 107

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 13
trigger1 = movecontact
trigger1 = WinKO
value = 905

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 940

[Statedef 920, - Mid Box]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 920

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 16
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, Width]
type = Width
trigger1 =1
value = 40,-15

[State 0, Whoosh]
type = PlaySnd
trigger1 = animelem = 2
value = s1,2

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S901,0+random%3
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 15			;ticks
freq = 150			;0-180, default 60
ampl = -15
ignorehitpause = 1
persistent = 0

[State 210, Normal]
type = HitDef
triggerall = Time = 0
trigger1 = var(2) = 0
trigger1 = p2movetype != A
trigger2 = p2statetype = A || p2dist Y < 0
attr = S, SA
animtype  = Hard
damage    = 40
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 86), var(36) := -72
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 40
ground.hittime  = 20
ground.velocity = -11.5
air.velocity = -7.5,-4
getpower = 0,0

[State 210, Stun]
type = HitDef
triggerall = Time = 0
triggerall = p2statetype != A
trigger1 = var(2) = 1
trigger2 = var(2) = 0
trigger2 = p2movetype = A
attr = S, SA
animtype  = Hard
damage    = 60
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 86), var(36) := -72
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
p2stateno = 950
air.velocity = -7.5,-4
getpower = 0,0

[State 210, Guard Break]
type = HitDef
triggerall = p2statetype != A
trigger1 = Time = 0
trigger1 = var(2) = 2
attr = S, SA
animtype  = Hard
damage    = 80
guardflag =
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 86), var(36) := -72
hitsound   = s3,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
air.velocity = -7.5,-4
p2stateno = 950
getpower = 0,0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(20) = 0
trigger1 = command = "BB"
trigger1 = movecontact
trigger2 = var(20)>=4
trigger2 = moveguarded
value = 105

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "FF"
trigger2 = var(20)>=4
trigger2 = movehit
value = 107

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 13
trigger1 = movecontact
trigger1 = WinKO
value = 905

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 940

[Statedef 930, - Low Box]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
anim = 930

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 13
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, Width]
type = Width
trigger1 =1
value = 40,15

[State 0, Whoosh]
type = PlaySnd
trigger1 = animelem = 2
value = s1,2

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S901,0+random%3
channel = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 15			;ticks
freq = 150			;0-180, default 60
ampl = -15
ignorehitpause = 1
persistent = 0

[State 210, Normal]
type = HitDef
trigger1 = Time = 0
trigger1 = var(2) = 0
trigger1 = p2movetype != A
attr = S, SA
animtype  = Hard
damage    = 40
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 75), var(36) := -32
hitsound   = s3,2
guardsound = s0,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 20
ground.velocity = -11.5
air.velocity = -7.5,-4
getpower = 0,0

[State 210, Stun]
type = HitDef
triggerall = Time = 0
trigger1 = var(2) = 1
trigger2 = var(2) = 0
trigger2 = p2movetype = A
attr = S, SA
animtype  = Hard
damage    = 80
guardflag = L
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 75), var(36) := -32
hitsound   = s3,2
guardsound = s0,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-4
;p2stateno = 960
getpower = 0,0
fall = 1
fall.recover = 0

[State 210, Guard Break]
type = HitDef
trigger1 = Time = 0
trigger1 = var(2) = 2
attr = S, SA
animtype  = Hard
damage    = 100
guardflag =
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8010)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 75), var(36) := -32
hitsound   = s3,2
guardsound = s0,0
ground.type = Low
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-4
;p2stateno = 960
getpower = 0,0
fall = 1
fall.recover = 0
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(20) = 0
trigger1 = command = "BB"
trigger1 = movecontact
trigger2 = var(20)>=4
trigger2 = moveguarded
value = 105

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger1 = command = "FF"
trigger2 = var(20)>=4
trigger2 = movehit
value = 107

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 13
trigger1 = movecontact
trigger1 = WinKO
value = 905

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 940

[Statedef 940, - Recover]
type    = S
movetype= I
physics = S
ctrl = 0
velset = 0,0
anim = 940

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 46
length = 5
timegap = 2
framegap = 1
PalBright   =   0,  0,  0
PalContrast = 100,100,100;255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
trans = add1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State 0, Hic]
type = PlaySnd
trigger1 = animelem = 9
value = S940,(0+(random%6))

[State 0, Width]
type = Width
trigger1 =time < 18
value = 40,-15

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 950, - P2 Stun]
type = S
movetype = H
Physics = S
hitcountpersist = 1

[State 312, Velocity]
type = VelSet
trigger1 = time = 17
x = -3
y = 0

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = 1
value = .8

[state 312, Stun Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 950

[state 312, StunShiver1]
type = Offset
trigger1 = time >17
trigger1 = Time%2 = 0
x = 1

[state 312, StunShiver2]
type = Offset
trigger1 = time >17
trigger1 = Time%2 = 0
x = -1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 60
statetype = L       ;S,A,C,L

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos y < 0
value = 3031

[State 3102, END]
type = SelfState
trigger1 = AnimTime = 0
value = 5110 ;5110
ctrl = 0

[Statedef 960, - P2 Air Spin]
type = A
movetype = H
physics = N
velset = 0,0

[State 1521, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 246

[State 1301, Spin Speed]
type = AngleAdd
trigger1 = time > 12
trigger1 = vel y
value = -30

[State 1301, Spinner]
type = AngleDraw
trigger1 = time>12

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time > 12
y = .5

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time = 13
x = -2
y = -6

[State 1522, 4] ;Hit ground
type = SelfState
Triggerall = time > 24
trigger1 = Pos Y  >= -20
value = 5100 ;Hit ground

[Statedef 970, - Damage Limiter]
type    = S
anim = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = p2movetype != H
trigger1 = enemy,alive

[Statedef 980, - Defense Down]
type    = S
anim = 9999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 500

[Statedef 1000, Nanpa Light]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1000,0+random%3
channel = 7
persistent = 0

[State 0, Width]
type = Width
trigger1 =time > 4 && time < 7
value = 30,-10

[State 0, Width]
type = Width
trigger1 =time >= 7 && time < 48
value = 50,-25

[State 210, 2]
type = Projectile
trigger1 = Time = 8
ProjID =1001
projanim =1001
projscale = .5,.5
projhitanim =-1
projremanim =-1
projremove = 0
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 98,-57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,SP
animtype  = Hard
damage    = 50,5
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 0,10
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = s2,2
guardsound = s0,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -7,0
air.velocity = -2.5,-3
envshake.time = 15
envshake.freq = 150
envshake.ampl = -10
guard.velocity = -15
airguard.velocity = -10,-1
guard.hittime = 15

[State 0, Helper]
type = Helper
trigger1 =  time = 8
helpertype = normal ;player
name = "Nanpa"
ID = 1002
stateno = 1002
pos = 98,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = .5,.5

[State 800, 2]
type = ChangeState
triggerall = var(20) = 0
triggerall = command = "drunken"
triggerall = power>=1000
trigger1 = (time = [1,36])
value = 900

[State 800, 2]
type = ChangeState
triggerall = var(20) = 8
triggerall = power>=1000
triggerall = (time = [15,36])
triggerall = ProjHit1001 = 1,15
triggerall = (facing = 1 && enemynear,facing = -1) || (facing = -1 && enemynear,facing = 1)
triggerall = random < 800
trigger1 = p2bodydist x < 70 && p2dist y < -30
trigger2 = p2statetype != A
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1002, - Nanpa Projectile]
type    = S
anim = 1002;9999
sprpriority = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1002,0

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5+time*-.005,.5+time*-.005

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(20*time),256

[State 0, Nanpa Glow]
type = Explod
trigger1 = time = 0
anim = 1003
ID = 1003
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
scale = .33,.33
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
ignorehitpause = 0
persistent = 0

[State 1000, HitSpark]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target, HitShakeOver)
helperType = Normal
stateNo = ifElse(MoveGuarded, 8001, 8013)
ID = 8000
name = "Spark"
posType = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)), 0
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 23

[Statedef 1010, Nanpa Medium]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Width]
type = Width
trigger1 =time > 6 && time < 11
value = 30,-10

[State 0, Width]
type = Width
trigger1 =time >= 11 && time < 48
value = 50,-25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S1000,0+random%3
channel = 7
persistent = 0

[State 210, 2]
type = Projectile
trigger1 = Time = 12
ProjID =1001
projanim =1001
projscale = .5,.5
projhitanim =-1
projremanim =-1
projremove = 0
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 98,-57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,SP
animtype  = Hard
damage    = 65,7
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 0,10
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = s2,2
guardsound = s0,0
ground.type = Low
guard.hittime = 15
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -10,0
air.velocity = -4.5,-3
envshake.time = 15
envshake.freq = 150
envshake.ampl = -10
guard.velocity = -15
airguard.velocity = -10,-1

[State 0, Helper]
type = Helper
trigger1 = time = 12
helpertype = normal ;player
name = "Nanpa"
ID = 1002
stateno = 1002
pos = 98,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0
scale = .5,.5

[State 800, 2]
type = ChangeState
triggerall = var(20) = 0
triggerall = command = "drunken"
triggerall = power>=1000
trigger1 = (time = [1,40])
value = 900

[State 800, 2]
type = ChangeState
triggerall = var(20) = 8
triggerall = power>=1000
triggerall = (time = [19,40])
triggerall = ProjHit1001 = 1,15
triggerall = (facing = 1 && enemynear,facing = -1) || (facing = -1 && enemynear,facing = 1)
triggerall = random < 800
trigger1 = p2bodydist x < 80 && p2dist y < -30
trigger2 = p2statetype != A
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1020, Nanpa Hard]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S1000,0+random%3
channel = 7
persistent = 0

[State 0, Width]
type = Width
trigger1 =time > 12 && time < 16
value = 30,-10

[State 0, Width]
type = Width
trigger1 =time >= 16 && time < 50
value = 50,-25

[State 210, 2]
type = Projectile
trigger1 = Time = 17
ProjID =1001
projanim =1001
projscale = .5,.5
projremove = 0
projhitanim =-1
projremanim =-1
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 98,-57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,SP
animtype  = Hard
damage    = 80,10
guardflag = MA
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 0,0
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = s2,2
guardsound = s0,0
guard.hittime = 15
ground.type = Low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5,-3
air.velocity = -5,-3
envshake.time = 15
envshake.freq = 150
envshake.ampl = -10
fall = 1
fall.recover = 0
guard.pausetime = 0,10
guard.velocity = -15
airguard.velocity = -10,-1

[State 0, Helper]
type = Helper
trigger1 =  time = 17
helpertype = normal ;player
name = "Nanpa"
ID = 1002
stateno = 1002
pos = 98,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0
scale = .5,.5

[State 800, 2]
type = ChangeState
triggerall = var(20) = 0
triggerall = command = "drunken"
triggerall = power>=1000
trigger1 = (time = [24,45])
value = 900

[State 800, 2]
type = ChangeState
triggerall = var(20) = 8
triggerall = power>=1000
triggerall = (time = [24,45])
triggerall = (facing = 1 && enemynear,facing = -1) || (facing = -1 && enemynear,facing = 1)
triggerall = random < 800
triggerall = ProjHit1001 = 1,15
trigger1 = p2bodydist x < 70
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1030, Nanpa EX]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, 0, -500)
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(53) > 0
var(53) = -500

[State 1050, ExFX]
type = varset
trigger1 = !time
var(25) = 31

[State 1050, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 0, -86
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = S1000,4
channel = 7
persistent = 0

[State 240, EX Sound]
type = PlaySnd
trigger1 = Time = 0
value = 9999, 0
channel = 14

[State 0, Width]
type = Width
trigger1 =time > 12 && time < 16
value = 30,-10

[State 0, Width]
type = Width
trigger1 =time >= 16 && time < 50
value = 50,-25

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = 7.5
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 17
x = 0
y = 0

[State 210, 2]
type = Projectile
trigger1 = Time = 17
ProjID =1001
projanim =1001
projscale = .5,.5
projhitanim =-1
projremanim =-1
projremove = 0
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 98,-57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,SP
animtype  = Hard
damage    = 80,10
guardflag = MA
hitflag = MAFD                    ;Flags of conditions that move can hit
;pausetime = 10,10
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = s2,2
guardsound = s0,0
ground.type = Low
guard.hittime = 5
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5,-3
air.velocity = -5,-3
envshake.time = 10
envshake.freq = 150
envshake.ampl = -10
fall = 1
fall.recover = 0
getpower = 0,0
ownpal = 1
guard.pausetime = 0,0
guard.velocity = -15
airguard.velocity = -10,-1

[State 210, 2]
type = Projectile
trigger1 = Time = 27
ProjID =1002
projanim =1001
projscale = .5,.5
projhitanim =-1
projremanim =-1
projremove = 0
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 128,-57
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,SP
animtype  = Hard
damage    = 30,5
guardflag = MA
hitflag = MAFD                    ;Flags of conditions that move can hit
;pausetime = 10,10
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = s2,2
guardsound = s0,0
ground.type = Low
guard.hittime = 15
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5,-3
air.velocity = -5,-3
envshake.time = 15
envshake.freq = 150
envshake.ampl = -10
fall = 1
fall.recover = 0
getpower = 0,0
ownpal = 1
guard.pausetime = 0,0
guard.velocity = -10
airguard.velocity = -10,-1

[State 0, Helper]
type = Helper
trigger1 =  time = 17
helpertype = normal ;player
name = "Nanpa"
ID = 1002
stateno = 1002
pos = 98,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
scale = .5,.5

[State 0, Helper]
type = Helper
trigger1 =  time = 27
helpertype = normal ;player
name = "Nanpa"
ID = 1002
stateno = 1002
pos = 128,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
scale = .5,.5

[State 800, 2]
type = ChangeState
triggerall = var(20) = 0
triggerall = command = "drunken"
triggerall = power>=1000
trigger1 = (time = [1,45])
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1100, Banhaku Kou'en]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 60
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1100,0+random%3
channel = 7
persistent = 0

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 1101       ;On success, player changes to state 810
p2stateno = 1102       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
movetype = I        ;I,A,H

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1101, - P1 Throw State]
type    = S
movetype= A
physics = N
anim = 1101
poweradd = 140

[State 240, EX Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1101, 0
channel = 7

[State 240, EX Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1102, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 45, 0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 30, 0

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 20, 0

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 7, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 0, 0

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 7

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 6
value = 1103

[State 240, Slide Sound]
type = PlaySnd
trigger1 =  AnimElem = 3
value = 810, 0

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1102, - P2 Throw State]
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1102

[Statedef 1103, - P2 Throw State 2]
type    = S
movetype= H
physics = S
velset = 14,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1103

[State 800, 2]
type = SelfState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1110, Senri Chukou M]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1110
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AT,AA
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1110,0+random%2
channel = 7

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 28
y = 0
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time>4
x = 3.5
y = 0

[State 800, 2]
type = ChangeState
triggerall = time > 1
triggerall = power>=1000
trigger1 = command = "drunken"
trigger1 = var(20) = 0
trigger2 = var(20) > 3
trigger2 = random < ifelse(var(20) < 7,(50 * (var(20) ** 2 / 64.0)),(200 * (var(20) ** 2 / 64.0)))
trigger2 = p2statetype = A || p2dist x < 0
trigger2 = time > 15
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1111

[Statedef 1111, - Action]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
movetype = I        ;I,A,H

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1100,0+random%3
channel = 7
persistent = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 1112       ;On success, player changes to state 810
p2stateno = 1113       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1112, - P1 Throw State]
type    = S
movetype= A
physics = N
anim = 1112
poweradd = 60

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1102, 0

[State 0, Width]
type = Width
trigger1 = 1
edge = 80,15
player = 15,15

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 43,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8013
pos = 91,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, HitSound]
type = PlaySnd
trigger1 = animelem = 7
value = S800,0

[State 0, HitSound]
type = PlaySnd
trigger1 = animelem = 7
value = S2,2

[State 810, State End]
type = TargetState
trigger1 = animelem = 7
value = 1114

[State 0, LifeAdd]
type = TargetLifeAdd
trigger1 = animelem = 7
value = -95

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1113, - P2 Throw State]
type    = S
movetype= H
physics = S
velset = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = -5
y = 0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1113

[Statedef 1114, - P2 Fly]
type    = A
movetype= H
physics = N

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3231

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -3
x = -13

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 1115

[Statedef 1115,- P2 Wall Bounce]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10
kill = 0

[State 191, 4]
type = EnvShake
trigger1 = Time = 0
time = 7
ampl = 3
freq = 600
phase = 600

[State 100 , 3]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[State 1025, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3232

[State 195, 2]
type = ChangeState
trigger1 = Time = 3
value = 1116

[Statedef 1116, - P2 Wall Bounce 2]
type    = A
movetype= H
physics = N

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -6
x = 3

[State 1373, 1]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1200, 2]
type = Gravity
trigger1 = 1

[State 1373, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1373, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1373, 5]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1373, 6]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1373, 7]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 1120, Senri Chukou H]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1120
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AT,AA
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S1110,0+random%2
channel = 7

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 28
y = 0
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time>13
x = 7
y = 0

[State 800, 2]
type = ChangeState
triggerall = time > 1
triggerall = power>=1000
trigger1 = command = "drunken"
trigger1 = var(20) = 0
trigger2 = var(20) > 3
trigger2 = random < ifelse(var(20) < 7,(50 * (var(20) ** 2 / 64.0)),(200 * (var(20) ** 2 / 64.0)))
trigger2 = p2statetype = A || p2dist x < 0
trigger2 = time > 22
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1121

[Statedef 1121, - Action]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
movetype = I        ;I,A,H

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1100,0+random%3
channel = 7
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 1112       ;On success, player changes to state 810
p2stateno = 1113       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1130, Senri Chukou EX]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, 0, -500)
velset = 0,0
anim = 1130
ctrl = 0
sprpriority = 2
facep2 = 1

[State 1130, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(53) > 0
var(53) = -500

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AT
time = 2

[State 1130, ExFX]
type = varset
trigger1 = !time
var(25) = 31

[State 1130, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 30, -80
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 240, EX Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 1130, (0+random%2)
channel = 7

[State 240, EX Sound]
type = PlaySnd
trigger1 = Time = 0
value = 9999, 0
channel = 14

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 28
y = 0
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time>6
x = 7
y = 0

[State 800, 2]
type = ChangeState
triggerall = time > 1
triggerall = power>=1000
trigger1 = command = "drunken"
trigger1 = var(20) = 0
trigger2 = var(20) > 3
trigger2 = random < ifelse(var(20) < 7,(50 * (var(20) ** 2 / 64.0)),(200 * (var(20) ** 2 / 64.0)))
trigger2 = p2statetype = A
trigger2 = time >=30
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1131

[Statedef 1131, - Action]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 1100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 20
movetype = I        ;I,A,H

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S1100,0+random%3
channel = 7
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
;p1facing = ifelse (command = "holdfwd", -1, 1) ;Turn if holding forwards
p2facing = 1          ;Force p2 to face player
p1stateno = 1132       ;On success, player changes to state 810
p2stateno = 1133       ;If hit, p2 changes to state 820 in player's cns
fall = 1              ;Force p2 into falling down
getpower = 0,0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1132, - P1 Throw State]
type    = S
movetype= A
physics = N
anim = 1101
poweradd = 60

[State 240, Throw Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1102, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 45, 0

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(3) < 0
pos = 30, 0

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElemTime(3) >= 0 && AnimElemTime(4) < 0
pos = 20, 0

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = 7, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 0, 0

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 7

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 6
value = 1134

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1135

[Statedef 1133, - P2 Throw State]
type    = S
movetype= H
physics = S
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1102

[Statedef 1134, - P2 Throw State 2]
type    = S
movetype= H
physics = S
velset = 14,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1103

[State 800, 2]
type = SelfState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1135, - P1 Ekisupo]
type    = S
movetype= A
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 0, Voice]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 800
value = S5,0
channel = 7

[State 0, Swish]
type = PlaySnd
trigger1 = animelem = 3
value = S1,2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 1131

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = vel y > 0
value = 1132

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 10
y = -3

[State 900, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A       ;S,A,C,L
physics = A         ;A,C,S,N

[State 210, Headbutt]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Hard
damage  = 80
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 12,12
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 45), var(36) := -67
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 21
ground.hittime  = 30
ground.velocity = -2.5,-7
air.velocity = -2.5,-7
getpower = 0,0
fall = 1
fall.recover = 0
getpower = 0,0

[State 105, 3]
type = ChangeState
triggerall  = time > 15
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

[Statedef 1200, Tenpou Zan L]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= 100
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0
[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 49,4
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -47
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-7
air.velocity = -4.5,-3
fall = 1
fall.recover = 0

[State 800, 2]
type = PlaySnd
Trigger1 = Animelem = 4
value = 1200,0
channel = 7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Time>=8
trigger1 = movehit
movetype = I        ;I,A,H

[State 800, 2]
type = ChangeState
triggerall = command = "drunken"
triggerall = time > 1
trigger1 = power>=1000
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1201

[Statedef 1201, - Rise]
type    = A
movetype= U
physics = N
juggle  = 6
anim = 1201

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x = 2
y = -5

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
y = .3

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Hard
damage    = 49,4
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 30), var(36) := -72
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-3
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
trigger1 = time > 2
Trigger1 = Vel Y > -1
value = 1202

[Statedef 1202, - Recover]
type    = A
movetype= A
physics = N
juggle  = 0
anim = 1202

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x =0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 3
statetype = A       ;S,A,C,L
movetype = I        ;I,A,H
physics = A         ;A,C,S,N

[State 105, 3]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 52

[Statedef 1210, Tenpou Zan M]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 100
velset = 0,0
anim = 1210
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Width]
type = Width
trigger1 =animelemtime(3)>=0 && animelemtime(8) < 0
value = 30,10

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 35,4
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -47
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-7
air.velocity = -4.5,-3
fall = 1
fall.recover = 0

[State 800, 2]
type = PlaySnd
Trigger1 = Animelem = 5
value = 1200,3
channel = 7

[State 800, 2]
type = ChangeState
triggerall = command = "drunken"
triggerall = time > 1
trigger1 = power>=1000
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1211

[Statedef 1211, - Rise]
type    = A
movetype= U
physics = N
juggle  = 3
anim = 1201

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x = 3
y = -6

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
y = .3

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
trigger1 = vel x > .5
x = -.1

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Hard
damage    = 49,4
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 30), var(36) := -72
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-3
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
trigger1 = time > 2
Trigger1 = Vel Y > -1
value = 1202

[Statedef 1220, Tenpou Zan H]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 100
velset = 0,0
anim = 1220
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = animelem = 5
x =10

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 49,4
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -47
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-7
air.velocity = -4.5,-3
fall = 1
fall.recover = 0

[State 800, 2]
type = PlaySnd
Trigger1 = Animelem = 5
value = 1200,1
channel = 7

[State 800, 2]
type = ChangeState
triggerall = command = "drunken"
triggerall = time > 1
trigger1 = power>=1000
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1221

[Statedef 1221, - Rise]
type    = A
movetype= U
physics = N
juggle  = 3
anim = 1201

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x = 4
y = -7

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >0
y = .3

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
trigger1 = vel x > .5
x = -.1

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Hard
damage    = 49,4
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 30), var(36) := -72
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
trigger1 = time > 2
Trigger1 = Vel Y > -1
value = 1202

[Statedef 1230, Tenpou Zan EX]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, 0, -500)
velset = 0,0
anim = 1230
ctrl = 0
sprpriority = 2
facep2 = 1

[State 1230, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(53) > 0
var(53) = -500

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 0, Width]
type = Width
trigger1 =1
value = 20,0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AT
time = 2

[State 1230, CC Reset]
type = palfx
trigger1 = !time
trigger1 = var(28) := -1
time = 1

[State 1230, ExFX]
type = varset
trigger1 = !time
var(25) = 31

[State 1230, ExFX]
type = explod
trigger1 = !time
anim = 8210
sprpriority = 3
postype = p1
pos = 0, -80
scale = 0.5, 0.5
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 240, EX Sound]
type = PlaySnd
trigger1 = Time = 0
value = 9999, 0
channel = 14

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time = 14
x =50

[State 105, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"  
posType = P1
facing = 1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 59,4
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -47
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-7
air.velocity = -4.5,-7
fall = 1
fall.recover = 0
getpower = 0,0

[State 800, 2]
type = PlaySnd
Trigger1 = Animelem = 5
value = 1200,2
channel = 7

[State 800, 2]
type = ChangeState
triggerall = command = "drunken"
triggerall = time > 1
trigger1 = power>=1000
value = 900

[State 800, 2]
type = ChangeState
triggerall = time > 13
triggerall = var(20) > 5
trigger1 = random < ifelse(var(20) < 7,(50 * (var(20) ** 2 / 64.0)),(900 * (var(20) ** 2 / 64.0)))
trigger1 = movehit
trigger1 = power>=1500
value = 900

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1221

[Statedef 1221, - Rise]
type    = A
movetype= U
physics = N
juggle  = 3
anim = 1201

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x = 4
y = -7

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >0
y = .3

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
trigger1 = vel x > .5
x = -.1

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Hard
damage    = 59,4
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno = -1 + 0 * (var(34) := 8000)
sparkxy = -10 + 0 * (var(35) := 30), var(36) := -72
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
fall = 1
fall.recover = 0
getpower = 0,0

[State 800, 2]
type = ChangeState
trigger1 = time > 2
Trigger1 = Vel Y > -1
value = 1202

[Statedef 3000, Chou Pai-Long Light]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, 0, -1000)
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,AA,AP
time = 50

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 197,0
channel = 0

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 23, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,0
darken = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S190,1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S190,2

[state 3100, Shake]
type = EnvShake			;Shake the screen
trigger1 = AnimElem = 5
time = 33			;ticks
freq = 150			;0-180, default 60
ampl = -12			;default -4

[State 0, Land Dust]
type = Explod
trigger1 = AnimElem = 5
anim =52
ID =52
pos = 23,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 210, Stun]
type = HitDef
trigger1 = Time = 0
attr = S, HA
animtype  = Hard
damage    = 200,10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 0,12
sparkno = -1 
guard.sparkno = -1 ;+ 0 * (var(34) := 2010)
sparkxy = 0,0;-10 + 0 * (var(35) := ifelse(p2dist x < 0,-14,58)), var(36) := -51
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
guard.velocity = -15.5
air.velocity = -2.5,-4
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
p2stateno = ifelse(p2statetype = A || p2dist y < 0, 3031,950)

[State 0, Hitspark]
type = Helper
trigger1 = movecontact = 1
trigger1 = p2dist x > 0
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = ifelse(movehit,8014,8000)
pos = 58,-61
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 800, 2]
type = ChangeState
triggerall = command = "Chou Pai-Long M"
triggerall = power>=1000
Trigger1 = movecontact
trigger1 = animelemtime(7) < 0
value = 3010

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3010, Chou Pai-Long Medium]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
velset = 0,0
anim = 3010
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 29
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S3010,0
channel = 7

[State 0, Jet]
type = PlaySnd
trigger1 = animelem = 4
value = s1,2

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 197,0
channel = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
x = -29
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SCA,AA,AP
time = 52

[State 0, Width]
type = Width
trigger1 =animelemtime(5)>=0 && animelemtime(8) < 0
value = 15,0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 17			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 3010, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 23, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,0
darken = 0

[State 210, Stun]
type = HitDef
trigger1 = Animelem = 5
attr = S, HA
animtype  = Hard
damage  = ifelse(prevstateno = 3000,150,200),10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 66), var(36) := -55
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 21
ground.hittime  = 30
ground.velocity = -10.5
air.velocity = -2.5,-4
getpower = 0,0

[State 800, 2]
type = ChangeState
triggerall = command = "Chou Pai-Long H"
triggerall = power>=1000
Trigger1 = movecontact
value = 3020

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3020, Chou Pai-Long Hard]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= -1000
velset = 0,0
anim = 3020
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S3020,0
channel = 7

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 197,0
channel = 0

[State 3102, END]
type = TargetFacing
trigger1 = 1
value = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 17			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 2, -72
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,0
darken = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 210, Stun]
type = HitDef
trigger1 = time = 0
attr = S, HA
animtype  = Hard
damage  = ifelse(prevstateno = 3010,150,200),10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 39), var(36) := -47
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
p2stateno = 3030       ;If hit, p2 changes to state 820 in player's cns
getpower = 0,0

[State 0, Jet]
type = PlaySnd
trigger1 = animelem = 5
value = s3020,1

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 5
x = 30
y = 0

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 6
x = 0
y = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3030, - P2 State]
type    = S
movetype= H
physics = N
velset = 0,0
facep2 = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3030

[State 800, 2]
type = ChangeState
Trigger1 = time = 12
value = 3031

[Statedef 3031, - P2 Fly]
type    = A
movetype= H
physics = N

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3231

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -4
x = -14

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 3032

[Statedef 3032,- P2 Wall Bounce]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = f7,2

[State 191, 4]
type = EnvShake
trigger1 = Time = 0
time = 12
ampl = 6
freq = 600
phase = 600

[State 100 , 3]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[State 1025, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3232

[State 195, 2]
type = ChangeState
trigger1 = Time = 3
value = 3033

[Statedef 3033, - P2 Wall Bounce 2]
type    = A
movetype= H
physics = N

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -9
x = 2.5

[State 1373, 1]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1200, 2]
type = Gravity
trigger1 = 1

[State 1373, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1373, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1373, 5]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1373, 6]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1373, 7]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;Chou Pai-Long(MAX)
[Statedef 3050]
type    = S
movetype= A
physics = N
juggle  = 6
velset = 0,0
anim = 3050
poweradd = ifelse(var(53) > 0, -1000, -2000)
ctrl = 0
facep2=1
sprpriority = 2

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 3000, Super Cancel Flag]
type = VarSet
trigger1 = !Time
var(21) = ((PrevStateNo = [1000, 2999]) && var(17)) || var(28)

[State 3000, Hyper Cancel Flag]
type = VarSet
trigger1 = !Time
var(22) = (PrevStateNo = [3000,4999]) && var(8)

[State 3000, Custom Combo Reset]
type = PalFX
trigger1 = !Time
trigger1 = !(var(28) := 0)
time = 1

[State 3000, Corner Push]
type = varset
trigger1 = time = 3
fvar(5) = 0

[State 3000, Unguardable]
type = VarSet
trigger1 = Time = 3 && NumEnemy
trigger1 = (EnemyNear, StateNo != [120,155])
var(17) = 40

[State 3000, Super Cancel Flash]
type = PalFX
trigger1 = var(21) || var(22)
trigger1 = !(Time % 2) && Time <= 12
time = 1
add = 255,255,255
ignoreHitPause = 1

[State 3000, Super Cancel Juggle]
type = VarSet
trigger1 = !Time
trigger1 = var(21) || var(22)
var(27) = 0
ignoreHitPause = 1

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8510
ID = 8500
name = "Superpause FX"
postype = p1
pos = 23, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,1
darken = 0

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 197,0
channel = 0

[State 0, Width]
type = Width
trigger1 =1
value = 15,10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S190,1
channel = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S190,2

[state 3100, Shake]
type = EnvShake			;Shake the screen
trigger1 = AnimElem = 5
time = 33			;ticks
freq = 150			;0-180, default 60
ampl = -12			;default -4

[State 0, Land Dust]
type = Explod
trigger1 = AnimElem = 5
anim =52
ID =52
pos = 23,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.1
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
persistent = 0

[State 210, Stun]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HA
animtype  = Hard
damage    = 100,10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 15,15
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno=-1 + 0*(var(34):=8001)
sparkxy = -10 + 0 * (var(35) := 155), var(36) := -54
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
guard.velocity = -15.5
air.velocity = -2.5,-4
getpower = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -15
p2stateno = ifelse(p2statetype = A || p2dist y < 0, 3031,950)

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 10
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=50,10
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 15,15
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno=-1 + 0*(var(34):=8001)
sparkxy = -10 + 0 * (var(35) := 155), var(36) := -72
hitsound = S2,2
guardsound = S6,0
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4
guard.velocity = -4
air.velocity = -2.5,-3.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -5.6
guard.cornerpush.veloff = -5.6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
forcestand = 1
kill = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 8
x = 29
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S3010,0
channel = 7

[State 0, Jet]
type = PlaySnd
trigger1 = animelem = 10
value = s1,2

[State 0, Width]
type = Width
trigger1 =animelemtime(10)>=0 && animelemtime(13) < 0
value = 15,0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 19  
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=50,10
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 20,20
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno=-1 + 0*(var(34):=8001)
sparkxy = -10 + 0 * (var(35) := 155), var(36) := -54
hitsound = S2,2
guardsound = S0,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4
guard.velocity = -4
air.velocity = -2.5,-2.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -5.6
guard.cornerpush.veloff = -5.6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
forcestand = 1
kill = 0

[State 1100, HitDef]
type = HitDef
trigger1 = AnimElem = 20  
attr = S, HA
animtype  = Heavy
air.animtype  = Back
damage=25,3
priority  = 7, Hit
hitflag = MAF
guardflag = M
pausetime = 20,20
sparkno = -1 + 0 * (var(33) := 8014)
guard.sparkno=-1 + 0*(var(34):=8001)
sparkxy = -10 + 0 * (var(35) := 155), var(36) := -54
hitsound = S2,2
guardsound = S0,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
guard.ctrltime = 20
ground.velocity = -4
guard.velocity = -4
air.velocity = -2.5,-2.5
airguard.velocity = -6.67,-1
ground.cornerpush.veloff = -5.6
guard.cornerpush.veloff = -5.6
air.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 10
envshake.ampl = 3
fall = 0
fall.recover = 0
air.fall = 1
air.recover = 0
yaccel = .5
persistent = 0
getpower = 0,0
forcestand = 1
kill = 0


[State 210, Stun]
type = HitDef
trigger1 = AnimElem = 21 
attr = S, HA
animtype  = Hard
damage  = 200,10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 20,20
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 39), var(36) := -47
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
p2stateno = 3030       ;If hit, p2 changes to state 820 in player's cns
getpower = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 19
value = S3020,0
channel = 7

[State 3102, END]
type = TargetFacing
trigger1 = 1
value = -1

[State 0, Jet]
type = PlaySnd
trigger1 = animelem = 19
value = s3020,1
channel = 6

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 19
x = 30
y = 0

[State 0, PosAdd]
type = Velset
trigger1 = animelem = 20
x = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3100, Dai Tetsujin]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, 0, -1000)
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3100, NHB]
type = nothitby
trigger1 = anim = 3100
trigger2 = anim = 3115 && animelemtime(1) < 0
time = 1
value = SCA
ignorehitpause = 1

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 0, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,0
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3100,0
channel = 7
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S905,0
persistent = 0

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 181,0
channel = 0

[State 52, Dust]
type = explod
trigger1 = AnimElem = 7
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3110

[Statedef 3150, Dai Tetsujin(Max)]
type    = S
movetype= I
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, -1000, -2000)
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3100, NHB]
type = nothitby
trigger1 = anim = 3100
trigger2 = anim = 3115 && animelemtime(2) < 0
time = 1
value = SCA
ignorehitpause = 1

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8510
ID = 8500
name = "Superpause FX"
postype = p1
pos = 0, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,1
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3100,0
channel = 7
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S905,0
persistent = 0

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 181,0
channel = 0

[State 52, Dust]
type = explod
trigger1 = AnimElem = 7
anim = 8102
ID = 8102
sprpriority = -2
postype = p1
scale = 0.5, 0.5
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3115

[Statedef 3110, - Shoulder Charge]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 13,0
anim = 3110
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = S3100,1

[State 105, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"  
posType = P1
facing = 1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 17			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 900, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = 1
x = -.1

[State 210, Hit]
type = HitDef
trigger1 = time = 0
attr = A, HA
animtype  = Hard
damage  = 230,10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 31), var(36) := -60
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 21
ground.hittime  = 30
ground.velocity = -2.5,-7
air.velocity = -2.5,-7
getpower = 0,0
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3120

[Statedef 3115, - Shoulder Charge(Max)]
type    = A
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = 13,0
anim = 3110
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time =0
value = S3100,1

[State 105, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"  
posType = P1
facing = 1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 17			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 900, 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = 1
x = 1

[State 210, Hit]
type = HitDef
trigger1 = time = 0
attr = A, HA
animtype  = Hard
damage  = 350,10
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 17,17
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 31), var(36) := -60
hitsound   = s2,2
guardsound = s0,0
ground.type = High
ground.slidetime = 21
ground.hittime  = 30
ground.velocity = -2.5,-7
air.velocity = -2.5,-7
getpower = 0,0
fall = 1
fall.recover = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3120

[Statedef 3120, - Land]
type    = A
movetype= I
physics = N
juggle  = 0
poweradd= 0
anim = 3120
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =animelem = 3
statetype = S       ;S,A,C,L
physics = S         ;A,C,S,N

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 11
ctrl = 1

[Statedef 3200, Majinga]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd = ifelse(var(53) > 0, -1000, -3000)
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = 2
facep2 = 1

[State 3150, NotHitBy]
type = NotHitBy
trigger1 = AnimElemTime(3) < 0
time = 1
value = SCA

[State 0, Width]
type = Width
trigger1 = 1
edge = 80,15
player = 15,15

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, HT          ;Attributes: Stand, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1 + 0*(var(33):=0)          ;No spark
sprpriority = 1       ;Draw in front of p2
p2facing = 1          ;Force p2 to face player
p2stateno = 3230       ;If hit, p2 changes to state 820 in player's cns
ID = 3200

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) > 0
trigger1 = p2stateno = 3230
pos = 62, 0

[State 100, 1]
type = PlaySnd
trigger1 = animelem = 2
value = s3200,0

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 192,0
channel = 0

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8520
ID = 8500
name = "Superpause FX"
postype = p1
pos = 10, -20
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,2
darken = 0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = ifelse(p2stateno = 3230,3220,3210)

[Statedef 3210, - Projectile]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3210
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3224
ID = 3224
pos = 90,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .35,.35
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 210, 2]
type = Projectile
trigger1 = Time = 0
ProjID =3211
projanim =3211
projscale = 1,1
projremove = 1
projremovetime = 10
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projpriority = 1
projsprpriority = 3
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = 0,0
postype = p1         ;p2,front,back,left,right
projshadow = 0,0,0
attr = S,HP
animtype  = Hard
damage    = 300,18
guardflag = MA
hitflag = MAFD                    ;Flags of conditions that move can hit
pausetime = 10,10
sparkno = -1 + 0*(var(33):=8013)
guard.sparkno =-1 + 0*(var(34):=8001)
sparkxy = -10,-10
hitsound   = 5,2
guardsound = s0,0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = -7,-3
air.velocity = -7.5,-3
fall = 1
fall.recover = 0
getpower = 0,0
envshake.time = 15
envshake.freq = 150
envshake.ampl = -9

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3220, - Silent Charge]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3220
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 100
value = 3229

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3220,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3220,2

[State 0, Light Gather]
type = Explod
trigger1 = time = 0
anim = 3221
ID = 3221
pos = 69,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.5
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Pause]
type = Pause
trigger1 = time = 100
time = 35
movetime = 35
pausebg = 1

[State 0, Flash]
type = Explod
trigger1 = time = 100
anim = 3222
ID = 3222
pos = 65,-66
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .5,.5
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3223
ID = 3223
pos = 60,-65
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 100
scale = .7,.7
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ModifyShockWave]
type = ModifyExplod
trigger1 = time >0
ID =  3223
scale = .5+time*-.005,.5+time*-.005

[State 0, StopSnd]
type = StopSnd
trigger1 = time > 100
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time> 100
flag = nomusic

[State 800, 2]
type = ChangeState
Trigger1 = time = 135;130
value = 3225

[Statedef 3225, - Chi Blast]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
velset = 0,0
anim = 3225
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4100
ID = 4100
pos = 90,-90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
scale = .01,.01
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, ModifyShockWave]
type = ModifyExplod
trigger1 = time >0
ID =  4100
scale = .01+time*.03,.01+time*.03
trans = addalpha
alpha = 256-(1*time),256
supermovetime = 999
pausemovetime = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3224
ID = 3224
pos = 90,-90
postype = p1  ;p2,front,back,left,right
removetime = -2
scale = .5,.5
sprpriority = 999
ontop = 0
ownpal = 1

[State 800, 2]
type = TargetState
Trigger1 = time = 0
value = 3231

[State 800, 2]
type = TargetLifeAdd
Trigger1 = time = 0
value = -560
kill = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3220,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3200,4

[State 191, 4]
type = EnvShake
trigger1 = Time = 0
time = 40
ampl = 6
freq = 600
phase = 600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S3225,0
channel = 7

[State 0, NotHitBy]
type = NotHitBy
trigger1 = AnimTime = 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 4

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3230, - P2 State]
type    = S
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3230

[State 800, 2]
type = null;ChangeState
Trigger1 = time = 110
value = 3231

[Statedef 3231, - P2 Fly]
type    = A
movetype= H
physics = N

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3231

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -3
x = -14

[State 1026, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
value = 3232

[Statedef 3232,- P2 Wall Bounce]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = f7,2

[State 100 , 3]
type = VelSet
trigger1 = Time >= 0
x = 0
y = 0

[State 1025, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 3232

[State 195, 2]
type = ChangeState
trigger1 = Time = 3
value = 3233

[Statedef 3233, - P2 Wall Bounce 2]
type    = A
movetype= H
physics = N

[State 1373, 0]
type = VelSet
trigger1 = Time = 0
y = -6
x = 3

[State 1373, 1]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1200, 2]
type = Gravity
trigger1 = 1

[State 1373, 3]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1373, 4]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1373, 5]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1373, 6]
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1373, 7]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

[Statedef 3300, Tenpou Zan]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd = ifelse(var(53) > 0, 0, -1000)
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 2
facep2 = 1

[State -3, Lv1 Shadows]
type = afterimage
trigger1 = time = 3
time = 76
timegap = 1
framegap = 10
length = 30
paladd=0,0,0
palmul=.75,.75,.75
palcontrast=128,128,128
palpostbright=0,0,0
trans=add1

[State 3000, Voice]
type = PlaySnd
trigger1 = !Time
value = 197,0
channel = 0

[State 3000, Superpause FX]
type = helper
trigger1 = Time = 3
helpertype = normal
stateno = 8500
ID = 8500
name = "Superpause FX"
postype = p1
pos = 0, -65
supermovetime = 255
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 3000, Superpause]
type = superpause
trigger1 = Time = 3
time = 40
movetime = 40
p2defmul = 1.3
unhittable = 1
anim = -1
sound = s8500,0
darken = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = animelem = 5
x =20

[State 210, 2]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Hard
damage    = 49,4
guardflag = M
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 20,20
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 36), var(36) := -47
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-7
air.velocity = -4.5,-3
fall = 1
fall.recover = 0
ID = 3300

[State 800, 2]
type = PlaySnd
Trigger1 = Animelem = 5
value = 1200,1
channel = 7

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3301

[Statedef 3301, - Rise]
type    = A
movetype= U
physics = N
juggle  = 3
anim = 3301

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 12			;ticks
freq = 150			;0-180, default 60
ampl = -12
ignorehitpause = 1
persistent = 0

[State 1522, 1] ;Gravity
type = Velset
Trigger1 = time =0
x = 4
y = -7

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >0
y = .3

[State 1522, 1] ;Gravity
type = VelAdd
Trigger1 = time >1
trigger1 = vel x > .5
x = -.1

[State 40, Dust Helper]
type = Helper
trigger1 = AnimElem = 1
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 210, 2]
type = HitDef
trigger1 = Timemod =5, 0
attr = A, SA
animtype  = Hard
damage    = 49,4
guardflag = MA
hitflag = MAF                    ;Flags of conditions that move can hit
pausetime = 10,10
sparkno = -1 + 0*(var(33):=8014)
guard.sparkno = -1 + 0 * (var(34) := 8001)
sparkxy = -10 + 0 * (var(35) := 30), var(36) := -72
hitsound   = s2,1
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 21
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
fall = 1
fall.recover = 0
ID = 3300

[State 800, 2]
type = ChangeState
trigger1 = time > 2
Trigger1 = Vel Y > -1
value = 1202

[Statedef 2000, Hitsparks Light]
type    = S
physics = S
velset = 0,0
anim = 6005
ctrl = 0
sprpriority = 7

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .2+time*-.018,.2+time*-.018

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(23*time),256

;----------------------Flash---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4403
ID = 4401
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 8
scale = 0.15,0.15
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4401
scale = .15+time*-.03,.15+time*-.03
supermovetime = 999
pausemovetime = 999

;----------------------Burst---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4403
ID = 4403
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 8
scale = 0.15,0.15
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4403
scale = .15+time*.005,.15+time*.005
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(30*time),256

;----------------------Globules---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.9,-.6
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = .9,2.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,-2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.1,-.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.8,.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 3.5,-.3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 4,.8
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,-3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 0
ID =  4402
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(13*time),256

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 19

[Statedef 2001, Hitsparks Medium]
type    = S
physics = S
velset = 0,0
anim = 7010
ctrl = 0
sprpriority = 7

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .30+time*-.018,.35+time*-.018

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 10

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

;----------------------Flash---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4407
ID = 4401
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 8
scale = 0.35,0.35
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4401
scale = .35+time*-.03,.35+time*-.03
supermovetime = 999
pausemovetime = 999

;----------------------Burst---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4403
ID = 4403
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 8
scale = 0.3,0.3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4403
scale = .3+time*.01,.3+time*.01
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(30*time),256

;----------------------Globules---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.9,-.6
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = .9,2.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,-2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.1,-.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.8,.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 3.5,-.3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 4,.8
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,-3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 0
ID =  4402
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(13*time),256

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 19


[Statedef 2002, Hitsparks Hard]
type    = S
physics = S
velset = 0,0
anim =4408;7020
ctrl = 0
sprpriority = 998

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .45+time*-.018,.45+time*-.018

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

;----------------------Flash---------------------
[State 0, Rose]
type = null;Explod
trigger1 = time = 0
anim =  7020;4408
ID = 4401
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 8
scale = 0.5,0.5
sprpriority = 999
facing = ifelse(random<500,1,-1)
ontop = 0
shadow = 0,0,0
bindtime = -1
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4401
scale = .45+time*-.03,.45+time*-.03
supermovetime = 999
pausemovetime = 999

;----------------------Burst---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4403
ID = 4403
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 32;8
scale = 0.5,0.5
sprpriority = 9
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4403
scale = .3+time*.02,.3+time*.02
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(30*time),256

;----------------------Globules---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.9,-.6
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = .9,2.4
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 5,-2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = -2,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2,-1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 2.1,-.1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.8,.5
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 3.5,-.3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 4,.8
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4402
ID = 4402
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 18
scale =.07,.07
vel = 1.5,-3
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 0
ID =  4402
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(13*time),256

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 32


[Statedef 2010, Block Sparks]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

;----------------------White---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 6
anim =  4410
ID = 4410
pos = 5,0
postype = p1  ;p2,front,back,left,right
removetime = 6
scale = 0.01,0.2
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4410
scale = .01+time*.02,.2+time*.025
supermovetime = 999
pausemovetime = 999

;----------------------White---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 3
anim =  4410
ID = 4411
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 6
scale = 0.05,0.35
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4411
scale = .05+time*.02,.35+time*.025
supermovetime = 999
pausemovetime = 999


;----------------------White---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4410
ID = 4412
pos = -5,0
postype = p1  ;p2,front,back,left,right
removetime = 6
scale = 0.1,0.6
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4412
scale = .1+time*.02,.6+time*.025
supermovetime = 999
pausemovetime = 999

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 20

[Statedef 2020, Hitsparks Esaka]
type    = S
physics = S
velset = 0,0
anim = 4102
ctrl = 0
sprpriority = 999

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .7+time*-.01,.7+time*-.01

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

;----------------------Wave---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4101
ID = 4421
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 25
scale = 0.15,0.15
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >0
ID =  4421
scale = .15+time*.05,.15+time*.05
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(18*time),256

;----------------------Burst---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4426;4101
ID = 4421
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 11
scale = 0.1,0.1
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4421
scale = .1+time*.03,.1+time*.03
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(12*time),256

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 25

[Statedef 2021, Hitsparks Projectile]
type    = S
physics = S
velset = 0,0
anim = 4422
ctrl = 0
sprpriority = 999

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .25+time*-.01,.35+time*-.01

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

;----------------------Flash---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4423
ID = 4420
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 11
scale = 0.35,0.45
sprpriority = 999
facing = ifelse(random<500,1,-1)
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4420
scale = .35+time*-.025,.45+time*-.025
supermovetime = 999
pausemovetime = 999

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 25

[Statedef 2022, Hitsparks Specials]
type    = S
physics = S
velset = 0,0
anim = 4427
ctrl = 0
sprpriority = 998

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .35+time*-.028,.35+time*-.028

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

;----------------------Wave---------------------
[State 0, Explod]
type = null;Explod
trigger1 = time = 0
anim =  4100
ID = 4421
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 11
scale = 0.25,0.25
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4421
scale = .25+time*.03,.25+time*.03
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(18*time),256

;----------------------Burst---------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim =  4426;4101
ID = 4421
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 11
scale = 0.1,0.1
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4421
scale = .1+time*.03,.1+time*.03
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(12*time),256

;----------------------Flash---------------------
[State 0, Explod]
type = null;Explod
trigger1 = time = 0
anim =  4420
ID = 4420
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 11
scale = 0.45,0.45
sprpriority = 5
facing = ifelse(random<500,1,-1)
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 20
ID =  4420
scale = .45+time*-.025,.45+time*-.025
supermovetime = 999
pausemovetime = 999


[State 1002, 4]
type = DestroySelf
trigger1 = Time = 25


[Statedef 2051, Hitsparks Supers]
type    = S
physics = S
velset = 0,0
anim = 4121;9999
ctrl = 0
sprpriority = 998

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[State 8010, AngleSet]
type = AngleSet
trigger1 = !Time
value = 30 * (Random % 12)

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .45+time*-.025,.45+time*-.025

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

;----------------------Shockwave---------------------

[State 0, ShockWave]
type = Explod
trigger1 = time = 0
anim =  4002
ID = 4000
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = 14
scale = 0.2,0.2
sprpriority = 999
ontop = 0
shadow = 0,0,0
ownpal = 1
supermovetime = 999
pausemovetime = 999
ignorehitpause = 1
persistent = 0

[State 0, ModifyShockWave]
type = ModifyExplod
trigger1 = time < 20
ID =  4000
scale = .2+time*.05,.2+time*.05
supermovetime = 999
pausemovetime = 999
trans = addalpha
alpha = 256-(18*time),256

[State 1002, 4]
type = DestroySelf
trigger1 = Time = 32

[Statedef 999, Esaka FX]
type    = S
physics = S
velset = 0,0
anim = 999
ctrl = 0
sprpriority = -1

[State 2000]
type = AssertSpecial
trigger1 = 1
Time = -1
flag = noshadow

[state 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .0001+time*.05,.0001+time*.05

[state 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 10

[State 0, Trans]
type = Trans
trigger1 = 1;time > 5
trans = addalpha
alpha = 256-(25*time),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30

[Statedef 2901, Esaka Cancel]
type    = S
physics = S
velset = 0,0
anim = 9999
ctrl = 0
sprpriority = -1

[State 0, Cancel]
type = Explod
trigger1 = time = 0
anim =901
ID =901
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = ifelse(facing = 1,1,-1)
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 30
supermovetime = 999
pausemovetime = 999
scale = 0,0
sprpriority = 5
shadow = 0,0,0
ownpal = 1
ontop = 0
removeongethit = 0

[State 0, Modify Words]
type = ModifyExplod
trigger1 = time <10
ID =  901
scale = .5+time*.05,.5+time*.05
supermovetime = 999
pausemovetime = 999

[State 0, Modify Words]
type = ModifyExplod
trigger1 = time >=10
ID =  901
trans = addalpha
alpha = 256-(10*time),256
supermovetime = 999
pausemovetime = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30



; Initialize (at the start of the round)
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State 5900, 3] ;Change palette
type = RemapPal
trigger1 = 1
source = 1,1
dest = 1,palno

[State 180, 2]
type = ChangeState
triggerall = numenemy
triggerall = enemy, name = "Li Xiangfei" && enemy, authorname = "Amanojaku"
trigger1= teammode = turns
trigger2 = teammode = single && roundsexisted = 0
value = 190

[State 5900, Intro VS Kasumi Todo]
type=changestate
triggerall= numenemy
triggerall = enemy, name = "Kasumi Todo" || enemy, name = "Kasumi Todoh"
trigger1= teammode = turns
trigger2 = teammode = single && roundsexisted = 0
value=190

[State 5900, Intro VS Mai]
type= changestate
triggerall= numenemy
triggerall = enemy, name = "cvsmai" || enemy,name = "Mai Shiranui" || enemy,name = "Shiranui Mai"
trigger1= teammode = turns
trigger2 = teammode = single && roundsexisted = 0
value= 191

[State 5900, Intro Not Ready]
type=changestate
triggerall= numenemy
trigger1= teammode = turns
trigger1 = random < 20
trigger2 = teammode = single && roundsexisted > 0
trigger2 = random < 10
value=192

[State 5900, Intro VS Chun-Li]
type=changestate
triggerall= numenemy
triggerall = enemy, name = "Chun Li" || enemy, name = "Chun-Li" || enemy, name = "cvschunli"
trigger1= teammode = turns
trigger2 = teammode = single && roundsexisted = 0
value=190

[State 5900, Intro VS King]
type=changestate
triggerall= numenemy
triggerall = enemy, name = "cvsking" || enemy, name = "king" || enemy, name = "masterking"|| enemy, name = "ZeroKing"
trigger1= teammode = turns
trigger2 = teammode = single && roundsexisted = 0
value=190

[State 5900, 4] ;Intro for round 1
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 5] ;All other rounds
type = ChangeState
trigger1 = 1
value = 0

;=====================<HIT GROUND(BOUNCE)>===================
[Statedef 5100]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059]) && (anim != [5061,5069])
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059]) || (anim = [5061,5069])
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = 5100 + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 10] ;Thud sound for when char hits ground
type = PlaySnd
trigger1 = Time = 1
value = 5000,11

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 5101

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;================<HIT LIEDOWN>====================
[Statedef 5110]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6] ;Thud sound for when char hits ground
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 5000,11

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine
;==========< FALL RECOVERY >==========
[Statedef 5200]
type = A
movetype = H
physics = N
[State 5200, Anim]
type = changeanim
trigger1 = anim = 5035 && !animtime
value = 8100

[State 5200, Vel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)
[State 5200, End]
type = selfstate
trigger1 = vel y > 0 && pos y >= -10
value = 5201

[Statedef 5201]
type = S
movetype = I
physics = N
anim = 5200
ctrl = 0
facep2 = 1

[State 5201, Pos]
type = posset
trigger1 = 1
y = 0
[State 5201, Vel]
type = velset
trigger1 = !time
x = -8
y = 0
[State 5201, Vel]
type = velmul
trigger1 = 1
x = 0.9

[State 5201, Snd]
type = playsnd
trigger1 = animelem = 1
value = 4, 9
channel = 0

[State 5210, Snd]
type = playsnd
trigger1 = !time
value = 8200,0
channel = 1

[State 5201, Flash]
type = palfx
trigger1 = !time
add = 255, 255, 255
sinadd = -255, -255, -255, 40
time = 10

[State 5201, FX]
type = helper
trigger1 = !time
helpertype = normal
stateno = 8200
ID = 8200
name = "Recover FX"
postype = p1
pos = 0, ceil(-18 * const(size.yscale))
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 5201, Dust]
type = playsnd
trigger1 = !time
value = 0, 101

[State 5201, Dust]
type = explod
trigger1 = !(time % 6) && abs(vel x) >= 1
anim = 7103
sprpriority = 3
postype = p1
pos = 0, 0
vel = 1, 0
scale = 1, 1
pausemovetime = -1
supermovetime = -1
ownpal = 1

[State 5201, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1
[State 5201, End]
type = changestate
trigger1 = !animtime
value = 0
ctrl = 1

[Statedef 5210]
type = A
movetype = I
physics = N
anim = 5210
ctrl = 0

[State 5210, Snd]
type = playsnd
trigger1 = !time
value = 7, 4
channel = 0

[State 5210, Snd]
type = playsnd
trigger1 = !time
value = 8200,0
channel = 1

[State 5210, Flash]
type = palfx
trigger1 = !time
add = 255, 255, 255
sinadd = -255, -255, -255, 40
time = 10

[State 5210, FX]
type = helper
trigger1 = !time
helpertype = normal
stateno = 8200
ID = 8200
name = "Recover FX"
postype = p1
pos = 0, ceil(-66 * const(size.yscale))
size.xscale = 1
size.yscale = 1
ownpal = 1

[State 5210, Accel]
type = veladd
trigger1 = 1
y = 0.6

[State 5210, Vel]
type = velset
trigger1 = !time
x = ifelse((command = "holdfwd" && command != "holdback"), 4, ifelse((command != "holdfwd" && command = "holdback"), -4, 0))
y = -7.55

[State 5210, Turn]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State 5210, NHB]
type = nothitby
trigger1 = time < 14
value = SCA
time = 1

[State 5210, Ctrl]
type = ctrlset
trigger1 = time >= 14
value = 1

[State 5210, Land]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > -vel y
value = 52

;==========< TARGET SAFE FALL >==========
[Statedef 5205]
type = A
physics = N
movetype = H

[State 5205, Anim]
type = changeanim
trigger1 = !animtime
trigger1 = anim = 5035
value = 5050

[State 5205, Accel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State 5205, Ground]
type = selfstate
trigger1 = vel y > 0
trigger1 = pos y >= const(movement.air.gethit.groundrecover.ground.threshold)
value = 5200

[State 5205, Air]
type = selfstate
trigger1 = time >= 60
value = 5210

[statedef -2, -2]

;#ADD004BASIC PIEs#
;//==========================
;// add004 supplementary sctrls v1.103
;//==========================

;// partner jump-out ; ???????
[state 0]
	type=selfstate
	triggerall=!ishelper && numpartner && roundstate=2
	triggerall=(stateno!=[190190,190199]) && alive && sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	triggerall=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),var(22)=4
	;;---// change ;(??)
	trigger1=sysfvar(4)<1 && movetype!=h && gethitvar(isbound)=0 && (pos y>=0) && (ctrl||(stateno<600&&time<2)) && (playerid(floor(sysfvar(0))),var(48)=11)
	;;---// as partner-asist ;(??)
	trigger2=sysfvar(4)>0 && (movetype!=h||(stateno=[120,149])) && (ctrl||stateno<600)
	;;---// player priority ;(??)
	trigger3=sysfvar(4)<1 && playerid(floor(sysfvar(0))),var(15)!=id
	value=190190
	ignorehitpause=1

;// edited life & power bar ; ?????
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id) && partner,numhelper(90900)=0
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=1
	size.air.front=1602150 ;; <<-version
	size.height=0 ;; 1;; <<-powerbar off mode
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	pos=0,88888

;// input players id ; ID??
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=(helper(90900),id)
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=(partner,sysfvar(0)))
	sysfvar(0)=(partner,sysfvar(0))

;// bk/jd system ; ?????/????D
[state 0]
	type=hitoverride
	trigger1=(numprojid(195502)||numprojid(195503)) && !ishelper && roundstate=2 && alive && (ctrl || stateno=52)
	attr=sca,na,sa,ha,np,sp,hp
	stateno=195500
	time=1
	ignorehitpause=1

;//==========================
;;>>@Config.Face>>
;; face / portrait (?)
[state 0]
	type=explod
	trigger1=!ishelper && roundstate=2 && alive && !numexplod(490600) && selfanimexist(909002)
	trigger1=sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && playerid(floor(sysfvar(0))),numexplod(490600)
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	scale=0,0 ;; <- default
	ownpal=1
	bindtime=-1
	removetime=-1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0] ;; player is NOT in a custom state 
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	trigger1=movetype!=h || (stateno=[120,159]) || (stateno=[5000,5199]) || (stateno=[190190,190196])
	id=490600
	scale=playerid(floor(sysfvar(0))),fvar(32-(id=playerid(floor(sysfvar(0))),var(15))*10), playerid(floor(sysfvar(0))),fvar(33-(id=playerid(floor(sysfvar(0))),var(15))*10)
	ignorehitpause=1

[state 0]
	type=modifyexplod
	trigger1=numexplod(490600) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900
	id=490600
	space=screen
	postype=left
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30-(id=playerid(floor(sysfvar(0))),var(15))*10))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31-(id=playerid(floor(sysfvar(0))),var(15))*10) -(roundstate!=2||(!alive&&stateno=5150))*88888))
;;(* if the player has been placed in a custom state, the result of "scale" is affected" by the different player's local coordinate space
	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36-(id=playerid(floor(sysfvar(0))),var(15))*10))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34-(id=playerid(floor(sysfvar(0))),var(15))*10)), floor(playerid(floor(sysfvar(0))),fvar(35-(id=playerid(floor(sysfvar(0))),var(15))*10))
	ignorehitpause=1

;//==========================
;;>>@Config.Camera>>
;; change camera / ????
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	movecamera=0,0
	ignorehitpause=1
[state 0]
	type=playerpush
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && numpartner && (sysfvar(4)>0 || stateno=5150)
	value=0
	ignorehitpause=1
[state 0]
	type=screenbound
	trigger1=!ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=playerid(floor(sysfvar(0))),var(0)=90900 && (playerid(floor(sysfvar(0))),var(7)&65536) ;; system_switch
	value= ((numpartner && sysfvar(4)<1) || !numpartner) ;; [def=0]
	movecamera=0,0 ;; [x,y]
	ignorehitpause=1

;//==========================
;; optional settings
;//==========================
;;--- guard crush ; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=40)
	time=2
	add=200,0,0
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=50)
	value=190010
	ignorehitpause=1
;;--- dizzy
[state 0]
	type=changestate
	trigger1=stateno=5120 && (animtime=0) && !ishelper && numhelper(403000) ;;<-dizzy birds
	value=190116 ;;<- goto dizzy/stun state
;;--- fadeout when KOed ; KO????
[state 0]
	type=varset
	trigger1=stateno=5150 && time=1 && alive=0 && !ishelper && numpartner
	sysvar(1)=(roundstate<=2)
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && sysvar(1) && (((time=[80,150]) && time%10<5) || time>150)
	flag=invisible
	flag2=noshadow
[state 0]
	type=posset
	trigger1=stateno=5150 && time>=80 && alive=0 && !ishelper && numpartner && sysvar(1)
	y=(800-partner,pos y) *(((time=[80,150]) && time%10<5) || time>150)

;;--- pos reset debug (for mugen only) ---
[state 0]
	type=turn
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>1 && facing=ifelse(teamside=1,-1,1)
[state 0]
	type=posset
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>1 && playeridexist(id-2)
	trigger1=playerid(id-2),ishelper=0 && playerid(id-2),teamside=teamside
	x=const240p(120)*ifelse(teamside=1,-1,1)
[state 0]
	type=posset
	trigger1=stateno=5900 && time=0
	trigger1=!ishelper && numpartner>2 && playeridexist(id-3)
	trigger1=playerid(id-3),ishelper=0 && playerid(id-3),teamside=teamside
	x=const240p(144)*ifelse(teamside=1,-1,1)

;//==========================
;//==========================

[State -2, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAirGuard

[State -2, Finish]
type = ScreenBound
triggerall = (Life <= 0) || (!Alive) || (Lose)
trigger1 = (StateNo = 5150) && (RoundState = 4)
value = 0
MoveCamera = 0,0
IgnoreHitPause = 1

[State -2, AI]
type = VarSet
trigger1 = roundstate = 2
v = 20
value = ailevel

[State -2, AI Off]
type = VarSet
trigger1 = roundstate != 2
v = 20
value = 0

[State 0, VarSet, Life1];3
type = VarSet
trigger1 = enemy, const(data.life) >= 2000 && enemy, const(data.life) < 2500
v = 16
value = 2

[State 0, VarSet, Life3];5
type = VarSet
trigger1 = enemy, const(data.life) >= 2500 && enemy, const(data.life) < 3000
v = 16
value = 3

[State 0, VarSet, Life4];7
type = VarSet
trigger1 = enemy, const(data.life) >=3000 && enemy, const(data.life) < 3500
v = 16
value = 4

[State 0, VarSet, Life5];9
type = VarSet
trigger1 = enemy, const(data.life) >= 3500 && enemy, const(data.life) < 4000
v = 16
value = 5

[State 0, VarSet, Life6];25
type = VarSet
trigger1 = enemy, const(data.life) >= 4000
v = 16
value = 10

[State 0, Varadd, Defence1]
type = Varset
trigger1 = enemy, const(data.defence) >= 120 && enemy, const(data.defence) < 170
v = 17
value = 1

[State 0, Varadd, Defence1]
type = Varset
trigger1 = enemy, const(data.defence) >= 170 && enemy, const(data.defence) < 250
v = 17
value = 2

[State 0, VarSet, Defence3]
type = Varset
trigger1 = enemy, const(data.defence) >= 250 && enemy, const(data.defence) < 300
v = 17
value = 3

[State 0, VarSet, Defence4]
type = Varset
trigger1 = enemy, const(data.defence) >=300 && enemy, const(data.defence) < 350
v = 17
value = 4

[State 0, VarSet, Defence5]
type = Varset
trigger1 = enemy, const(data.defence) >= 350 && enemy, const(data.defence) < 400
v = 17
value = 6

[State 0, VarSet, Defence6]
type = Varset
trigger1 = enemy, const(data.defence) >= 400
v = 17
value = 15

[State 0, VarSet, Attack1]
type = Varset
trigger1 = enemy, const(data.attack) >= 200 && enemy, const(data.attack) < 250
fv = 18
value = 0.5

[State 0, VarSet, Attack1]
type = Varset
trigger1 = enemy, const(data.attack) >= 250 && enemy, const(data.attack) < 300
fv = 18
value = 0.3

[State 0, VarSet, Attack1]
type = Varset
trigger1 = enemy, const(data.attack) >= 300 && enemy, const(data.attack) < 350
fv = 18
value = 0.2

[State 0, VarSet, Attack1]
type = Varset
trigger1 = enemy, const(data.attack) >= 350 && enemy, const(data.attack) < 400
fv = 18
value = 0.1

[State 0, VarSet, Attack1]
type = Varset
trigger1 = enemy, const(data.attack) >= 400
fv = 18
value = 0

[State -2, Detect Rape Monsters]
type = Varset
trigger1 = enemy, name = "Kuromaru" || enemy, authorname = "Anonygoose" || enemy, authorname = "Jeffry081"
trigger2 = enemy, name = "SLIME" || enemy, authorname = "anasakusya" || enemy, name = "Niku"
trigger3 = enemy,name = "roper" || enemy, name = "Ra_plant" || enemy, name = "Tendril"
trigger4 = enemy,name = "Vairocana" || enemy, authorname = "Souken" || enemy, authorname = "anamochi"
trigger5 = enemy,name = "ripps" || enemy, authorname = "The Doctor" || enemy, name = "Kingpamaty"
V = 29
value = 1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = var(29) =1
value = Var(16) + Var(17)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(29) = 1 && StateNo = [1000,3300]
trigger2 = var(29) = 1 && StateNo = [100,106]
trigger3 = var(29) = 1 && StateNo = [300,301]
trigger4 = var(29) = 1 && StateNo = [10100,10101]
trigger5 = var(29) = 1 && StateNo = [11201,11204]
trigger6 = var(29) = 1 && StateNo = 900
trigger7 = var(29) = 1 && StateNo = 10950
trigger8 = enemy, authorname = "anasakusya"
value = SCA,AP,AT
time = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = enemy, const(data.life) >= 2000 && enemy, const(data.defence) >= 120
trigger2 = Var(29) = 1
time = -1
value = Var(16) + Var(17) + Var(29)

[State 0, DefenceMulSet]
type = DefenceMulSet
trigger1 = enemy, Const(data.attack)>= 200
value = FVar(18)

[State -2, P2 Facing]
type= TargetFacing
trigger1= movecontact=1 && numtarget=1
trigger1= !(target,hitshakeover) && !(target,hitfall) && (target,time<=1)
value= ifelse(p2dist x>=0, -1, 1)
ignorehitpause= 1

[State -2, Debug Info]
type = DisplayToClipboard
trigger1 = 1
text = "DefenceMul = %f AI Level = %d"
params= (1+(numhelper(980)*.4)), var(20)
ignorehitpause = 1

[State -2, Debug Info]
type = AppendToClipboard
trigger1 = 1
text = "\nMUGEN 1.0 version"
ignorehitpause = 1

[State -2, Contact Detection]
type = Varset
trigger1 = movecontact = 1 && var(30) < 0
var(30) = hitpausetime
ignorehitpause = 1

[State -2, Sparks]
type = helper
triggerall = movecontact = 1 && var(30) = hitpausetime
trigger1 = movehit = 1 && numenemy
trigger1 = var(33) = 8010 || var(33) = 8011 || var(33) = 8012 || var(33) = 8013 || var(33) = 8014 || var(33) = 8001
trigger2 = moveguarded = 1 && numenemy
trigger2 = var(34) = 8000 || var(34) = 8001
trigger3 = MoveHit = 1 && NumEnemy
trigger3 = var(33) = 8015 || var(33) = 8016 || var(33) = 8017
stateno = ifelse(moveguarded, var(34), var(33))
ID = 8000
name = "Spark"
postype = p1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(35), ceil(P2Dist x), var(35))), var(36)
facing = -1
ownpal = 1
pausemovetime = 65535
supermovetime = 65535
ignorehitpause = 1

[State -2, Counter FX]
type = Helper
trigger1 = MoveHit = 1 && var(30) = HitPauseTime
trigger1 = NumEnemy && var(19)
trigger1 = !(HitDefAttr = SCA, AT) && (EnemyNear, MoveReversed != 1)
helperType = Normal
stateNo = 8290
ID = 8290
name = "Counter FX"
posType = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < var(35), ceil(P2Dist x), var(35))), var(36)
facing = -1
ownPal = 1
pauseMoveTime = 255
superMoveTime = 255
ignoreHitPause = 1

[State -2, Counter Flag]
type = VarSet
trigger1 = NumEnemy
var(19) = (EnemyNear, MoveType = A)
ignoreHitPause = 1

[State -2, Hit Detection]
type = VarSet
trigger1 = 1
var(30) = -1

[State -2, Hit Detection]
type = VarRangeSet
trigger1 = MoveType = I
trigger2 = MoveType = H && Time
first = 30
last = 36
value = -1
ignoreHitPause = 1

[State -2, P2 Safe Fall]
type = targetstate
trigger1 = numtarget = 1
trigger1 = target, command = "recovery"
trigger1 = target, pos y >= -48 && target, vel y > 0
trigger1 = target, alive && target, hitfall && target, gethitvar(fall.recover)
trigger1 = target, stateno = 5030 || target, stateno = 5035 || target, stateno = 5050 || target, stateno = 5071
value = 5205
ignorehitpause = 1

[State -2, Juggle Count]
type=varadd
trigger1= movehit=1
trigger1= !(hitdefattr=SCA,AT)
var(15)=1

[State -2, Juggle Reset Single]
type = varset
triggerall = numenemy = 1 && var(15)
trigger1 = (enemy, statetype != A) && (enemy, stateno != [5100, 5109]) && (enemy, time >= 0)
trigger2 = (enemy, movetype != H) || (enemy, stateno = [120, 155]) || (enemy, ctrl)
var(15) = 0
ignorehitpause = 1

[State -2, Juggle Reset Simul]
type = varset
triggerall = numenemy >= 2 && var(15)
trigger1 = (enemynear(0), statetype != A) && (enemynear(0), time >= 0)
trigger2 = (enemynear(0), movetype != H) || (enemynear(0), stateno = [120, 155]) || (enemynear(0), ctrl)
trigger3 = (enemynear(1), statetype != A) && (enemynear(0), time >= 0)
trigger4 = (enemynear(1), movetype != H) || (enemynear(0), stateno = [120, 155]) || (enemynear(0), ctrl)
var(15) = 0
ignorehitpause = 1

[State -2, Free Juggling]
type = varset
trigger1 = roundstate != 2
var(15) = 0
ignorehitpause = 1

[State -2, Juggle Flag]
type = varset
trigger1 = numenemy && !var(16)
trigger1 = (enemynear, stateno = 5040) && !(enemynear, ctrl)
var(16) = 1
ignorehitpause = 1

[State -2, Juggle Flag Reset Single]
type = varset
triggerall = numenemy = 1 && var(16)
trigger1 = (enemy, movetype != H) && (enemy, stateno != 5040)
trigger2 = !(enemy, hitshakeover) || (enemy, statetype = L) || (enemy, ctrl)
var(16) = 0
ignorehitpause = 1

[State -2, Juggle Flag Reset Simul]
type = varset
triggerall = numenemy >= 2 && var(16)
trigger1 = (enemynear(0), movetype != H) && (enemynear(0), stateno != 5040)
trigger2 = !(enemynear(0), hitshakeover) || (enemynear(0), statetype = L) || (enemynear(0), ctrl)
trigger3 = (enemynear(1), movetype != H) && (enemynear(1), stateno != 5040)
trigger4 = !(enemynear(1), hitshakeover) || (enemynear(1), statetype = L) || (enemynear(1), ctrl)
var(16) = 0
ignorehitpause = 1

[State -2, Custom Combo End]
type = varset
trigger1 = var(28) < 0
trigger2 = movetype = H
trigger3 = roundstate != 2
trigger4 = (stateno = [3000, 4999])
var(28) = 0
ignorehitpause = 1

[State -2, Custom Combo Time]
type = varadd
trigger1 = var(28) > 0
var(28) = -1
ignorehitpause = 1

[State -2, Custom Combo Asserts]
type = assertspecial
trigger1 = var(28) > 0
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard
ignorehitpause = 1

[State -2, Excel PalFX]
type = palfx
trigger1 = var(28) > 60
time = 2
add = 32 + ceil(sin(var(28) / 16.0 * pi) * 32), 32 + ceil(sin(var(28) / 16.0 * pi) * 32), 32 + ceil(sin(var(28) / 16.0 * pi) * 32)
ignorehitpause = 1

[State -2, Excel PalFX]
type = palfx
trigger1 = (var(28) = [1, 60])
time = 2
add = 64 + ceil(sin(var(28) / 8.0 * pi) * 64), 64 + ceil(sin(var(28) / 8.0 * pi) * 64), 64 + ceil(sin(var(28) / 8.0 * pi) * 64)
ignorehitpause = 1

[State -2, Excel Timer]
type = helper
trigger1 = !numhelper(8405) && var(28) > 0
helpertype = normal
stateno = 8405
ID = 8405
name = "Excel Timer"
postype = p1
ownpal = 1
pausemovetime = 2147483647
supermovetime = 2147483647
ignorehitpause = 1

[State -2, MAX Mode End]
type = VarSet
trigger1 = var(53) < 0
trigger2 = RoundState != 2
trigger3 = !Alive
trigger4 = (StateNo = [3000,4999])
var(53) = 0
ignoreHitPause=1

[State -2, MAX Mode Time]
type = VarAdd
trigger1 = var(53) > 0
ignorehitpause = 1
var(53) = -1

[State -2, MAX Mode PowerSet]
type = PowerSet
trigger1 = var(53) > 0
ignorehitpause = 1
value = var(54)

[State -2, MAX Mode PalFX]
type = PalFX
triggerall = var(53) > 0
trigger1 = !(GameTime % 2)
time = 1
add = 60,60,60
ignorehitpause = 1

[State -2, MAX Mode Atk Up]
type = AttackMulSet
trigger1 = var(53) > 0
value = 1.10

[State -2, MAX Mode Atk Reset]
type = AttackMulSet
trigger1 = var(53) <= 0
value = 1

[State -2, MAX Mode Def Up(New)];special thanks to Jesuszilla
type = LifeAdd
triggerall = Alive && MoveType = H
triggerall = var(53) ; MAX Mode 
trigger1 = (FVar(8)-life)>0
value = ifElse((FVar(8)-life)<life,floor((FVar(8)-life)*0.125),0)

[State -2, Life Holder];special thanks to Jesuszilla
type = VarSet
trigger1 = 1
fvar(8) = Life
ignorehitpause = 1

;Light
[State -2]
type = Helper
triggerall = !NumHelper(23680) 
trigger1 = StageVar(info.author) = "light"
pos = 0,0
stateno = 23680
id = 23680
ownpal = 1
persistent = 0
ignorehitpause = 1
postype = p1

[State -2]
type = Helper
triggerall = !NumHelper(23681) 
trigger1 = StageVar(info.author) = "light"
pos = 134,0
stateno = 23681
id = 23681
ownpal = 1
persistent = 0
ignorehitpause = 1
postype = left

[State -2]
type = Helper
triggerall = !NumHelper(23682)
trigger1 = StageVar(info.author) = "light"
pos = -134,0
stateno = 23682
id = 23682
ownpal = 1
persistent = 0
ignorehitpause = 1
postype = right
;--------------------------------------------------------------
;1aD3oE?I?OA
;--------------------------------------------------------------
[Statedef 23680]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -10

[State 3680, 4]
type = changeanim
trigger1 = time%2 = 0
value = 9741

[State 3680, 4]
type = ChangeAnim
triggerall = time%2 = 1
trigger1 = ((root,anim = [0,9741]) && root,movetype != H) 
trigger2 = (root,anim = [5000,9999])
value = root,anim
elem = root,animelemno(0)
ignorehitpause = 1
persistent = 1

[State 3680, 0]
type = PalFX
trigger1 = time = 0
time = -1
add = 224,88,0
sinadd = 48,50,32,16
;add = 248,232,192

[State 3680,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3680, 4]
type=BindToParent
trigger1 = 1
time = -1
facing = 1
pos = (1+ifelse(Parent,fvar(36) = 1,-1,0)+ifelse(Parent,fvar(36) = 2,-2,0))*ifelse(Facing = -1,-1,1),0
;--------------------------------------------------------------
;1aDo
;--------------------------------------------------------------
[Statedef 23681]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 9741
sprpriority = -10

[State 3680,1]
type = ParentVarSet
trigger1 = RootDist X > 0 && RootDist X < 52
fvar(40) = 1

[State 3680,1]
type = ParentVarSet
trigger1 = RootDist X < 0
fvar(40) = 0

[State 3680,1]
type = NotHitBy
trigger1 = 1
value = SCA
;--------------------------------------------------------------
;1aDOO
;--------------------------------------------------------------
[Statedef 23682]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 9741
sprpriority = -10

[State 3680,1]
type = ParentVarSet
trigger1 = RootDist X < 0 && RootDist X > 52
fvar(40) = 1

[State 3680,1]
type = ParentVarSet
trigger1 = RootDist X > 0
fvar(40) = 2

[State 3680,1]
type = NotHitBy
trigger1 = 1
value = SCA

;---------------------------------------------------
;VVVVVVV Electro -2 Interactive stage codes VVVVVVVV
;---------------------------------------------------

;---------------------------------------
;VVVVV - Extra Fun Stuff Remove - VVVVV

;Fire React (Remove this code if you have custom Fire animations)
[State -2,FX]
type = PalFX
trigger1 = time =1
trigger1 = anim = (88912) = 1
time = 45
add = 255,155,2
mul = 255,155,1
sinadd = 110,55,85,10
invertall = 0
color = 0

;---------------------------------------
;Electric react   (Remove this code if you have custom Electric animations)
[State -2,FX]
type = PalFX
trigger1 = time =1
trigger1 = anim = (88920) = 1
time = 45
add = 48,48,48
mul = 256,256,256
sinadd = 64,64,64,4
invertall = 1
color = 0
;--------------------------------------------

;^^^^^^ - Extra Fun Stuff Remove - ^^^^^^
;---------------------------------------------

;---------------------------------------
;Assert Specials Finishers Stuff
[State -2, NoShadowFinishers]
type = AssertSpecial
trigger1 = stateno = 5150
trigger1 = prevstateno = 889668
trigger2 = stateno = 5150
trigger2 = prevstateno = 889674
trigger3 = stateno = 5150
trigger3 = prevstateno = 889756
trigger4 = stateno = 5150 && prevstateno = 889310
flag = noshadow

[State -2, nokoslow]
type = assertspecial
trigger1  = roundno != 1
trigger1 = stagevar(info.name) = "Howard Arena"
trigger2  = roundno != 1
trigger2 = stagevar(info.name) = "Howard Arena Storm"
trigger3  = roundno != 1
trigger3 = stagevar(info.name) = "Howard Arena Thunder"
trigger4  = roundno != 1
trigger4 = stagevar(info.name) = "The Dead Pool"
trigger5  = roundno != 1
trigger5 = stagevar(info.name) = "Green Hell"
trigger6  = roundno != 1
trigger6 = stagevar(info.name) = "Vagnad Stage"
trigger7  = roundno != 1
trigger7 = stagevar(info.name) = "Ultimate_Capcom_Building"
trigger8  = roundno != 1
trigger8 =stagevar(info.name) = "Ultimate_USSR" 
flag = nokoslow

[State -2, NoForeground]
type = AssertSpecial
trigger1 = stateno = 5150
trigger1 = prevstateno = 889764
flag = noFG

[State -2, Invisble]
type = ChangeAnim
trigger1 = stateno = 181
trigger1 = prevstateno = 889769
trigger2 = stateno = 5150 && prevstateno = 889310
value = 9800 ;invisible
ignorehitpause = 1

[State -2, PosSet]
type = PosSet
trigger1 = stateno = 181
trigger1 = prevstateno = 889769
trigger1 = stateno = 5150 && prevstateno = 889310
x = 0
y = 300
ignorehitpause = 1

;---------------------------------------
;Fire React (Remove this code if you have custom Fire animations)
[State -2,FX]
type = PalFX
trigger1 = time =1
trigger1 = anim = (88912) = 1
time = 45
add = 255,155,2
mul = 255,155,1
sinadd = 110,55,85,10
invertall = 0
color = 0

;---------------------------------------
;Electric react   (Remove this code if you have custom Electric animations)
[State -2,FX]
type = PalFX
trigger1 = time =1
trigger1 = anim = (88920) = 1
time = 45
add = 48,48,48
mul = 256,256,256
sinadd = 64,64,64,4
invertall = 1
color = 0

;---------------------------------
;Fire Ropes for J. Carn's World Heroes Death Match 1 stage
[State -2, deathmatchfire]
type = Helper
trigger1 = stagevar(info.name) = "Death Match"
trigger1 = Numhelper(88910) = 0  ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Death Match"
trigger2 = Numhelper(88910) = 0  ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -460,0
name = "Firerope"
stateno = 88910
helpertype = normal
ownpal = 1
ID = 88910   ;Numhelper and ID have to be the same

;---------------------------------
;Electric Ropes for Hanzo's World heroes Death Match 2 stage
[State -2, deathmatchfire]
type = Helper
trigger1 = stagevar(info.name) = "Death Match 2"
trigger1 = Numhelper(88920) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Death Match 2"
trigger2 = Numhelper(88920) = 0  ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -460,0
name = "Electricrope"
stateno = 88920
helpertype = normal
ownpal = 1
ID = 88920    ;Numhelper and ID have to be the same

;------------------------------------------
;Spiked Wall for Fumma's World Heroes Death Match 3 stage
[State -2, deathmatchspikes]
type = Helper
trigger1 = stagevar(info.name) = "Death Match 3"
trigger1 = Numhelper(88926) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Death Match 3"
trigger2 = Numhelper(88926) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -500,0
name = "SpikedWall"
stateno = 88926
helpertype = normal
ownpal = 1
ID = 88926   ;Numhelper and ID have to be the same

;----------------------------------------
; Water Splash KoF Garou stage
[State -2, watersplashfall]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "KoF95_Garou"
trigger1 = stateno = 5100 || stateno = 5110
anim = F89059
ID = 7448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 17
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, watersplashjump]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "KoF95_Garou"
trigger1 = stateno = 40 || stateno = 52
anim = F89056
ID = 7448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 14
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, watersplashIdle]
type = Explod
trigger1 = NumExplod(77446) = 0
trigger1 = Pos Y = 0
trigger1 = stagevar(info.name) = "KoF95_Garou"
anim = F89228
ID = 77446
pos = 0,-8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, RemoveWater]
type = RemoveExplod
trigger1 = Pos Y <= -1 
trigger1 = time >=0
id = 77446

;-----------------------------------------------------
; Water Splash for Northern Country Canyon stages
[State -2, watersplash2fall]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "Northern Country Canyon Autumn"
trigger1 = stateno = 5100 || stateno = 5110
trigger2 = time = 1
trigger2 = stagevar(info.name) = "Northern Country Canyon Spring"
trigger2 = stateno = 5100 || stateno = 5110
anim = F89104
ID = 7448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 27
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, watersplash2jump]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "Northern Country Canyon Autumn"
trigger1 = stateno = 40 || stateno = 52
trigger2 = time = 1
trigger2 = stagevar(info.name) = "Northern Country Canyon Spring"
trigger2 = stateno = 40 || stateno = 52
anim = F89103
ID = 7448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, watersplash2idle]
type = Explod
trigger1 = NumExplod(77446) = 0
trigger1 = Pos Y = 0
trigger1 = stagevar(info.name) = "Northern Country Canyon Autumn"
trigger2 = NumExplod(77446) = 0 
trigger2 = Pos Y = 0
trigger2 = stagevar(info.name) = "Northern Country Canyon Spring" 
anim = F89102
ID = 77446
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0

;------------------------------------
;  Totem for "Green Hell" Stage Behind/Lower
[State -2, Totem]
type = Helper
trigger1 = stagevar(info.name) = "Green Hell"
trigger1 = Numhelper(889360) = 0  ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Green Hell"
trigger2 = Numhelper(889360) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -190,17
name = "Totem"
stateno = 889360
helpertype = normal
ownpal = 1
ID = 889360   ;Numhelper and ID have to be the same

;  Totem for "Green Hell" Stage Front/Higher
[State -2, Totem]
type = Helper
trigger1 = stagevar(info.name) = "Green Hell"
trigger1 = Numhelper(889365) = 0  ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Green Hell"
trigger2 = Numhelper(889365) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 266,-2
name = "Totem"
stateno = 889365
helpertype = normal
ownpal = 1
ID = 889365   ;Numhelper and ID have to be the same

;--------------------------------
;Howard Arena stuff
[State -2, Andy FF3 stage finisher floor]
type = Helper
trigger1 = stagevar(info.name) = "Howard Arena"
trigger1 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = roundno != 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Howard Arena Storm"
trigger2 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = roundno != 1
trigger2 = TeamMode != Simul
trigger2 = Pos Y = 0
trigger3 = stagevar(info.name) = "Howard Arena Thunder"
trigger3 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger3 = teamside = 1
trigger3 = roundno != 1
trigger3 = TeamMode != Simul
trigger3 = Pos Y = 0
trigger4 = stagevar(info.name) = "Andy's FFS stage(day)"
trigger4 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger4 = teamside = 1
trigger4 = roundno != 1
trigger4 = TeamMode != Simul
trigger4 = Pos Y = 0
trigger5 = stagevar(info.name) = "Howard Arena"
trigger5 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger5 = teamside = 1
trigger5 = roundno != 1
trigger5 = TeamMode = Simul
trigger5 = numpartner = 1 && id<partner,id
trigger5 = Pos Y = 0
trigger6 = stagevar(info.name) = "Howard Arena Storm"
trigger6 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger6 = teamside = 1
trigger6 = roundno != 1
trigger6 = TeamMode = Simul
trigger6 = numpartner = 1 && id<partner,id
trigger6 = Pos Y = 0
trigger7 = stagevar(info.name) = "Howard Arena Thunder"
trigger7 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger7 = teamside = 1
trigger7 = roundno != 1
trigger7 = TeamMode = Simul
trigger7 = numpartner = 1 && id<partner,id
trigger7 = Pos Y = 0
trigger8 = stagevar(info.name) = "Andy's FFS stage(day)"
trigger8 = Numhelper(889323) = 0 ;Numhelper and ID have to be the same
trigger8 = teamside = 1
trigger8 = roundno != 1
trigger8 = TeamMode = Simul
trigger8 = numpartner = 1 && id<partner,id
trigger8 = Pos Y = 0
helpertype = normal ;player
name = "ff3stagefinisher"
ID = 889323       ;Numhelper and ID have to be the same
stateno = 889323
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermove = 999999999
pausemove = 999999999

;-----------------------------------------
; FF subway stuff
[State -2, barrel subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Train"
trigger1 = Numhelper(889120) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Train"
trigger2 = Numhelper(889120) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,17
name = "Barrel 2"
stateno = 889120
helpertype = normal
ownpal = 1
ID = 889120   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;FF subway barrel Energy #1
[State -2, barrel subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Train"
trigger1 = Numhelper(889140) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Train"
trigger2 = Numhelper(889140) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,-3
name = "Barrel 2"
stateno = 889140
helpertype = normal
ownpal = 1
ID = 889140   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;FF subway barrel Energy #2
[State -2, barrel subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Train"
trigger1 = Numhelper(889150) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Train"
trigger2 = Numhelper(889150) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,21
name = "Barrel 2"
stateno = 889150
helpertype = normal
ownpal = 1
ID = 889150   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;-----------------------------------------
;FF Sodom's Back Alley barrel rolling
[State -2, barrel rolling SBA ff]
type = Helper
trigger1 = stagevar(info.name) = "Sodom's Back Alley"
trigger1 = Numhelper(889475) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamSide = 1
trigger1 = RoundNo = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Sodom's Back Alley"
trigger2 = Numhelper(889475) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamSide = 1
trigger2 = RoundNo = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 259,22
name = "BarrelRoll"
stateno = 889475
helpertype = normal
ownpal = 1
ID = 889475   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;FF Sodom's Back Alley barrel Health
[State -2, barrel SBA ff]
type = Helper
trigger1 = stagevar(info.name) = "Sodom's Back Alley"
trigger1 = Numhelper(889440) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Sodom's Back Alley"
trigger2 = Numhelper(889440) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 96,-19
name = "Barrel6"
stateno = 889440
helpertype = normal
ownpal = 1
ID = 889440   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;FF Sodom's Back Alley trash can #1
[State -2, trashcan#1 SBA ff]
type = Helper
trigger1 = stagevar(info.name) = "Sodom's Back Alley"
trigger1 = Numhelper(889458) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Sodom's Back Alley"
trigger2 = Numhelper(889458) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 29,-19
name = "SBAtrashcan1"
stateno = 889458
helpertype = normal
ownpal = 1
ID = 889458   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;FF Sodom's Back Alley trash can #2 empty
[State -2, trashcan#1 subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Sodom's Back Alley"
trigger1 = Numhelper(889467) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Sodom's Back Alley"
trigger2 = Numhelper(889467) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -27,-19
name = "SBAtrashcan1"
stateno = 889467
helpertype = normal
ownpal = 1
ID = 889467   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------------------
;Barrels for SS2 Galford stage
[State -2, GalfordBarrel1]
type = Helper
trigger1 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger1 = Numhelper(889109) = 0  ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger2 = Numhelper(889109) = 0  ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -123,12
name = "GalfordBarrel1"
stateno = 889109
helpertype = normal
ownpal = 1
ID = 889109   ;Numhelper and ID have to be the same

[State -2, GalfordBarrel2]
type = Helper
trigger1 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger1 = Numhelper(889113) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger2 = Numhelper(889113) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 260,12
name = "GalfordBarrel2"
stateno = 889113
helpertype = normal
ownpal = 1
ID = 889113   ;Numhelper and ID have to be the same

;-----------------------------------------------
;Samurai Monger Life & Bomb toss for player 1
[State -2, LifeandBomb]
type = Helper
trigger1 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger1 = (GameTime % 1600) = random%27
trigger1 = time >=1
trigger1 = teamside = 1
trigger1 = Numhelper(889160) = 0 ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger2 = (GameTime % 1600) = random%27
trigger2 = time >=1
trigger2 = teamside = 1
trigger2 = Numhelper(889160) = 0 ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -385,-5
name = "LifeMonger"
stateno = 889160
helpertype = normal
postype = back;p1    ;p2,front,back,left,right
ownpal = 1
ID = 889160

;-----------------------------------------------
;Samurai Monger Life & Bomb toss for player 2
[State -2, LifeandBomb2]
type = Helper
trigger1 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger1 = (GameTime % 1600) = random%27
trigger1 = time >=1
trigger1 = teamside = 2
trigger1 = Numhelper(889170) = 0 ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "SS2_GALFORD_STAGE"
trigger2 = (GameTime % 1600) = random%27
trigger2 = time >=1
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -400,-5
name = "LifeMonger"
stateno = 889170
helpertype = normal
postype = back;p1    ;p2,front,back,left,right
ownpal = 1
ID = 889170

;------------------------
;FF subway station telephone booth Health
[State -2, telephonebooth subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Station - FF"
trigger1 = Numhelper(889180) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Station - FF"
trigger2 = Numhelper(889180) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,14
name = "telephone1"
stateno = 889180
helpertype = normal
ownpal = 1
ID = 889180   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;FF subway station trash can #1
[State -2, trashcan#1 subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Station - FF"
trigger1 = Numhelper(889195) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Station - FF"
trigger2 = Numhelper(889195) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,-3
name = "telephone1"
stateno = 889195
helpertype = normal
ownpal = 1
ID = 889195   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;FF subway station trash can #2 empty
[State -2, trashcan#1 subway ff]
type = Helper
trigger1 = stagevar(info.name) = "Subway Station - FF"
trigger1 = Numhelper(889205) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Subway Station - FF"
trigger2 = Numhelper(889205) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,16
name = "telephone1"
stateno = 889205
helpertype = normal
ownpal = 1
ID = 889205   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;Ryu Signs
[State -2, Ryu Sign]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) Ryu"
trigger1 = Numhelper(889211) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) Ryu"
trigger2 = Numhelper(889211) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -190,-5
name = "Ryusign"
stateno = 889211
helpertype = normal
ownpal = 1
ID = 889211   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Ryu Sign2]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) Ryu"
trigger1 = Numhelper(889221) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) Ryu"
trigger2 = Numhelper(889221) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 350,-5
name = "Ryusign2"
stateno = 889221
helpertype = normal
ownpal = 1
ID = 889221   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;Guile Crate
[State -2, Guile Crate]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) Guile" 
trigger1 = Numhelper(889240) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) Guile" 
trigger2 = Numhelper(889240) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 360,-3
name = "GuileCrate"
stateno = 889240
helpertype = normal
ownpal = 1
ID = 889240   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;Ken Barrels/Crates
[State -2, Ken Barrels/Crates]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) Ken"
trigger1 = Numhelper(889248) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) Ken"
trigger2 = Numhelper(889248) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 390,20
name = "KenBarrelsCrates"
stateno = 889248
helpertype = normal
ownpal = 1
ID = 889248   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------
;M.Bison Statues
[State -2, M.Bison Statue]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) M.Bison"
trigger1 = Numhelper(889400) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) M.Bison"
trigger2 = Numhelper(889400) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -190,-5
name = "MBisonStatue1"
stateno = 889400
helpertype = normal
ownpal = 1
ID = 889400   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, M.Bison Statue2]
type = Helper
trigger1 = stagevar(info.name) = "(SF2) M.Bison"
trigger1 = Numhelper(889430) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "(SF2) M.Bison"
trigger2 = Numhelper(889430) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 350,-5
name = "MBisonStatue2"
stateno = 889430
helpertype = normal
ownpal = 1
ID = 889430   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------------------------------------------
;^^^^^^^ ELECTR0's IM Code #1 ^^^^^^^^^
;------------------------------------------------------------

;------------------------------------------------------------
;vvvvvv ELECTR0's IM Code #2 vvvvvvvv
;------------------------------------------------------------

;----------------------------------------------
; Belgrave Square Labs Finishers
[State -2, Death Chamber]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889480) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889480) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 69,0
name = "DeathChamber1"
stateno = 889480
helpertype = normal
ownpal = 1
ID = 889480   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Death Chamber2]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889481) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889481) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 69,0
name = "DeathChamber2"
stateno = 889481
helpertype = normal
ownpal = 1
ID = 889481   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Vapor Chamber]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889482) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889482) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -85,0
name = "VaporChamber1"
stateno = 889482
helpertype = normal
ownpal = 1
ID = 889482   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Vapor Chamber2]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889483) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889483) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 228,0
name = "VaporChamber2"
stateno = 889483
helpertype = normal
ownpal = 1
ID = 889483   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Vapor Chamber Camera Marker]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889478) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889478) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 184,0
name = "VaporChamber3"
stateno = 889478
helpertype = normal
ownpal = 1
ID = 889478   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Vapor Chamber Camera Marker2]
type = Helper
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 = Numhelper(889479) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 = Numhelper(889479) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -41,0
name = "VaporChamber4"
stateno = 889479
helpertype = normal
ownpal = 1
ID = 889479   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Belgrave Square Labs] ;send opponent to Death Chamber
type = TargetState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889480)
trigger1=abs(Rootdist X-Helper(889480),Rootdist X)=[-60,60]
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger2=numhelper(889481)
trigger2=abs(Rootdist X-Helper(889481),Rootdist X)=[-60,60]
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
value = 889485
persistent = 0

[State -2, Time Warp] ;player 1 go to time warp
type = ChangeState
triggerall = movehit
trigger1=numhelper(889480)
trigger1=abs(Rootdist X-Helper(889480),Rootdist X)=[-60,60]
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger2=numhelper(889481)
trigger2=abs(Rootdist X-Helper(889481),Rootdist X)=[-60,60]
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
value = 889493
ctrl = 0

[State -2, Belgrave Square Labs2] ;send opponent to Vapor Chamber
type = TargetState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889482)
trigger1=abs(Rootdist X-Helper(889482),Rootdist X)=[-50,50]
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger2=numhelper(889483)
trigger2=abs(Rootdist X-Helper(889483),Rootdist X)=[-50,50]
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
value = 889494
persistent = 0

[State -2, Time Warp2] ;player 1 go to Time Warp
type = ChangeState
triggerall = movehit
trigger1=numhelper(889482)
trigger1=abs(Rootdist X-Helper(889482),Rootdist X)=[-50,50]
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger2=numhelper(889483)
trigger2=abs(Rootdist X-Helper(889483),Rootdist X)=[-50,50]
trigger2 = stagevar(info.name) = "Belgrave Square Labs"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
value = 889498
ctrl = 0

[State -2, AssertSpecial]
type = AssertSpecial
trigger1 = 1
trigger1 = stagevar(info.name) = "Belgrave Square Labs"
trigger1  = roundno != 1
flag = nokoslow

;-----------------------------------------------------
;SurfJet
[State -2, SurfJetidle]
type = Explod
trigger1 = NumExplod(77447) = 0
trigger1 = time <= 1
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = 1
anim = F89156
ID = 77447
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, SurfJetidle]
type = Explod
trigger1 = NumExplod(77447) = 0
trigger1 = time <= 1
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = -1
anim = F89156
ID = 77447
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = -10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, JetRemover]
type = RemoveExplod
trigger1 = Pos Y < 0 
trigger1 = time >=0
id = 77447

[State -2, SurfJetJump]
type = Explod
trigger1 = NumExplod(77448) = 0
trigger1 = time <= 1
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = 1
anim = F89157
ID = 77448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, SurfJetJump]
type = Explod
trigger1 = NumExplod(77448) = 0
trigger1 = time <= 1
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = -1
anim = F89157
ID = 77448
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, JetJumpRemover]
type = RemoveExplod
trigger1 = Pos Y = 0 
trigger1 = time >=0
trigger2 = NumExplod(77447) = 1
id = 77448

[State -2, SurfJetSplash]
type = Explod
trigger1 = Pos Y = 0
trigger1 = (GameTime % 10) = 0
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = 1
anim = F89158
ID = 77449
pos = -16,21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 32
supermove = 99999
pausemove = 99999
scale = 2,2
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, SurfJetSplash]
type = Explod
trigger1 = Pos Y = 0
trigger1 = (GameTime % 10) = 0
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = facing = -1
anim = F89158
ID = 77449
pos = 16,21
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = 1
removetime = 32
supermove = 99999
pausemove = 99999
scale = 2,2
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, AiroJetSpawner]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger1 = Numhelper(889500) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Distruction_Surfing"
trigger2 = Numhelper(889500) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -350,0
name = "FarAiroJetSpawn"
stateno = 889500
helpertype = normal
ownpal = 1
ID = 889500   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;-----------------------------------------
;Shin Forest Stuff
[State -2, Shin TimeBox]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889520) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889520) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 1500,0
name = "ShinTimebox1"
stateno = 889520
helpertype = normal
ownpal = 1
ID = 889520   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin TimeBox2]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889525) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889525) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -1205,0
name = "ShinTimebox2"
stateno = 889525
helpertype = normal
ownpal = 1
ID = 889525   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin TimeBox3]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889530) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889530) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 494,0
name = "ShinTimebox3"
stateno = 889530
helpertype = normal
ownpal = 1
ID = 889530   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin Knife]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889535) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889535) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 860,0
name = "ShinKnife1"
stateno = 889535
helpertype = normal
ownpal = 1
ID = 889535   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin Knife2]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889546) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889546) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -550,0
name = "ShinKnife2"
stateno = 889546
helpertype = normal
ownpal = 1
ID = 889546   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin Pow1]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889556) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889556) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -1790,0
name = "ShinPow1"
stateno = 889556
helpertype = normal
ownpal = 1
ID = 889556   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Shin Pow2]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889563) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889563) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 1970,0
name = "ShinPow2"
stateno = 889563
helpertype = normal
ownpal = 1
ID = 889563   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, KnifeTossHelper]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = NumHelper(889542) >= 1
trigger1 = movetype != H
trigger1 = movetype != A
trigger1 = StateType != C
trigger1 = StateType != L
trigger1 = P2BodyDist X > 70
trigger1 = command = "x"
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = NumHelper(889553) >= 1
trigger2 = movetype != H
trigger2 = movetype != A
trigger2 = StateType != C
trigger2 = StateType != L
trigger2 = P2BodyDist X > 70
trigger2 = command = "x"
helpertype = normal ;player
name = "shinknifeToss1"
ID = 889545
stateno = 889545
pos = -5,-75
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1

[State -2, KnifeTossHelper]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = NumHelper(889542) >= 1
trigger1 = movetype != H
trigger1 = movetype != A
trigger1 = StateType = C
trigger1 = StateType != L
trigger1 = P2BodyDist X > 70
trigger1 = command = "x"
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = NumHelper(889553) >= 1
trigger2 = movetype != H
trigger2 = movetype != A
trigger2 = StateType = C
trigger2 = StateType != L
trigger2 = P2BodyDist X > 70
trigger2 = command = "x"
helpertype = normal ;player
name = "shinknifeToss1Low"
ID = 889555
stateno = 889555
pos = -5,-40
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
ignorehitpause = 1

[State -2, ShinHatGuy]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = (GameTime % 600) = random%27
trigger1 = teamside = 2
trigger1 = Numhelper(889571) = 0 ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = (GameTime % 600) = random%27
trigger2 = teamside = 2
trigger2 = Numhelper(889571) = 0 ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -800,0
postype = p1
name = "ShinHatGuy"
stateno = 889571 + random%2
helpertype = normal
ownpal = 1
ID = 889571

[State -2, ShinGirl]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = (GameTime % 1300) = random%27
trigger1 = teamside = 2
trigger1 = Numhelper(889582) = 0 ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = (GameTime % 1300) = random%27
trigger2 = teamside = 2
trigger2 = Numhelper(889582) = 0 ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
Pos = 0,-450
postype = p1 ;left
name = "ShinGirl"
stateno = 889582 + random%2
helpertype = normal
ownpal = 1
ID = 889582

[State -2, ShinNinjaSpawner]
type = Helper
trigger1 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger1 = Numhelper(889600) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Shinobi_Zeed_Ressurection_Forest"
trigger2 = Numhelper(889600) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 0,0
name = "ShinNinjaSpawner"
stateno = 889600
helpertype = normal
ownpal = 1
ID = 889600   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;------------------------------------------------
;Sheeps
[State -2, Sheep]
type = Helper
trigger1 = stagevar(info.name) = "Mareep"
trigger1 = Numhelper(889632) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = Pos Y = 0
;trigger1 = TeamMode != simul
Pos = 0,0
name = "sheep"
stateno = 889632
helpertype = normal
ownpal = 1
ID = 889632   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;-----------------------------------------
;Pit 1 Fatality
[State -2, Pit1Fatality] ;send opponent to Death Chamber
type = TargetState
triggerall = movehit
trigger1 = stagevar(info.name) = "The Pit"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger1 = StateType != A
trigger2 = stagevar(info.name) = "SF1 China"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
trigger2 = StateType != A
trigger3 = stagevar(info.name) = "The Pit I"
trigger3 =p2life=0
trigger3=MatchOver
trigger3=P2Dist Y =0
trigger3 = StateType != A
value = 889660
persistent = 0

[State -2, Pit1Fatality] ;player 1 go to time warp
type = ChangeState
triggerall = movehit
trigger1 = stagevar(info.name) = "The Pit"
trigger1 =p2life=0
trigger1=MatchOver
trigger1=P2Dist Y =0
trigger1 = StateType != A
trigger2 = stagevar(info.name) = "SF1 China"
trigger2 =p2life=0
trigger2=MatchOver
trigger2=P2Dist Y =0
trigger2 = StateType != A
trigger3 = stagevar(info.name) = "The Pit I"
trigger3 =p2life=0
trigger3=MatchOver
trigger3=P2Dist Y =0
trigger3 = StateType != A
value = 889658
ctrl = 0

[State -2, Pit1nokoslow]
type = assertspecial
trigger1  = roundno != 1
trigger1 = stagevar(info.name) = "The Pit"
trigger2  = roundno != 1
trigger2 = stagevar(info.name) = "SF1 China"
trigger3  = roundno != 1
trigger3 = stagevar(info.name) = "The Pit I"
flag = nokoslow
flag2 = nokosnd

;----------------------------------------------
;Real Bout Fatal Fury Subway 3
[State -2, RBFFTrain1]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger1 = Numhelper(889665) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger2 = Numhelper(889665) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -446,21
name = "RBFFTrain1"
stateno = 889665
helpertype = normal
ownpal = 1
ID = 889665   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, RBFFTrain2] ;Position marker player 1
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger1 = Numhelper(889671) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger2 = Numhelper(889671) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 648,0
name = "RBFFTrainMarker1"
stateno = 889671
helpertype = normal
ownpal = 1
ID = 889671   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, RBFFTrain2] ;Position marker player 2
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger1 = Numhelper(889676) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger2 = Numhelper(889676) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -508,0
name = "RBFFTrainMarker2"
stateno = 889676
helpertype = normal
ownpal = 1
ID = 889676   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, RBFFSubway3Finisher] ;send opponent to train death
type = TargetState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889671)
trigger1=abs(Rootdist X-Helper(889671),Rootdist X)=[1,300]
trigger1 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger1 =p2life=0
trigger1=MatchOver
trigger2=numhelper(889676)
trigger2=abs(Rootdist X-Helper(889676),Rootdist X)=[1,300]
trigger2 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger2 =p2life=0
trigger2=MatchOver
value = 889672
persistent = 0
ignorehitpause = 1

[State -2, RBFFSubway3Finisher] ;player walk away from train path
type = ChangeState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889671)
trigger1=abs(Rootdist X-Helper(889671),Rootdist X)=[1,300]
trigger1 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger1 =p2life=0
trigger1=MatchOver
trigger2=numhelper(889676)
trigger2=abs(Rootdist X-Helper(889676),Rootdist X)=[1,300]
trigger2 = stagevar(info.name) = "Ultimate_RBFF_Subway_3"
trigger2 =p2life=0
trigger2=MatchOver
value = 889675
ctrl = 0
ignorehitpause = 1

;------------------------
; FF West Side barrel Health
[State -2, barrel1 WestSide Health]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889440) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 602,-15
name = "Barrel1"
stateno = 889440
helpertype = normal
ownpal = 1
ID = 889440   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, barrel2 WestSide Energy]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889680) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 545,-15
name = "Barrel2"
stateno = 889680
helpertype = normal
ownpal = 1
ID = 889680   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Trashcan WestSide Energy]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889690) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 1267,-14
name = "trashcanWSEnergy"
stateno = 889690
helpertype = normal
ownpal = 1
ID = 889690   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Trashcan WestSide Empty]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889700) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 1315,-14
name = "trashcanWSEmpty"
stateno = 889700
helpertype = normal
ownpal = 1
ID = 889700   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Trashcan2 WestSide Empty]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889706) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 330,23
name = "trashcan2WSEmpty"
stateno = 889706
helpertype = normal
ownpal = 1
ID = 889706   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Wall 1 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889712) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -255,0
name = "Wall1"
stateno = 889712
helpertype = normal
ownpal = 1
ID = 889712  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Wall 2 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889713) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 208,0
name = "Wall2"
stateno = 889713
helpertype = normal
ownpal = 1
ID = 889713  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Wall 3 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889714) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 943,0
name = "Wall3"
stateno = 889714
helpertype = normal
ownpal = 1
ID = 889714  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Door 1 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889715) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889715) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0 
Pos = -255,0
name = "WSDoor1"
stateno = 889715
helpertype = normal
ownpal = 1
ID = 889715  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Door 2 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889717) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889717) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id 
trigger2 = Pos Y = 0
Pos = 208,0
name = "WSDoor2"
stateno = 889717
helpertype = normal
ownpal = 1
ID = 889717  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Door 3 WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 943,0
name = "WSDoor3"
stateno = 889719
helpertype = normal
ownpal = 1
ID = 889719  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Edi E WestSide]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889724) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -1000,0
name = "WSEdiE"
stateno = 889724
helpertype = normal
ownpal = 1
ID = 889724  ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Surf Sign1]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889743) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -970,-9
name = "Surfsign1"
stateno = 889743
helpertype = normal
ownpal = 1
ID = 889743   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, Surf Sign2]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger1 = Numhelper(889749) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_FF_Westside"
trigger2 = Numhelper(889719) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 662,-7
name = "Surfsign2"
stateno = 889749
helpertype = normal
ownpal = 1
ID = 889749   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;-----------------------------------------------------
; Water Splash for YDA_Forest-of_Desolation stage by Yoda & Elk
[State -2, Desolationplash2fall]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "YDA_Forest-of_Desolation"
trigger1 = stateno = 5100 || stateno = 5110
anim = F89226
ID = 7448
pos = 0,-12
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 27
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 52
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, Desolationplash2jump]
type = Explod
trigger1 = time = 1
trigger1 = stagevar(info.name) = "YDA_Forest-of_Desolation"
trigger1 = stateno = 40 || stateno = 52
anim = F89225
ID = 7448
pos = 0,-12
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 21
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 52
ontop = 0
ownpal = 1
removeongethit = 0

[State -2, watersplash2idle]
type = Explod
trigger1 = NumExplod(77446) = 0
trigger1 = Pos Y = 0
trigger1 = stagevar(info.name) = "YDA_Forest-of_Desolation"
anim = F89224
ID = 77446
pos = 0,-12
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
supermove = 99999
pausemove = 99999
scale = 1,1
sprpriority = 51
ontop = 0
ownpal = 1
removeongethit = 0

;--------------------------------------
;Train Floor for Vagnad Stage
[State -2, Vagnad Stage finisher floor]
type = Helper
trigger1 = stagevar(info.name) = "Vagnad Stage"
trigger1 = Numhelper(889315) = 0 ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Vagnad Stage"
trigger2 = Numhelper(889315) = 0 ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
helpertype = normal ;player
name = "Vagnadstagefinisher"
ID = 889315       ;Numhelper and ID have to be the same
stateno = 889315
pos = 0,0
postype = left
facing = 1
ownpal = 1
supermove = 999999999
pausemove = 999999999

;--------------------------------------------
;Railing for Capcom Building Stage
[State -2, Capcom Builing Stage finisher Railing]
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_Capcom_Building"
trigger1 = Numhelper(889758) = 0 ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = roundno != 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_Capcom_Building"
trigger2 = Numhelper(889758) = 0 ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = roundno != 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
helpertype = normal ;player
name = "CBRailstagefinisher"
ID = 889758       ;Numhelper and ID have to be the same
stateno = 889758
pos = 0,0
postype = left
facing = 1
;keyctrl = 0
ownpal = 1
supermove = 999999999
pausemove = 999999999

;------------------------------------------
;Spiked Wall for Death Match Needle stage
[State -2, deathmatchspikes]
type = Helper
trigger1 = stagevar(info.name) = "DEATH MATCH NEEDLE"
trigger1 = Numhelper(889759) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "DEATH MATCH NEEDLE"
trigger2 = Numhelper(889759) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -500,0
name = "SpikedWall"
stateno = 889759
helpertype = normal
ownpal = 1
ID = 889759   ;Numhelper and ID have to be the same

;--------------------------------------------------
;USSR stage finisher stuff
[State -2, USSRstagefinisher] ;Position marker player 1
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_USSR" 
trigger1 = Numhelper(889761) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_USSR" 
trigger2 = Numhelper(889761) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 70,0
name = "USSRMarker1"
stateno = 889761
helpertype = normal
ownpal = 1
ID = 889761   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, USSRstagefinisher] ;Position marker player 2
type = Helper
trigger1 = stagevar(info.name) = "Ultimate_USSR" 
trigger1 = Numhelper(889762) = 0   ;Numhelper and ID have to be the same
trigger1 = teamside = 2
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Ultimate_USSR" 
trigger2 = Numhelper(889762) = 0   ;Numhelper and ID have to be the same
trigger2 = teamside = 2
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 70,0
name = "USSRMarker2"
stateno = 889762
helpertype = normal
ownpal = 1
ID = 889762   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

[State -2, RSSRFinisherReact] ;send opponent to train death
type = TargetState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889761)
trigger1=abs(Rootdist X-Helper(889761),Rootdist X)=[-100,100]
trigger1 = stagevar(info.name) = "Ultimate_USSR" 
trigger1 =p2life=0
trigger1=MatchOver
trigger2=numhelper(889762)
trigger2=abs(Rootdist X-Helper(889762),Rootdist X)=[-100,100]
trigger2 = stagevar(info.name) = "Ultimate_USSR" 
trigger2 =p2life=0
trigger2=MatchOver
value = 889763
persistent = 0
ignorehitpause = 1

[State -2, USSR3Finisher] ;player walk away from train path
type = ChangeState
triggerall = movehit
triggerall = stateno = [200,499]
trigger1=numhelper(889761)
trigger1=abs(Rootdist X-Helper(889761),Rootdist X)=[-100,100]
trigger1 = stagevar(info.name) = "Ultimate_USSR" 
trigger1 =p2life=0
trigger1=MatchOver
trigger2=numhelper(889762)
trigger2=abs(Rootdist X-Helper(889762),Rootdist X)=[-100,100]
trigger2 = stagevar(info.name) = "Ultimate_USSR" 
trigger2 =p2life=0
trigger2=MatchOver
value = 889769
ctrl = 0
ignorehitpause = 1

;---------------------------------
;Electric Ropes for Axel's Fatal Fury 2 stage
[State -2, ElectricRing]
type = Helper
trigger1 = stagevar(info.name) = "Axel Hawk FFS Night"
trigger1 = Numhelper(889770) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Axel Hawk FFS Night"
trigger2 = Numhelper(889770) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -460,0
name = "Electricrope2"
stateno = 889770
helpertype = normal
ownpal = 1
ID = 889770    ;Numhelper and ID have to be the same

;---------------------------------
;Explode Ropes for Neo Deo World Heroes Death Match stage
[State -2, deathmatchfire]
type = Helper
trigger1 = stagevar(info.name) = "DIO DEATH MATCH"
trigger1 = Numhelper(889772) = 0  ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "DIO DEATH MATCH"
trigger2 = Numhelper(889772) = 0  ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = -460,0
name = "Firerope"
stateno = 889772
helpertype = normal
ownpal = 1
ID = 889772  ;Numhelper and ID have to be the same

;------------------------
;Andy Barrel
[State -2, Andy Barrel]
type = Helper
trigger1 = stagevar(info.name) = "Andy's FFS stage(day)"
trigger1 = Numhelper(889240) = 0   ;Numhelper and ID have to be the same
trigger1 = TeamMode != Simul
trigger1 = Pos Y = 0
trigger2 = stagevar(info.name) = "Andy's FFS stage(day)"
trigger2 = Numhelper(889240) = 0   ;Numhelper and ID have to be the same
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
trigger2 = Pos Y = 0
Pos = 350,-3
name = "AndyBarrel"
stateno = 889240
helpertype = normal
ownpal = 1
ID = 889240   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;----------------------------------------------
;VFGowcaizer Fire Flair
[State -2, VFGowcaizer Fire Flair]
type = Helper
trigger1 = stagevar(info.name) = "VFGowcaizer Stage"
trigger1 = Numhelper(889780) = 0 
trigger1 = teamside = 1
trigger1 = TeamMode != Simul
trigger2 = stagevar(info.name) = "VFGowcaizer Stage"
trigger1 = Numhelper(889780) = 0 
trigger2 = teamside = 1
trigger2 = TeamMode = Simul
trigger2 = numpartner = 1 && id<partner,id
Pos = 52,15
name = "FireFlair"
stateno = 889780
helpertype = normal
ownpal = 1
ID = 889780   ;Numhelper and ID have to be the same
size.xscale = 1.0
size.yscale = 1.0

;----------------------------------------
;VVVVVV stage finishers VVVVVV
;----------------------------------------
[State -2, Stage Finisher Andy FF3]
type = TargetState
triggerall = movehit
triggerall = stateno = [200,699] 
trigger1 = stagevar(info.name) = "Howard Arena"
trigger1 =p2life=0
trigger1=MatchOver
trigger1 = P2stateno !=889320
trigger2 = stagevar(info.name) = "Howard Arena Storm"
trigger2 =p2life=0
trigger2=MatchOver
trigger2 = P2stateno !=889320
trigger3 = stagevar(info.name) = "Howard Arena Thunder"
trigger3 =p2life=0
trigger3=MatchOver
trigger3 = P2stateno !=889320
trigger4 = stagevar(info.name) = "VFGowcaizer Stage"
trigger4 =p2life=0
trigger4=MatchOver
trigger4 = P2stateno !=889320
value = 889320
ignorehitpause = 1
persistent = 0

[State -2, Stage Finisher Green Hell]
type = TargetState
triggerall = movehit
triggerall = stateno = [200,699] 
trigger1 = stagevar(info.name) = "Green Hell"
trigger1 =p2life=0
trigger1=MatchOver
trigger1 = P2stateno !=889370
trigger2 = stagevar(info.name) = "Andy's FFS stage(day)"
trigger2 =p2life=0
trigger2=MatchOver
trigger2 = P2stateno !=889370
value = 889370
ignorehitpause = 1
persistent = 0

[State -2, Stage Finisher Deadpool MK]
type = TargetState
triggerall = movehit
triggerall = stateno = [200,699] 
trigger1 = stagevar(info.name) = "The Dead Pool"
trigger1 =p2life=0
trigger1=MatchOver
trigger1 = P2stateno !=889629
value = 889629
ignorehitpause = 1
persistent = 0

[State -2, Stage Finisher Vagnad]
type = TargetState
triggerall = movehit
triggerall = stateno = [200,699] 
trigger1 = stagevar(info.name) = "Vagnad Stage"
trigger1 =p2life=0
trigger1=MatchOver
trigger1 = P2stateno !=889310
value = 889310
ignorehitpause = 1
persistent = 0

[State -2, Stage Finisher Capcom Building]
type = TargetState
triggerall = movehit
triggerall = stateno = [200,699] 
trigger1 = stagevar(info.name) = "Ultimate_Capcom_Building"
trigger1 =p2life=0
trigger1=MatchOver
trigger1 = P2stateno !=889755
value = 889755
ignorehitpause = 1
persistent = 0

;--------------------------------------
;Remove Explod from Slam Masters Intros
[State -2, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 0
trigger1 = stagevar(info.name) = "Slam Masters LA" || stagevar(info.name) = "Slam Masters LA Ringout"
ID = 889775
ignorehitpause = 1


;---------------------------------------
;^^^^^^ stage finishers^^^^^^
;---------------------------------------

;-------------------------------------------------------------
;^^^^^^^ ELECTR0's IM Code ^^^^^^^^
;-------------------------------------------------------------	

[Statedef -3,-3]

[State -3, Gametime]
type = Varset
trigger1 = 1
var(58) = gametime
ignoreHitPause = 1

[State -3, Esaka Attack Down]
type = AttackMulSet
trigger1 = numhelper(970) != 0
value = 0.7

[State -3, Esaka Defence Down]
type = DefenceMulSet
trigger1 = numhelper(980) != 0
trigger1 = life < 350
value = 1+(numhelper(980)*.4)

[State 0, Esaka Defence Down]
type = LifeAdd
trigger1 = numhelper(980) != 0
trigger1 = enemynear,movehit
trigger1 = movetype = H
trigger1 = life >= 350
value = ceil(GetHitVar(damage)*(numhelper(980)*-.4))
kill = 0

[State -3, Prevent Undergound Juggles]
type= targetbind
trigger1= movehit=1
trigger1= numtarget=1 && numenemy
trigger1= (target,time<=1) && (target,ID=enemynear,ID)
trigger1= !(target,hitshakeover) && (target, hitfall) && (target, pos y>0)
pos= ceil(p2dist x), ceil(-pos y)
ignorehitpause= 1

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
trigger3 = stateno = 452
value = 40, 0

[State -3, After Image Time]
type = AfterImageTime
trigger1 = movetype = H
trigger2 = stateno = [0,99]
trigger2 = stateno != 50
trigger3 = stateno = [5000,5999]
trigger4 = stateno = 106
Time = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = Movetype = H
channel = 7

[State -3, Stand/Air Light/Med Hit Voice]
type=PlaySnd
triggerall=random < 700
triggerall = Lose = 0
triggerall=time = 1
triggerall=stateno = 5000 || stateno = 5010 || stateno = 5020
trigger1=anim = 5000
trigger2=anim = 5001
trigger3=anim = 5010
trigger4=anim = 5011
value=s5000,(0+random%3)
channel = 8

[State -3, Stand Hard/Air Hit Voice]
type=PlaySnd
triggerall=random < 700
triggerall = Lose = 0
triggerall=time = 1
triggerall=stateno = 5000 || stateno = 5010 || stateno = 5020
trigger1=anim = 5002
trigger2=anim = 5012
trigger3=anim = 5030
value=s5001,(0+random%3)
channel = 8

[State -3, Crouch Hit Voice]
type=PlaySnd
triggerall=random < 700
triggerall = Lose = 0
trigger1=time = 1
triggerall=stateno = 5000 || stateno = 5010
trigger1=anim = 5022
value=s5002,(0+random%3)
channel = 8

[State -3, Get Hit Voice]
type=PlaySnd
triggerall=random < 700
triggerall = Lose = 0
trigger1=time = 1
trigger1=StateNo = 5020
value=s5003,(0+random%2)
channel = 8

[State -3, Get Hit Voice]
type=PlaySnd
triggerall = Lose = 0
trigger1=random < 500
trigger1=time = 1
trigger1=StateNo = 5030
value=s5004,0
channel = 8

[State -3, Get Tripped/Ground Hit Voice]
type=PlaySnd
triggerall=random < 700
triggerall = Lose = 0
triggerall=time = 1
trigger1=stateno = 5070
trigger2=stateno = 5080
trigger3=stateno = 5090
value=s5004,(1+random%2)
channel = 8

[State -3, Chain Combo Reset]
type = VarSet
trigger1 = 1
var(4) = 0
ignoreHitPause = 1

[State -3, Chain Combo Check]
type = VarSet
trigger1 = var(28) && (StateNo = [200,699]) && MoveContact
trigger2 = var(28) && (StateNo = [1000,2999]) && StateType != A && (MoveContact || var(18))
var(4) = 1
ignoreHitPause = 1

[State -3, Cancel Reset]
type = VarSet
trigger1 = 1
var(6) = 0
ignoreHitPause = 1

[State -3, Cancel Check]
type = VarSet
trigger1 = var(28) && (StateNo = [200,699])
trigger2 = var(28) && (StateNo = [1000,2999]) && (MoveContact || var(18))
trigger3 = (StateNo = [200,699]) && Time <= 2
trigger4 = StateNo = 200
trigger5 = StateNo = 205
trigger6 = StateNo = 215 && AnimElemTime(6) < 0
trigger7 = StateNo = 225 && AnimElemTime(7) < 0
trigger8 = StateNo = 230
trigger9 = StateNo = 245 && AnimElemTime(5) < 0
trigger10 = StateNo = 255 && AnimElemTime(6) < 0
trigger11 = StateNo = 400
trigger12 = StateNo = 410 && AnimElemTime(5) < 0
trigger13 = StateNo = 420 && AnimElemTime(7) < 0 && AnimElemTime(3) >= 0
trigger14 = StateNo = 430
trigger15 = StateNo = 440 && AnimElemTime(6) < 0
trigger16 = StateNo = 450 && AnimElemTime(5) < 0
var(6) = 1
ignoreHitPause = 1

[State -3, Super Cancel Reset]
type = VarSet
trigger1 = 1
var(7) = 0
ignoreHitPause = 1

[State -3, Super Cancel Check]
type = VarSet
trigger1 = var(28) && (StateNo = [200,699])
trigger2 = var(28) && (StateNo = [1000,2999]) && (MoveContact || var(18))
trigger3 = (StateNo = [200,699]) && Time <= 2
trigger4 = StateNo = 200
trigger5 = StateNo = 205
trigger6 = StateNo = 215 && (AnimElemTime(6) < 0 || (MoveContact = [1,8]))
trigger7 = StateNo = 225 && (AnimElemTime(7) < 0 || (MoveContact = [1,8]))
trigger8 = StateNo = 230
trigger9 = StateNo = 245 && (AnimElemTime(5) < 0 || (MoveContact = [1,8]))
trigger10 = StateNo = 255 && (AnimElemTime(6) < 0 || (MoveContact = [1,8]))
trigger11 = StateNo = 400
trigger12 = StateNo = 410 && (AnimElemTime(5) < 0 || (MoveContact = [1,8]))
trigger13 = StateNo = 420 && (AnimElemTime(7) < 0 || (MoveContact = [1,8]))
trigger14 = StateNo = 430
trigger15 = StateNo = 440 && (AnimElemTime(6) < 0 || (MoveContact = [1,8]))
trigger16 = StateNo = 450 && (AnimElemTime(6) < 0 || (MoveContact = [1,8]))
trigger17 = (StateNo = [1000,1030]) && (AnimElemTime(5) = [1,8])
trigger18 = (StateNo = [1100, 1130]) && AnimElemTime(4) < 0
trigger19 = StateNo = 1400 && AnimElemTime(8) < 0
trigger20 = StateNo = 1405 && AnimElemTime(6) < 0
trigger21 = StateNo = 1410 && AnimElemTime(6) < 0
trigger22 = StateNo = 1420 && AnimElemTime(7) < 0
trigger23 = StateNo = 1430 && AnimElemTime(15) < 0
var(7) = 1
ignoreHitPause = 1

[State -3, Hyper Cancel Reset]
type = VarSet
trigger1 = 1
var(8) = 0
ignoreHitPause = 1

[State -3, Hyper Cancel Reset]
type = VarSet
trigger1 = StateNo = 3000 && AnimElemTime(13) >= 0 && AnimElemTime(15) < 0 && MoveContact
trigger2 = StateNo = 3200 && AnimElemTime(3) >= 0 && AnimElemTime(44) < 0 && MoveContact
var(8) = 1
ignoreHitPause = 1

[State -3, Super Cancel Flag Reset]
type = VarSet
trigger1 = var(21)
trigger1 = (StateNo != [3000,4999]) || MoveType = H
var(21) = 0
ignoreHitPause = 1

[State -3, Hyper Cancel Flag Reset]
type = VarSet
trigger1 = var(22)
trigger1 = (StateNo != [3000,4999]) || MoveType = H
var(22) = 0
ignoreHitPause = 1

[State -3, Esaka KO]
type = Helper
triggerall = NumHelper(8002) = 0
trigger1 = winKO && stateno = [910,930]
helpertype = Normal
name = "Esaka KO"
pos = 0,0
id = 8002
postype = p1
stateno = 8002
size.xscale = 0
size.yscale = 0
keyctrl = 0
ownpal = 1
supermovetime = 999999999
pausemovetime = 999999999
ignorehitpause=1
persistent = 0

[State 0, Nampa Hitspark]
type = Helper
trigger1 =  Projhit1001 = 1
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8013
pos = 110,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Nampa EX Hitspark]
type = Helper
trigger1 = ProjHit1002 = 1
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8013
pos = 140,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Nampa Guardspark]
type = Helper
trigger1 =  Projguarded1001 = 1
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8001
pos = 105,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Nampa EX Guardspark]
type = Helper
trigger1 = Projguarded1002 = 1
helpertype = normal ;player
name = "Spark"
ID = 8000
stateno = 8001
pos = 135,-57
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1
persistent = 0

[State -3, ExFX]
type = varadd
trigger1 = var(25) > 0
var(25) = -1

[State -3, ExFX]
type = varset
trigger1 = (stateno != [1000, 2999]) || movetype = H
var(25) = 0

[State -3, Ex Flash]
type = palfx
trigger1 = !(gametime % 2) && var(25)
time = 1
color = 0
mul = 256, 224, 0
add = 128, 128, 128
ignorehitpause = 1

[State -3, Movement Afterimage]
type = afterimage
triggerall = time = 1 && !var(28)
trigger1 = stateno = 50 && (var(3) = 2 || var(3) = 3)
trigger2 = (stateno = [700, 720])
time = 2
timegap = 1
framegap = 4
length = 9
palbright = 0, 0, 0
palcontrast = 128, 128, 128
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.9, 0.9, 0.9
trans = add1

[State -3, Lv1 Super Afterimage]
type = afterimage
trigger1 = stateno = 3000 && time = 43
trigger2 = stateno = 3010 && time = 43
trigger3 = stateno = 3020 && time = 43
trigger4 = stateno = 3100 && time = 43
trigger5 = stateno = 3300 && time = 43
time = 2
timegap = 1
framegap = 10
length = 21
palbright = 0, 0, 0
palcontrast = 128, 128, 128
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.75, 0.75, 0.75
trans = add1

[State -3, Lv2 Super Afterimage]
type = afterimage
trigger1 = stateno = 3050 && time = 43
trigger2 = stateno = 3150 && time = 43
time = 2
timegap = 1
framegap = 10
length = 21
palbright = 0, 0, 0
palcontrast = 32, 32, 160
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.75, 0.75, 0.75
trans = add1

[State -3, Lv3 Super Afterimage]
type = afterimage
trigger1 = stateno = 3200 && time = 43
time = 2
timegap = 1
framegap = 10
length = 21
palbright = 0, 0, 0
palcontrast = 160, 32, 32
palpostbright = 0, 0, 0
paladd = 0, 0, 0
palmul = 0.75, 0.75, 0.75
trans = add1

[State -3, supershadowtime]
type = AfterImageTime
trigger1 = (stateno=[3000,4999]) && AnimElemTime(1) >= 0
trigger2 = (stateno=[2000,2999]) && AnimElemTime(1) >= 0
trigger3 = (stateno=[700,720]) && AnimElemTime(1) >= 0
time = 2

[State -3, Prevent Crossup]
type=width
trigger1= 1
edge=8,0
ignorehitpause=1

[State -3, Super Finish]
type = helper
triggerall = winKO
triggerall = roundstate = 3 && !numhelper(8600)
trigger1 = MoveHit = 1 && (StateNo = [3000,3999])
trigger1 = var(23) := stateno
trigger2 = StateNo = 3000
trigger2 = var(23) := 3000
trigger3 = StateNo = 3010
trigger3 = var(23) := 3010
trigger4 = StateNo = 3020
trigger4 = var(23) := 3020
trigger5 = StateNo = 3300
trigger5 = var(23) := 3300
stateno = 8600
ID = 8600
name = "Super Finish"
postype = left
pos = 160, -120
ownpal = 1
pausemovetime = 255
supermovetime = 255
ignorehitpause = 1

[State -3, Super KO]
type = Helper
triggerall = NumHelper(8600) = 0
trigger1= anim = 3200
trigger1 = var(23) := stateno
trigger1= winKO && movecontact
trigger2 = WinKO && ProjHit3211 = 1,<15
trigger3 = WinKO && anim = 3225
;trigger4 = winko && movetype = A
helpertype = normal
name = "Super KO"
pos = 160, -120      ;1.0
;pos = 160,0                           ;WinMugen
postype = left
ID = 8600
facing = 1
stateno = 8600
ignorehitpause=1
ownpal = 1
pausemovetime = 255
supermovetime = 255

[State -3, Chain Reset]
type = varset
trigger1 = 1
var(4) = 0
ignorehitpause = 1

[State -3, Chain Check]
type = varset
trigger1 = var(28) && (StateNo = [200,699]) && MoveContact
trigger2 = var(28) && (StateNo = [1000,2999]) && StateType != A && (MoveContact || var(18))
trigger2 = StateNo != [1300,1331]
trigger3 = var(28) && (StateNo = 1301 || StateNo = 1331) && StateType != A && (MoveContact || var(18))
trigger3 = (AnimElemTime(41) > 0 && StateNo = 1301) || (AnimElemTime(62) > 0 && StateNo = 1301)
var(4) = 1
ignorehitpause = 1

[State -3, Command Cancel Reset]
type = varset
trigger1 = 1
var(5) = 0
ignorehitpause = 1

[State -3, Command Cancel Check]
type = varset
triggerAll = !var(28)
trigger1 = (StateNo = [200,201]) && MoveContact
trigger2 = StateNo = 210 && MoveContact && AnimElemTime(6) < 0
trigger3 = StateNo = 221 && MoveContact && AnimElemTime(5) < 0
trigger4 = StateNo = 231 && MoveContact
trigger5 = StateNo = 251 && MoveContact && AnimElemTime(7) < 0
trigger6 = StateNo = 400 && MoveContact
trigger7 = StateNo = 410 && MoveContact && AnimElemTime(4) < 0
trigger8 = StateNo = 420 && MoveContact && AnimElemTime(4) < 0
trigger9 = StateNo = 430 && MoveContact
trigger10 = StateNo = 440 && MoveContact && AnimElemTime(5) < 0
trigger11 = StateNo = 450 && MoveContact && AnimElemTime(5) < 0
var(5) = 1
ignorehitpause = 1

[State -3, Cancel Reset]
type = varset
trigger1 = 1
var(6) = 0
ignorehitpause = 1

[State -3, Cancel Check]
type = varset
trigger1 = var(28) && (StateNo = [200,699])
trigger2 = var(28) && (StateNo = [1000,2999]) && (MoveContact || var(18))
trigger3 = (StateNo = [200,699]) && Time <= 2
trigger4 = StateNo = [200,201]
trigger5 = StateNo = 210 && AnimElemTime(6) < 0
trigger6 = StateNo = 221 && AnimElemTime(5) < 0
trigger7 = StateNo = 231
trigger8 = StateNo = 251 && AnimElemTime(7) < 0
trigger9 = StateNo = 400
trigger10 = StateNo = 410 && AnimElemTime(4) < 0
trigger11 = StateNo = 420 && AnimElemTime(4) < 0
trigger12 = StateNo = 430
trigger13 = StateNo = 440 && AnimElemTime(5) < 0
trigger14 = StateNo = 600
trigger15 = StateNo = 630
var(6) = 1
ignorehitpause = 1

[State -3, Super Cancel Reset]
type = varset
trigger1 = 1
var(7) = 0
ignorehitpause = 1
[State -3, Super Cancel Flag Reset]
type = VarSet
trigger1 = var(21)
trigger1 = (StateNo != [3000,4999]) || MoveType = H
var(21) = 0
ignoreHitPause = 1

[State -3, Super Cancel Check]
type = varset
trigger1 = var(28) && (StateNo = [200,699])
trigger2 = var(28) && (StateNo = [1000,2999]) && (MoveContact || var(18))
trigger3 = (StateNo = [200,699]) && Time <= 2
trigger4 = StateNo = [200,201]
trigger5 = StateNo = 210 && (AnimElemTime(6) < 0 || (movecontact = [1, 8]))
trigger6 = StateNo = 219 && (AnimElemTime(7) < 0 || (movecontact = [1, 8]))
trigger7 = StateNo = 220 && (AnimElemTime(5) < 0 || (movecontact = [1, 8]))
trigger8 = StateNo = 221 && (AnimElemTime(5) < 0 || (movecontact = [1, 8]))
trigger9 = StateNo = [230,231]
trigger10 = StateNo = 251 && (AnimElemTime(7) < 0 || (movecontact = [1, 8]))
trigger11 = StateNo = 400
trigger12 = StateNo = 410 && (AnimElemTime(4) < 0 || (movecontact = [1, 8]))
trigger13 = StateNo = 420 && (AnimElemTime(5) < 0 || (movecontact = [1, 8]))
trigger14 = StateNo = 430
trigger15 = StateNo = 440 && (AnimElemTime(5) < 0 || (movecontact = [1, 8]))
trigger16 = StateNo = 450 && (AnimElemTime(5) < 0 || (movecontact = [1, 8]))
trigger17 = (StateNo = [1000,1030]) && (AnimElemTime(4) = [1,8])
trigger18 = Stateno = 1100 && AnimElemTime(4) < 0 && MoveContact
trigger19 = Stateno = 1130 && AnimElemTime(4) < 0 && MoveContact
trigger20 = Stateno = 1301 && AnimElemTime(41) >= 0 && AnimElemTime(42) < 0 && MoveContact
trigger21 = Stateno = 1331 && AnimElemTime(62) >= 0 && AnimElemTime(63) < 0 && MoveContact
var(7) = 1
ignorehitpause = 1

[State -3, Hyper Cancel Reset]
type = varset
trigger1 = 1
var(8) = 0
ignorehitpause = 1

[State -3, Hyper Cancel Reset]
type = varset
trigger1 = stateno = 3110 && AnimElemTime(87) < 0 && MoveContact
var(8) = 1
ignorehitpause = 1

[State -3, Hyper Cancel Flag Reset]
type = varset
trigger1 = var(22)
trigger1 = (stateno != [3000, 4999]) || movetype = H
var(22) = 0
ignorehitpause = 1

[State -3, Parry Detection]
type = helper
triggerall = roundstate = 2 && !numhelper(765) && !var(28)
triggerall = (movetype = I && ctrl) || (stateno = [760, 762]) || stateno = 5120
triggerall = (command != "rlsfwd" && command != "rlsback" && command != "rlsup" && command != "rlsdown") || AIlevel
trigger1 = !AIlevel && (statetype = S || statetype = C || stateno = 5120) && (command = "fwd" || command = "down")
trigger2 = !AIlevel && statetype = A && (var(3) != 1 && var(3) != 2) && command = "fwd"
trigger3 = AIlevel && (stateno != [760, 762]) && inguarddist && random < 50
trigger4 = AIlevel && (stateno = [760, 762]) && time = 14 && random < 667
helpertype = normal
stateno = 765
ID = 765
name = "Parry Detection"
postype = p1
pausemovetime = 65535
supermovetime = 65535

[State -3, Parry Attacks]
type = changestate
trigger1 = (stateno != [760, 762]) && numhelper(765)
trigger1 = helper(765), stateno = 766
value = ifelse((helper(765), anim = 767), 762, ifelse((helper(765), anim = 766), 761, 760))
ignorehitpause = 1

[State -3, Parry Projectiles]
type = hitoverride
trigger1 = (stateno != [760, 762]) && numhelper(765)
trigger1 = !(helper(765), var(0)) && (helper(765), anim = 765)
attr = SA, AP
stateno = 760
slot = 0
time = 1
ignorehitpause = 1

[State -3, Parry Projectiles]
type = hitoverride
trigger1 = (stateno != [760, 762]) && numhelper(765)
trigger1 = !(helper(765), var(0)) && (helper(765), anim = 766)
attr = C, AP
stateno = 761
slot = 0
time = 1
ignorehitpause = 1

[State -3, Parry Projectiles]
type = hitoverride
trigger1 = (stateno != [760, 762]) && numhelper(765)
trigger1 = !(helper(765), var(0)) && (helper(765), anim = 767)
attr = SCA, AP
stateno = 762
slot = 0
time = 1
ignorehitpause = 1

[State -3, NoWalk after Parry]
type = assertspecial
trigger1 = var(26) > 0
trigger1 = var(26) := (var(26) -1)
flag = nowalk
ignoreHitPause = 1

; - KO Sound
[Statedef 8002]
type    = S
anim = 9999

[State 0, PosSet]
type = PosSet
trigger1 = root,alive = 0
x = (root, pos x)
y = (root, pos y)

[State -3, KOSND]
type=PlaySnd
trigger1 = root,alive = 0
value=s11,1+random%5
channel = 8
ignorehitpause=1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,alive = 0

[Statedef 8003, - Esaka KO]
type    = S
anim = 9999

[State 0, PosSet]
type = PosSet
trigger1 = root,alive = 0
x = (root, pos x)
y = (root, pos y)

[State 0, AssertSpecial]
type = null;AssertSpecial
trigger1 =  1
flag = nomusic


;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(2) - StateDef 900, esaka, 901, - override, 940, - recover
; Var(3) - StateDef 900, esaka, 901, - override, 940, - recover
; Var(4) - StateDef 182, - hmmph
; Var(16) - StateDef -2, -2
; Var(17) - StateDef -2, -2
; Var(20) - StateDef -2, -2
; Var(29) - StateDef -2, -2
; Var(30) - StateDef -2, -2
; Var(33) - StateDef 200, 205, - stand jab2, 210, 215, - stand strong2, 220, stand fierce, 225, - stand fierce2, 230, 240, 245, - stand forward2, 250, 255,- overhead kick, 400, 405, - crouch jab2, 410, 415, - crouch strong2, 420, 430, 440, 450, 451, - leaping roundhouse, 452, - leaping roundhouse 2, 600, 610, 620, 630, 640, 650, 701, 702, 703, 910, - high box, 920, - mid box, 930, - low box, 1135, - p1 ekisupo, 1210, tenpou zan m, 1211, - rise, 1220, tenpou zan h, 1221, - rise, 1230, tenpou zan ex, 3010, chou pai-long medium, 3020, chou pai-long hard, 3110, - shoulder charge
; Var(34) - StateDef 200, 205, - stand jab2, 210, 215, - stand strong2, 220, stand fierce, 225, - stand fierce2, 230, 240, 245, - stand forward2, 250, 255,- overhead kick, 400, 405, - crouch jab2, 410, 415, - crouch strong2, 420, 430, 440, 450, 451, - leaping roundhouse, 452, - leaping roundhouse 2, 600, 610, 620, 630, 640, 650, 701, 702, 703, 910, - high box, 920, - mid box, 930, - low box, 1135, - p1 ekisupo, 1210, tenpou zan m, 1211, - rise, 1220, tenpou zan h, 1221, - rise, 1230, tenpou zan ex, 3010, chou pai-long medium, 3020, chou pai-long hard, 3110, - shoulder charge
; Var(35) - StateDef 200, 205, - stand jab2, 210, 215, - stand strong2, 220, stand fierce, 225, - stand fierce2, 230, 240, 245, - stand forward2, 250, 255,- overhead kick, 400, 405, - crouch jab2, 410, 415, - crouch strong2, 420, 430, 440, 450, 451, - leaping roundhouse, 452, - leaping roundhouse 2, 600, 610, 620, 630, 640, 650, 701, 702, 703, 910, - high box, 920, - mid box, 930, - low box, 1135, - p1 ekisupo, 1210, tenpou zan m, 1211, - rise, 1220, tenpou zan h, 1221, - rise, 1230, tenpou zan ex, 3010, chou pai-long medium, 3020, chou pai-long hard, 3110, - shoulder charge
; Var(58) - StateDef -3,-3

;--------------------- Float Variable List ----------------------

; fVar(0) - StateDef 40
; fVar(18) - StateDef -2, -2

