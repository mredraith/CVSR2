; Light Dragon Smash
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,3
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 6
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 2
x = 2

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem= 4
x = 8

[State 1100, AngleDraw]
type = AngleDraw
trigger1 = Anim = 1000
scale = 1.040, 1.040
ignorehitpause =1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0.5*const(Size.xscale)
y = -6.75

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 6

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1000, 1]
type = VelAdd
trigger1 = AnimElemTime(6)>0
y = .5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 5  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 112 < 7, 7, fvar(11) * 112)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -7
air.velocity = -2, -6.5
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 6 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 80 < 7, 7, fvar(11) * 80)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -7
air.velocity = -2, -6.5
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
movetype = I

[State 1200, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1001

;Landing
[Statedef 1001]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1001
velset = 0, 0

[State 1201, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1201, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1201, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

; Z-Counter Dragon Smash
[Statedef 1002]
type = S
movetype = A
physics = S
anim = 1000
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,3
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 6
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 2
x = 2

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem= 4
x = 8

[State 1100, AngleDraw]
type = AngleDraw
trigger1 = Anim = 1000
scale = 1.040, 1.040
ignorehitpause =1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0.5*const(Size.xscale)
y = -6.75

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 6

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1000, 1]
type = VelAdd
trigger1 = AnimElemTime(6)>0
y = .5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 5  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 112 < 7, 7, fvar(11) * 112)), 10
priority = 7, hit
animtype = Diagup
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = DiagUp
fall.animtype = DIagup
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -6.8, -7.5
air.velocity = -6.8,-7.5
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 6 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 80 < 7, 7, fvar(11) * 80)), 10
priority = 6, hit
animtype = Diagup
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Diagup
fall.animtype = Diagup
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -6.8, -7.5
air.velocity = -6.8,-7.5
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
movetype = I

[State 1200, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1001

; Medium Dragon Smash
[Statedef 1010]
type = S
movetype = A
physics = S
anim = 1010
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,3
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 6
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 2
x = 2

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem= 4
x = 8

[State 1100, AngleDraw]
type = AngleDraw
trigger1 = Anim = 1010
scale = 1.040, 1.040
ignorehitpause =1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0.5*const(Size.xscale)
y = -8

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 6

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1000, 1]
type = VelAdd
trigger1 = AnimElemTime(6)>0
y = .5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 5  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 126 < 7, 7, fvar(11) * 126)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5, -7.5
air.velocity = -2.5, -7
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 6 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 94 < 7, 7, fvar(11) * 94)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.5, -7.5
air.velocity = -2.5, -7
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
movetype = I

[State 1200, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1001

; Strong Dragon Smash
[Statedef 1020]
type = S
movetype = A
physics = S
anim = 1020
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,3
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 6
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 2
x = 2

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem= 4
x = 8

[State 1100, AngleDraw]
type = AngleDraw
trigger1 = Anim = 1020
scale = 1.040, 1.040
ignorehitpause =1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0.5*const(Size.xscale)
y = -9.25

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 6

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1000, 1]
type = VelAdd
trigger1 = AnimElemTime(6)>0
y = .5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 5  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 134 < 7, 7, fvar(11) * 134)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3, -8
air.velocity = -3, -7.5
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 6 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 108 < 7, 7, fvar(11) * 108)), 10
priority = 4, hit
animtype = Hard
getpower = 70 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3, -8
air.velocity = -3, -7.5
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
movetype = I

[State 1200, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1001

; EX Dragon Smash
[Statedef 1050]
type = S
movetype = A
physics = S
anim = 1050
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 3

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 20

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 16, -45
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,3
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 6
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(6) < 0
time = 1
value = SCA

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 2
x = 2

[State 1050, Pos]
type = PosAdd
trigger1 = AnimElem = 3 || AnimElem= 4
x = 8

[State 1100, AngleDraw]
type = AngleDraw
trigger1 = Anim = 1050
scale = 1.040, 1.040
ignorehitpause =1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 0.5*const(Size.xscale)
y = -9.5

[State 1000, PosAdd]
type = PosAdd
trigger1 = AnimElem = 6
x = 6

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 1000, 1]
type = VelAdd
trigger1 = AnimElemTime(6)>0
y = .5

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 5  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 70 < 7, 7, fvar(11) * 70)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.16, -8.81
air.velocity = -2.16, -8.81
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 6 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 78 < 7, 7, fvar(11) * 78)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -100
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3.5, -9.5
air.velocity = -3.5, -9
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6 
trigger1 = !movecontact && !movereversed
attr = A, SA
damage = ceil(ifElse(fvar(11) * 113 < 7, 7, fvar(11) * 113)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -3.5, -9.5
air.velocity = -3.5, -9
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(8) >= 0
movetype = I

[State 1200, End]
type = ChangeState
trigger1 = pos y > -vel y
value = 1001

;======================<HIT BY EX KUNG FU PALM>===========================
;Being Launched
[StateDef 1031]
type = A
moveType = H
physics = N
velSet = 0,0

[State 1031, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5002

[State 1031, End]
type = ChangeState
trigger1 = HitShakeOver
value = 1032


;Heading Towards Wall
[StateDef 1032]
type = A
moveType = H
physics = N

[State 1032, HitVelSet]
type = HitVelSet
trigger1 = !Time
x = 1
y = 1

[State 1032, Gravity]
type = VelAdd
trigger1 = 1
y = GetHitVar(yAccel)

[State 1032, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
moveCamera = 0,1

[State 1032, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1032, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifElse(SelfAnimExist(5052), 5052, 5030)

[State 1032, Bounce Off Wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 10 || FrontEdgeBodyDist <= 10
value = 1033

[State 1032, End]
type = SelfState
trigger1 = vel y > 0 && pos y >= 0
value = 5100


;Impacting Wall
[StateDef 1033]
type = A
moveType = H
physics = N

[State 1033, Turn]
type = Turn
trigger1 = !Time
trigger1 = FrontEdgeDist < BackEdgeDist

[State 1033, PosSet]
type = PosSet
trigger1 = 1
x = -160 * Facing

[State 1033, PosFreeze]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1033, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
moveCamera = 0,1

[State 1033, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 1033, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5010

[State 1033, Impact Sound]
type = PlaySnd
trigger1 = !Time
value = F7,0

[State 1033, End]
type = ChangeState
trigger1 = Time >= 4
value = 1034


;Bouncing Off Wall
[Statedef 1034]
type = A
moveType = H
physics = N

[State 1034, Turn]
type = Turn
trigger1 = !Time

[State 1034, Gravity]
type = VelAdd
trigger1 = 1
y = 0.5

[State 1034, VelSet]
type = VelSet
trigger1 = !Time
x = -2.5 ;-2.85
y = -8.5

[State 1034, ChangeAnim]
type = ChangeAnim
trigger1 = !Time
value = ifElse(SelfAnimExist(5051), 5051, 5030)

[State 1034, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5030 && !AnimTime
value = 5050

[State 1034, ChangeAnim]
type = ChangeAnim
trigger1 = vel y > -3 && Anim = 5051 && SelfAnimExist(5061)
value = 5061

[State 1034, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
moveCamera = 0,0

[State 1034, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1034, End]
type = SelfState
trigger1 = vel y > 0 && pos y >= 0
value = 5100

;Light Ryuubi Kyaku
[Statedef 1100]
type = S
movetype = A
physics = S
anim = 1100
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,13
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 5
channel = 1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 2.5
y = -9

[State 1100, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State 1100, Gravity] 
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = .8

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 80 < 7, 7, fvar(11) * 80)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1= !movecontact && !movereversed
trigger1 = AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 80 < 7, 7, fvar(11) * 80)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -26
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

;Landing
[Statedef 1101]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1101
velset = 0, 0

[State 1201, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1201, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1201, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

;Medium Ryuubi Kyaku
[Statedef 1110]
type = S
movetype = A
physics = S
anim = 1110
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,13
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 5
channel = 1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 4
y = -10

[State 1100, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State 1100, Gravity] 
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = .8

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 102 < 7, 7, fvar(11) * 102)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1= !movecontact && !movereversed
trigger1 = AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 102 < 7, 7, fvar(11) * 102)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -26
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

;Strong Ryuubi Kyaku
[Statedef 1120]
type = S
movetype = A
physics = S
anim = 1120
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,13
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 5
channel = 1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 7
y = -11

[State 1100, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State 1100, Gravity] 
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = .8

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 118 < 7, 7, fvar(11) * 118)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1= !movecontact && !movereversed
trigger1 = AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 118 < 7, 7, fvar(11) * 118)), 7
priority = 4, hit
animtype = Hard
getpower = 50 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -26
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

;EX Ryuubi Kyaku
[Statedef 1150]
type = S
movetype = A
physics = S
anim = 1120
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1120, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1120, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1120, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 35

[State 1120, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 0, -75
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,13
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 5
channel = 2

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = ifelse(Abs((P2Dist X -40) / 22)<1.0,1.0,Abs((P2Dist X -40) / 22))
y = -9.75

[State 1100, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State 1100, Gravity] 
type = VelAdd
trigger1 = AnimElemTime(4) > 0
;x = 1.2
y = .8

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 65 < 7, 7, fvar(11) * 65)), 7
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = Null
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 7
attr = A, SA
damage = ceil(ifElse(fvar(11) * 65 < 7, 7, fvar(11) * 65)), 7
priority = 4, hit
animtype = Hard
getpower = 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 65 < 7, 7, fvar(11) * 65)), 7
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -26
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; EX Ryuubi Kyaku 2
[Statedef 1155]
type = S
movetype = A
physics = S
anim = 1155
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1120, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1120, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 2

[State 1120, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 25

[State 1120, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 0, -75
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1100, Voice]
type = PlaySnd
trigger1 = AnimElem = 5
value = 0,13
channel = 0

[State 1100, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1, 5
channel = 1

[State 1100, VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 4
y = -9

[State 1100, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 6

[State 1100, Gravity] 
type = VelAdd
trigger1 = AnimElemTime(4) > 0
y = .8

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 6
attr = A, SA
damage = ceil(ifElse(fvar(11) * 102 < 7, 7, fvar(11) * 102)), 7
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Hit] 
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1= !movecontact && !movereversed
trigger1 = AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 102 < 7, 7, fvar(11) * 102)), 7
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = HA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 10,10
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -26
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7.5
air.velocity = -5.40, 3.24
guard.velocity = -5
airguard.velocity = -5.40, 3.24
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(4) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; Light Tornado
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,12
channel = 0

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
value = 1, 5

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 1200, Width]
type = Width
trigger1 = 1
edge = 20,0
player = 10,10

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 3.6
y = -2

[State 1200, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(2) > 0
y = .13

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 6 || AnimElem = 9
attr = A, SA
damage = ceil(ifElse(fvar(11) * 36 < 7, 7, fvar(11) * 36)), 8
priority = 4, hit
animtype = Hard
getpower = 45 * !var(20), 15 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(10) >= 0
movetype = I

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(3) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; Medium Tornado
[Statedef 1210]
type = S
movetype = A
physics = S
anim = 1210
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,12
channel = 0

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
value = 1, 5

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 1200, Width]
type = Width
trigger1 = 1
edge = 20,0
player = 10,10

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 3.6
y = -2

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 3.6
y = 0

[State 1200, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(10) > 2
y = .13

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12
attr = A, SA
damage = ceil(ifElse(fvar(11) * 31 < 7, 7, fvar(11) * 31)), 8
priority = 4, hit
animtype = Hard
getpower = 25 * !var(20), 10 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(13) >= 0
movetype = I

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(3) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; Strong Tornado
[Statedef 1220]
type = S
movetype = A
physics = S
anim = 1220
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,12
channel = 0

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
value = 1, 5

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 1200, Width]
type = Width
trigger1 = 1
edge = 20,0
player = 10,10

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 3.6
y = -2

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 3.6
y = 0

[State 1200, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(14) > 2
y = .13

[State 1200, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 31 < 7, 7, fvar(11) * 31)), 8
priority = 4, hit
animtype = Hard
getpower = 25 * !var(20), 10 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -90
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2-4]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 10 || AnimElem = 13 || AnimElem = 16
attr = A, SA
damage = ceil(ifElse(fvar(11) * 31 < 7, 7, fvar(11) * 31)), 8
priority = 4, hit
animtype = Hard
getpower = 25 * !var(20), 10 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(17) >= 0
movetype = I

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(3) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; EX Tornado
[Statedef 1250]
type = S
movetype = A
physics = S
anim = 1250
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1220, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1220, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1220, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 40

[State 1220, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 0, -75
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,12
channel = 0

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
trigger3 = AnimElem = 12
trigger4 = AnimElem = 15
value = 1, 5

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 1200, Width]
type = Width
trigger1 = 1
edge = 20,0
player = 10,10

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 4.6
y = -2

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 4.6
y = 0

[State 1200, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(14) > 2
y = .13

[State 1200, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 5
attr = A, SA
damage = ceil(ifElse(fvar(11) * 42 < 7, 7, fvar(11) * 42)), 8
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -90
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2-3]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 10 || AnimElem = 13 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 31 < 7, 7, fvar(11) * 31)), 8
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,8
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 4]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 16
attr = A, SA
damage = ceil(ifElse(fvar(11) * 31 < 7, 7, fvar(11) * 31)), 8
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 10,10
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(17) >= 0
movetype = I

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(3) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; EX Tornado 2
[Statedef 1255]
type = S
movetype = A
physics = S
anim = 1255
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1220, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1220, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1220, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 39

[State 1220, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 0, -75
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0,12
channel = 0

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 13
trigger5 = AnimElem = 16
value = 1, 5
channel = 2

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 3
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 3
stateType = A
physics = N

[State 1200, Width]
type = Width
trigger1 = 1
edge = 20,0
player = 10,10

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 3
x = 4.6
y = -2

[State 1200, VelSet]
type = VelSet
trigger1 = AnimElem = 6
x = 4.6
y = 0

[State 1200, VelAdd]
type = VelAdd
trigger1 = AnimElemTime(15) > 2
y = .13

[State 1200, Hit 1-4]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12 || AnimElem = 14
attr = A, SA
damage = ceil(ifElse(fvar(11) * 25 < 7, 7, fvar(11) * 25)), 8
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 8,12
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -7, 0
air.velocity = -7,-5
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 5]
type = HitDef
trigger1 = !var(16) && var(15) < 4
trigger1 = AnimElem = 17
attr = A, SA
damage = ceil(ifElse(fvar(11) * 38 < 7, 7, fvar(11) * 38)), 8
priority = 4, hit
animtype = Diagup
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 24,24
guard.pausetime = 8,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -90
air.animtype = Diagup
fall.animtype = Diagup
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -8, -6
air.velocity = -8,-5
guard.velocity = -8
airguard.velocity = -8, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 18
envshake.ampl = 7
envShake.freq = 120

[State 1200, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(18) >= 0
movetype = I

[State 1100, Land] 
type = ChangeState
triggerall = AnimElemTime(3) > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1101

; Light Sean Tackle
[Statedef 1300]
type = S
movetype = I
physics = S
anim = 1300
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 110, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 2
channel = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,14
channel = 0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 2
x = 9.25

[State 1300, VelSet]
type = Velset
trigger1 = AnimElem = 4
x = 0

[State 1300, Attempt]
type = ChangeState
triggerall = Time = [16,19]
trigger1 = Command = "hold_x" || Command = "hold_y" || Command = "hold_z"
value = 1301

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; Attempt
[Statedef 1301]
type = C
movetype = A
physics = C
anim = 1301
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 810, Bind 1]
type = Width
trigger1 = 1
Edge = 85,0

[State 1330, EX Flash]
type = VarSet
triggerall = PrevStateNo = 1350
trigger1 = !Time
var(25) = 4

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,15
channel = 2

[State 1200, StateTypeSet: Standing, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 7
stateType = S
physics = N

[State 1300, VelSet]
type = VelSet
trigger1 = AnimElem = 1
x = 9

[State 0, VelSet]
type = Velset
trigger1 = AnimElem = 2
x = 0

[State 800, Throw 1]
type = Hitdef
triggerall = !Var(51)
triggerall = PrevStateNo != 1350
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 1
attr = C, SA
priority = 3,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = MAF
guardflag = L
numhits = 0
sparkNo = -1 + 0 * (var(33) := 8010)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -30
guard.velocity = -3
p1stateno = 1302
hitsound = s800, 0
guardsound = s130,0
fall = 1
fall.recover = 0

[State 800, Throw 1]
type = Hitdef
triggerall = Var(51)
triggerall = PrevStateNo != 1350
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 1
attr = C, SA
priority = 3,Miss
getpower = 35 * !var(20)
givepower = 0
hitflag = MAF
guardflag = L
numhits = 0
sparkNo = -1 + 0 * (var(33) := 8010)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -30
guard.velocity = -3
p1stateno = 1306
hitsound = s800, 0
guardsound = s130,0
fall = 1
fall.recover = 0

[State 800, EX]
type = Hitdef
triggerall = !Var(51)
triggerall = PrevStateNo = 1350
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 1
attr = C, SA
priority = 3,Miss
getpower = 0,0
givepower = 0
hitflag = MAF
guardflag = L
numhits = 0
sparkNo = -1 + 0 * (var(33) := 8010)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -30
guard.velocity = -3
p1stateno = 1352
hitsound = s800, 0
guardsound = s130,0
fall = 1
fall.recover = 0

[State 800, EX]
type = Hitdef
triggerall = Var(51)
triggerall = PrevStateNo = 1350
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 1
attr = C, SA
priority = 3,Miss
getpower = 0,0
givepower = 0
hitflag = MAF
guardflag = L
numhits = 0
sparkNo = -1 + 0 * (var(33) := 8010)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -30
guard.velocity = -3
p1stateno = 1353
hitsound = s800, 0
guardsound = s130,0
fall = 1
fall.recover = 0

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; Attack
[Statedef 1302]
type = S
movetype = A
physics = S
anim = 1302
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 805, Facing]
type = TargetFacing
trigger1 = 1
value = -1

[State 810, Bind 1]
type = Width
trigger1 = 1
Edge = 40,0

[State 810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1300, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1304

[State 1300, TargetState]
type = TargetState
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
value = 1305

[State 810, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 810, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 14
value = 0,3
channel = 0

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
edge = 50,0

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
pos = 65, 0

[State 1300, TargetBind]
type = BindToTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(17) < 0
pos = 24,0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 830, Shake]
type = EnvShake
trigger1 = Animelem = 11
trigger2 = AnimElem = 15
freq  = 120
time  = 14
ampl  = 4

[State 1006, HitSpark]
type = Helper
trigger1 = Animelem = 11
trigger2 = AnimElem = 15
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P2
pos = -20,-20
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Animelem = 11
trigger2 = AnimElem = 15
value = s2,2
channel = 2

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = NumTarget && Animelem = 11
value = floor(ifElse(65 * fvar(11) < 7, -7, -65 * fvar(11)))
kill = 0

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 15
value = floor(ifElse(65 * fvar(11) < 7, -7, -65 * fvar(11)))
kill = 1

[State 810, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && Animelem = 11
trigger2 = Numtarget && AnimElem = 15
value = 35

[State 810, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 15 && !var(20)
value = 35

[State 810, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 11
trigger2 = NumTarget && AnimElem = 15
value = 1

[State 810, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 11
trigger2 = NumTarget && AnimElem = 15
var(13) = 1

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 1303

; Jump Back
[Statedef 1303]
type    = A
movetype= A
physics = N
velset = -3,-6
anim = 1303

[State 1301, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -6

[State 1300, 1] ;Gravity
type = VelAdd
trigger1 = 1
y = .48

[State 1300, 3] ;Change state when KFM is close to ground
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 50

; Target
[Statedef 1304]
type    = L
movetype= H
physics = N
velset = 0,0

[State 1300, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1300, Anim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1304

[State 1300, Gah]
type = SelfState
trigger1 = animtime = 0
value = 5110

; Target 2
[Statedef 1305]
type    = L
movetype= H
physics = N
velset = 0,0

[State 1300, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 1300, Anim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1305

[State 1304, Dead] ;If just died
type = SelfState
triggerall = !alive
trigger1 = Time = 40
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 1300, Alive]
type = SelfState
triggerall = alive
trigger1 = time = 50
value = 5120

; Attack 2
[Statedef 1306]
type = S
movetype = A
physics = S
anim = 1306
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 805, Facing]
type = TargetFacing
trigger1 = 1
value = -1

[State 810, Bind 1]
type = Width
trigger1 = 1
Edge = 40,0

[State 810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1300, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1304

[State 1300, TargetState]
type = TargetState
trigger1 = AnimElem = 11
value = 1305

[State 810, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 810, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 10
value = 0,3
channel = 0

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
edge = 50,0

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
pos = 65, 0

[State 1300, TargetBind]
type = BindToTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(17) < 0
pos = 24,0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 830, Shake]
type = EnvShake
trigger1 = Animelem = 11
freq  = 120
time  = 14
ampl  = 4

[State 1006, HitSpark]
type = Helper
trigger1 = Animelem = 11
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P2
pos = -20,-20
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 5100, 10]
type = PlaySnd
trigger1 = Animelem = 11
value = s2,2
channel = 2

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = NumTarget && Animelem = 11
value = floor(ifElse(130 * fvar(11) < 7, -7, -130 * fvar(11)))
kill = 1

[State 810, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && Animelem = 11
value = 70

[State 810, PowerAdd]
type = PowerAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
value = 70

[State 810, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 11
value = 1

[State 810, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 11
var(13) = 1

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 1303

; Medium Sean Tackle
[Statedef 1310]
type = S
movetype = I
physics = S
anim = 1310
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 110, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 2
channel = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,14
channel = 0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 2
x = 13.25

[State 1300, VelSet]
type = Velset
trigger1 = AnimElem = 4
x = 0

[State 1300, Attempt]
type = ChangeState
triggerall = Time = [16,19]
trigger1 = Command = "hold_x" || Command = "hold_y" || Command = "hold_z"
value = 1301

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; Strong Sean Tackle
[Statedef 1320]
type = S
movetype = I
physics = S
anim = 1320
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 110, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 2
channel = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,14
channel = 0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 2
x = 17.25

[State 1300, VelSet]
type = Velset
trigger1 = AnimElem = 4
x = 0

[State 1300, Attempt]
type = ChangeState
triggerall = Time = [16,19]
trigger1 = Command = "hold_x" || Command = "hold_y" || Command = "hold_z"
value = 1301

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; EX Sean Tackle
[Statedef 1350]
type = S
movetype = I
physics = S
anim = 1320
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1330, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 2
channel = 2

[State 1330, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1330, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 27

[State 1330, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = -10, -42
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 110, Dust Helper]
type = Helper
trigger1 = AnimElem = 2
helperType = Normal
stateNo = 8103
ID = 8100
name = "Dash Dust"
posType = P1
pauseMoveTime = 255
superMoveTime = 255
ownPal = 1

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,14
channel = 0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 2
x = 25.25

[State 1300, VelSet]
type = Velset
trigger1 = AnimElem = 4
x = 0

[State 1300, Attempt]
type = ChangeState
triggerall = Time = [16,19]
trigger1 = Command = "hold_x" || Command = "hold_y" || Command = "hold_z"
value = 1301

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; EX Attack
[Statedef 1352]
type = S
movetype = A
physics = S
anim = 1350
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 805, Facing]
type = TargetFacing
trigger1 = 1
value = -1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 116

[State 810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1300, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1304

[State 1300, TargetState]
type = TargetState
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 27
value = 1305

[State 810, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 810, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 27
value = 0,3
channel = 0

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
edge = 50,0

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
pos = 65, 0

[State 1300, TargetBind]
type = BindToTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(29) < 0
pos = 24,0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 830, Shake]
type = EnvShake
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 27
freq  = 120
time  = 14
ampl  = 4

[State 1006, HitSpark]
type = Helper
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 27
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P2
pos = -20,-20
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
trigger5 = AnimElem = 27
value = s2,2
channel = 2

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 15
trigger3 = AnimElem = 19
trigger4 = AnimElem = 23
value = floor(ifElse(30 * fvar(11) < 7, -7, -30 * fvar(11)))
kill = 0

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 27
value = floor(ifElse(25 * fvar(11) < 7, -7, -25 * fvar(11)))
kill = 1

[State 810, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 15 && !var(20)
trigger3 = NumTarget && AnimElem = 19 && !var(20)
trigger4 = NumTarget && AnimElem = 23 && !var(20)
trigger5 = NumTarget && AnimElem = 27 && !var(20)
value = 15

[State 810, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 15 && !var(20)
trigger3 = NumTarget && AnimElem = 19 && !var(20)
trigger4 = NumTarget && AnimElem = 23 && !var(20)
trigger5 = NumTarget && AnimElem = 27 && !var(20)
value = 1

[State 810, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 15 && !var(20)
trigger3 = NumTarget && AnimElem = 19 && !var(20)
trigger4 = NumTarget && AnimElem = 23 && !var(20)
trigger5 = NumTarget && AnimElem = 27 && !var(20)
var(13) = 1

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 1303

; EX Attack 2
[Statedef 1353]
type = S
movetype = A
physics = S
anim = 1353
ctrl = 0
velset = 0,0
poweradd = 0
sprpriority = 2
facep2 = 0

[State 805, Facing]
type = TargetFacing
trigger1 = 1
value = -1

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 88

[State 810, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 1300, TargetState]
type = TargetState
trigger1 = !Time && NumTarget
value = 1304

[State 1300, TargetState]
type = TargetState
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
trigger3 = AnimElem = 17
value = 1305

[State 810, Safety]
type = ChangeState
trigger1 = !Time && !NumTarget
value = 0
ctrl = 1

[State 810, More Safety]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, Voice]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
trigger3 = AnimElem = 17
value = 0,3
channel = 0

[State 1300, Width]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(4) < 0
edge = 50,0

[State 1300, TargetBind]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
pos = 65, 0

[State 1300, TargetBind]
type = BindToTarget
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(29) < 0
pos = 24,0

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 4
x = 8

[State 1300, VelAdd]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 830, Shake]
type = EnvShake
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
trigger3 = AnimElem = 17
freq  = 120
time  = 14
ampl  = 4

[State 1006, HitSpark]
type = Helper
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
trigger3 = AnimElem = 17
helperType = Normal
stateNo = 8013
ID = 8000
name = "Spark"
posType = P2
pos = -20,-20
facing = -1
ownPal = 1
size.xScale = 1
size.yScale = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1

[State 5100, 10]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
trigger3 = AnimElem = 17
value = s2,2
channel = 2

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 14
value = floor(ifElse(50 * fvar(11) < 7, -7, -50 * fvar(11)))
kill = 0

[State 810, Damage 11]
type = TargetLifeAdd
trigger1 = NumTarget && AnimElem = 17
value = floor(ifElse(45 * fvar(11) < 7, -7, -45 * fvar(11)))
kill = 1

[State 810, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 14 && !var(20)
trigger3 = NumTarget && AnimElem = 17 && !var(20)
value = 15

[State 810, HitAdd]
type = HitAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 14 && !var(20)
trigger3 = NumTarget && AnimElem = 17 && !var(20)
value = 1

[State 810, VarAdd]
type = VarAdd
trigger1 = NumTarget && AnimElem = 11 && !var(20)
trigger2 = NumTarget && AnimElem = 14 && !var(20)
trigger3 = NumTarget && AnimElem = 17 && !var(20)
var(13) = 1

[State 1300, End]
type = ChangeState
trigger1 = !AnimTime 
value = 1303

; Zenten
[Statedef 1400]
type = S
movetype = I
physics = S
anim = 1400
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1400, Button Detect]
type = VarSet
trigger1 = !Time && !AILevel
var(10) = ifElse((command = "x" || command = "rlsx"), 0, ifElse((command = "y" || command = "rlsy"), 1, 2))

[State 1400, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
value = 0,9
channel = 0

[State 1400, Rolling Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 105,0
channel = 1

[State 1400, Roll Dust]
type = Explod
trigger1 = AnimElemTime(4) >= 0
anim = 8104
sprPriority=3
posType = P1
pos = 0,0
vel = 0,0
scale = 0.4,0.4
pauseMovetime = -1
superMoveTime = -1
ownpal = 1

[State 1400, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, HitBy]
type = HitBy
trigger1 = 1
value = ,AT

[State 1400, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AA,AP

[State 1400, 3]
type = Velset
triggerall = !Var(10)
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 4

[State 1400, 3]
type = Velset
triggerall = Var(10) = 1
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 5

[State 1400, 3]
type = Velset
triggerall = Var(10) = 2
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(7) < 0
x = 6

[State 1440, 5]
type = ChangeState
trigger1 = Time = 21 && !Var(10)
trigger2 = Time = 30 && Var(10) = 1
trigger3 = Time = 33 && Var(10) = 2
value = 1401
ctrl = 0

; Zenten Stop
[Statedef 1401]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 1401
ctrl = 0
sprpriority = -1

[State 1400, Vel]
type = Velset
trigger1 = 1
x = 3

[State 1400, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 1400, HitBy]
type = HitBy
trigger1 = Animelem >= 3
value = ,AT,AA,AP

[State 1400, CtrlSet]
type = CtrlSet
trigger1 = AnimElem >= 4
value = 1

[State 1400, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1

; Sean Combination
[Statedef 1500]
type = S
movetype = A
physics = S
anim = 1500
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1430, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1430, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,4
channel = 0

[State 1430, Voice]
type = PlaySnd
trigger1 = AnimElem = 8
value = 0,1
channel = 0

[State 1430, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 9
value = 1, 5

[State 1430, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 1

[State 1430, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 26

[State 1430, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 5, -71
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1201, Land Snd]
type = PlaySnd
trigger1 = AnimElem = 15
value = 52,0
channel = 3

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = AnimElem = 15
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1500, PosAdd]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 6
x = 20

[State 1500, Pos]
type = PosAdd
trigger1 = AnimElem = 10
x = 20

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 6
stateType = A
physics = N

[State 1200, StateTypeSet: Standing, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 14
stateType = S
physics = N

[State 1430, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil(ifElse(fvar(11) * 28 < 7, 7, fvar(11) * 28)), 6
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -75
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4.5, 0
air.velocity = -5,-3.5
guard.velocity = -6
airguard.velocity = -5, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1430, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 4
attr = S, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 6
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 60), var(36) := -80
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -4.5, 0
air.velocity = -5,-3.5
guard.velocity = -6
airguard.velocity = -5, -3
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1430, Hit 3]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 10
attr = S, SA
damage = ceil(ifElse(fvar(11) * 35 < 7, 7, fvar(11) * 35)), 8
priority = 4, hit
animtype = Hard
getpower = 0, 0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 44), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -12, -6
air.velocity = -12, -5
guard.velocity = -12
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120
id = 1500

[State 1430, TargetState]
type = TargetState
trigger1 = MoveHit && NumTarget(1500)
trigger1 = (Target(1500), StateNo = 5000) || (Target(1500), StateNo = 5010) || (Target(1500), StateNo = 5020)
value = 1031
ID = 1500
ignoreHitPause = 1

[State 1430, Juggle Points Reset]
type = VarSet
trigger1 = MoveHit && NumTarget(1500)
var(15) = 0

[State 1430, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(11) >= 0
movetype = I

[State 1430, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; Light Dragon Smash 2
[Statedef 1600]
type = S
movetype = A
physics = S
anim = 1600
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 0,1
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 1600, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 13

[State 1600, Velset]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 1.5
y = -7.5

[State 1600, Velset]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = .5

[State 1600, PosSet]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 1600, Vel]
type = VelSet
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0
y = 0

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 3  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 56 < 7, 7, fvar(11) * 56)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 0.5, -9
air.velocity = 0, -10.0
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 11
attr = A, SA
damage = ceil(ifElse(fvar(11) * 56 < 7, 7, fvar(11) * 56)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -8.5
air.velocity = -4, -1
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifElse(fvar(11) * 44 < 7, 7, fvar(11) * 44)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -9.0
air.velocity = 0, -8
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1200, End]
type = ChangeState
triggerall = AnimElemTime(6)>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1601

; Landing
[Statedef 1601]
type    = S
movetype= I
physics = S
anim = 47
sprpriority = 1
velset = 0,0

[State 1201, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1201, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1600, Ctrl]
type = CtrlSet
trigger1 = AnimElem = 3, 2
value = 1

[State 16000, End]
type = ChangeState
trigger1 = !AnimTime 
value = 0
ctrl = 1

; Medium Dragon Smash 2
[Statedef 1610]
type = S
movetype = A
physics = S
anim = 1600
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 0,1
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 1600, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 13

[State 1600, Velset]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 2.0
y = -8.75

[State 1600, Velset]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = .5

[State 1600, PosSet]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 1600, Vel]
type = VelSet
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0
y = 0

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 3  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 63 < 7, 7, fvar(11) * 63)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 0.5, -10
air.velocity = 0, -10.0
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 11
attr = A, SA
damage = ceil(ifElse(fvar(11) * 63 < 7, 7, fvar(11) * 63)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -8.5
air.velocity = -4, -1
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifElse(fvar(11) * 51 < 7, 7, fvar(11) * 51)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -9.0
air.velocity = 0, -8
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1200, End]
type = ChangeState
triggerall = AnimElemTime(6)>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1601

; Strong Dragon Smash 2
[Statedef 1620]
type = S
movetype = A
physics = S
anim = 1610
ctrl = 0
velset = 0,0
poweradd = 70 * !var(20)
sprpriority = 2
facep2 = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 0,1
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 1600, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 13

[State 1600, Velset]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 2.5
y = -9.75

[State 1600, Velset]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = .5

[State 1600, PosSet]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 1600, Vel]
type = VelSet
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0
y = 0

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 3  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 67 < 7, 7, fvar(11) * 67)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 0.5, -12
air.velocity = 0, -10.0
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 2]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 11
attr = A, SA
damage = ceil(ifElse(fvar(11) * 67 < 7, 7, fvar(11) * 67)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -8.5
air.velocity = -4, -1
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifElse(fvar(11) * 55 < 7, 7, fvar(11) * 55)), 10
priority = 4, hit
animtype = Hard
getpower = 35 * !var(20), 30 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -9.0
air.velocity = 0, -8
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1200, End]
type = ChangeState
triggerall = AnimElemTime(6)>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1601

; EX Dragon Smash 2
[Statedef 1650]
type = S
movetype = A
physics = S
anim = 1610
ctrl = 0
velset = 0,0
poweradd = ifelse(var(20) > 0, 0, -500)
sprpriority = 2
facep2 = 1

[State 1030, MAX Timer Drain]
type = VarAdd
trigger1 = !Time
trigger1 = var(20) > 0
var(20) = -500

[State 1030, EX Sound]
type = PlaySnd
trigger1 = !Time
value = 0, 1000
channel = 3

[State 1030, EX Flash]
type = VarSet
trigger1 = !Time
var(25) = 39

[State 1030, EX FX]
type = Explod
trigger1 = !Time
anim = 8210
sprPriority = 3
posType = p1
pos = 16, -45
scale = 0.5, 0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1000, Voice]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 9
value = 0,1
channel = 0

[State 1000, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = 1, 2
channel = 1

[State 1200, Jump Snd]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40,0
channel = 2

[State 1200, StateTypeSet: Air, No Phys]
type = StateTypeSet
trigger1 = AnimElem = 4
stateType = A
physics = N

[State 1200, Dust Helper]
type = Helper
trigger1 = AnimElem = 4
helperType = Normal
stateNo = 8100
ID = 8100
name = "Jump Dust"
posType = P1
ownPal = 1

[State 1200, Muteki]
type = Nothitby
trigger1 = AnimElemTime(4) < 0
time = 1
value = SCA

[State 1600, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 13

[State 1600, Velset]
type = VelSet
trigger1 = AnimElem = 4, = 1
x = 3.0
y = -10.5

[State 1600, Velset]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = .5

[State 1600, PosSet]
type = PosSet
trigger1 = Vel Y > 0 && Pos Y >= 0
y = 0

[State 1600, Vel]
type = VelSet
trigger1 = Vel Y > 0 && Pos Y >= 0
x = 0
y = 0

[State 1200, Hit 1]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 3  
attr = S, SA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = Low
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2.16, -8.81
air.velocity = -2.16, -8.81
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 1
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 2
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifElse(fvar(11) * 50 < 7, 7, fvar(11) * 50)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -11.5
air.velocity = 0, -11.0
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit 3]
type = HitDef
trigger1 = !var(16) && var(15) < 3
trigger1 = AnimElem = 11
attr = A, SA
damage = ceil(ifElse(fvar(11) * 48 < 7, 7, fvar(11) * 48)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = M
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -8.5
air.velocity = -4, -1
guard.velocity = -8
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .58
fall = 0
air.fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Air Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = !MoveContact
trigger1 = AnimElem = 4
attr = A, SA
damage = ceil(ifElse(fvar(11) * 58 < 7, 7, fvar(11) * 58)), 10
priority = 4, hit
animtype = Hard
getpower = 0,0
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,2
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 40), var(36) := -120
air.animtype = Up
fall.animtype = Up
ground.type = High
air.type = High
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -2, -10
air.velocity = 0, -9
guard.velocity = -8
airguard.velocity = -6, -4
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
fall.recover = 0
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1000, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(12) >= 0
movetype = I

[State 1200, End]
type = ChangeState
triggerall = AnimElemTime(6)>0
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1601

; Airborne Tatsumaki Senpukyaku 
[StateDef 1700]
type = A
physics = A
moveType = A
anim = 1700
ctrl = 0
velset = (Vel x) + ifelse(Vel x >= 0, 1, -1), (Vel y) -1
poweradd = 70 * !var(20)
sprpriority = 1
faceP2 = 0

[State 1240, Button Detect]
type = VarSet
trigger1 = !Time 
var(10) = ifElse((command = "c" || command = "rlsc"), 2, ifElse((command = "b" || command = "rlsb"), 1, 0))

[State 1200, Voice]
type = PlaySnd
trigger1 = AnimElem = 1
value = 0,2
channel = 0

[State 1220, FX]
type = Null
trigger1 = AnimElem = 4
helperType = Normal
stateNo= 1205
ID= 1205
name= "Tatsumaki-FX2"
posType= P1
size.xScale= .5
size.yScale= .5
ownPal= 1

[State 1200, Swing Snd]
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 6
trigger2 = AnimElem = 9 || AnimElem = 12
value = 1, 4

[State 1360, Vel]
type = VelAdd
trigger1 = AnimElem = 1
x = IfElse(Vel x >= 0, 0.8, -0.8)
y = IfElse(Vel y <= 0, (-2 - var(10)) * 0.225, (2 + var(10))* 0.2)

[State 1260, StateTypeSet: Idle]
type = StateTypeSet
trigger1 = AnimElemTime(15) >= 0
moveType = I

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 5 || AnimElem = 11 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 78 < 7, 7, fvar(11) * 78)), 8
priority = 4, hit
animtype = Hard
getpower = 45 * !var(20), 15 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := 80), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = -5.82, -4.75
air.velocity = -5.82, -4.75
guard.velocity = -7
airguard.velocity = -7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1200, Hit]
type = HitDef
trigger1 = !var(16) && var(15) < 1
trigger1 = AnimElem = 8 || AnimElem = 14 
attr = A, SA
damage = ceil(ifElse(fvar(11) * 78 < 7, 7, fvar(11) * 78)), 8
priority = 4, hit
animtype = Hard
getpower = 45 * !var(20), 15 * !var(20)
givepower = 35, 35
guardflag = MA
hitflag = MAF
hitsound = S2,5
guardsound = S130,0
pausetime = 12,12
guard.pausetime = 12,12
sparkNo = -1 + 0 * (var(33) := 8013)
guard.sparkNo = -1 + 0 * (var(34) := 8001)
sparkXY = -10 + 0 * (var(35) := -40), var(36) := -70
air.animtype = Back
fall.animtype = Back
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime  = 18
guard.hittime = 18
ground.velocity = 5.82, -4.75
air.velocity = 5.82, -4.75
guard.velocity = 7
airguard.velocity = 7, -3.5
airguard.ctrlTime = 16
ground.cornerPush.velOff = 0
guard.cornerPush.velOff = 0
air.cornerPush.velOff = 0
yaccel = .5
fall = 1
air.fall = 1
fall.recover = 0
forcestand = 1
palFX.time = 12 * var(9)
palFX.add = 255,255,255
palFX.sinAdd= -255,-255,-255,48
envshake.time = 14
envshake.ampl = 4
envShake.freq = 120

[State 1240, ChangeState]
type = ChangeState
trigger1 = Pos Y > -Vel Y
value = 1701

;Landing
[Statedef 1701]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1701
velset = 0, 0

[State 1201, On Ground]
type = Posset
trigger1 = !Time
Y = 0

[State 1201, Land Snd]
type = PlaySnd
trigger1 = Time = 1
value = 52,0

[State 1201, Landing Dust Explod]
type = Explod
trigger1 = !Time
anim = 8102
sprpriority = -3
postype = P1
scale = 0.5,0.5
pauseMoveTime = -1
superMoveTime = -1
ownPal = 1

[State 1201, End]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1